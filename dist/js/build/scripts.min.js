function handleBlackBerryLocationTimeout(){-1!=bb.blackberryTimeoutId&&bb.error({message:"Timeout error",code:3})}function handleBlackBerryLocation(){if(clearTimeout(bb.blackberryTimeoutId),bb.blackberryTimeoutId=-1,bb.success&&bb.error){if(0==blackberry.location.latitude&&0==blackberry.location.longitude)bb.error({message:"Position unavailable",code:2});else{var t=null;blackberry.location.timestamp&&(t=new Date(blackberry.location.timestamp)),bb.success({timestamp:t,coords:{latitude:blackberry.location.latitude,longitude:blackberry.location.longitude}})}bb.success=null,bb.error=null}}function FastClick(t,e){"use strict";function n(t,e){return function(){return t.apply(e,arguments)}}var i;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,!FastClick.notNeeded(t)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],r=this,s=0,a=o.length;a>s;s++)r[o[s]]=n(r[o[s]],r);deviceIsAndroid&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var o=Node.prototype.removeEventListener;"click"===e?o.call(t,e,n.hijacked||n,i):o.call(t,e,n,i)},t.addEventListener=function(e,n,i){var o=Node.prototype.addEventListener;"click"===e?o.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),i):o.call(t,e,n,i)}),"function"==typeof t.onclick&&(i=t.onclick,t.addEventListener("click",function(t){i(t)},!1),t.onclick=null)}}!function(t,e,n){"use strict";function i(t){return function(){for(var e=arguments[0],n=1,e="["+(t?t+":":"")+e+"] http://errors.angularjs.org/1.2.1/"+(t?t+"/":"")+e;n<arguments.length;n++)e=e+(1==n?"?":"&")+"p"+(n-1)+"="+encodeURIComponent("function"==typeof arguments[n]?arguments[n].toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof arguments[n]?"undefined":"string"!=typeof arguments[n]?JSON.stringify(arguments[n]):arguments[n]);return Error(e)}}function o(t){if(null==t||C(t))return!1;var e=t.length;return 1===t.nodeType&&e?!0:$(t)||x(t)||0===e||"number"==typeof e&&e>0&&e-1 in t}function r(t,e,n){var i;if(t)if(P(t))for(i in t)"prototype"!=i&&"length"!=i&&"name"!=i&&t.hasOwnProperty(i)&&e.call(n,t[i],i);else if(t.forEach&&t.forEach!==r)t.forEach(e,n);else if(o(t))for(i=0;i<t.length;i++)e.call(n,t[i],i);else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i);return t}function s(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(e);return n.sort()}function a(t,e,n){for(var i=s(t),o=0;o<i.length;o++)e.call(n,t[i[o]],i[o]);return i}function u(t){return function(e,n){t(n,e)}}function l(){for(var t,e=Vn.length;e;){if(e--,t=Vn[e].charCodeAt(0),57==t)return Vn[e]="A",Vn.join("");if(90!=t)return Vn[e]=String.fromCharCode(t+1),Vn.join("");Vn[e]="0"}return Vn.unshift("0"),Vn.join("")}function c(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function h(t){var e=t.$$hashKey;return r(arguments,function(e){e!==t&&r(e,function(e,n){t[n]=e})}),c(t,e),t}function f(t){return parseInt(t,10)}function d(t,e){return h(new(h(function(){},{prototype:t})),e)}function p(){}function m(t){return t}function g(t){return function(){return t}}function v(t){return"undefined"==typeof t}function _(t){return"undefined"!=typeof t}function y(t){return null!=t&&"object"==typeof t}function $(t){return"string"==typeof t}function w(t){return"number"==typeof t}function b(t){return"[object Date]"==Zn.apply(t)}function x(t){return"[object Array]"==Zn.apply(t)}function P(t){return"function"==typeof t}function L(t){return"[object RegExp]"==Zn.apply(t)}function C(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function S(t){return t&&(t.nodeName||t.on&&t.find)}function M(t,e,n){var i=[];return r(t,function(t,o,r){i.push(e.call(n,t,o,r))}),i}function T(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1}function k(t,e){var n=T(t,e);return n>=0&&t.splice(n,1),e}function D(t,e){if(C(t)||t&&t.$evalAsync&&t.$watch)throw Wn("cpws");if(e){if(t===e)throw Wn("cpi");if(x(t))for(var n=e.length=0;n<t.length;n++)e.push(D(t[n]));else{n=e.$$hashKey,r(e,function(t,n){delete e[n]});for(var i in t)e[i]=D(t[i]);c(e,n)}}else(e=t)&&(x(t)?e=D(t,[]):b(t)?e=new Date(t.getTime()):L(t)?e=RegExp(t.source):y(t)&&(e=D(t,{})));return e}function E(t,e){e=e||{};for(var n in t)t.hasOwnProperty(n)&&"$$"!==n.substr(0,2)&&(e[n]=t[n]);return e}function A(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var i,o=typeof t;if(o==typeof e&&"object"==o){if(!x(t)){if(b(t))return b(e)&&t.getTime()==e.getTime();if(L(t)&&L(e))return t.toString()==e.toString();if(t&&t.$evalAsync&&t.$watch||e&&e.$evalAsync&&e.$watch||C(t)||C(e)||x(e))return!1;o={};for(i in t)if("$"!==i.charAt(0)&&!P(t[i])){if(!A(t[i],e[i]))return!1;o[i]=!0}for(i in e)if(!o.hasOwnProperty(i)&&"$"!==i.charAt(0)&&e[i]!==n&&!P(e[i]))return!1;return!0}if(!x(e))return!1;if((o=t.length)==e.length){for(i=0;o>i;i++)if(!A(t[i],e[i]))return!1;return!0}}return!1}function O(){return e.securityPolicy&&e.securityPolicy.isActive||e.querySelector&&!(!e.querySelector("[ng-csp]")&&!e.querySelector("[data-ng-csp]"))}function I(t,e){var n=2<arguments.length?Fn.call(arguments,2):[];return!P(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,n.concat(Fn.call(arguments,0))):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function U(t,i){var o=i;return"string"==typeof t&&"$"===t.charAt(0)?o=n:C(i)?o="$WINDOW":i&&e===i?o="$DOCUMENT":i&&i.$evalAsync&&i.$watch&&(o="$SCOPE"),o}function N(t,e){return"undefined"==typeof t?n:JSON.stringify(t,U,e?"  ":null)}function R(t){return $(t)?JSON.parse(t):t}function B(t){return t&&0!==t.length?(t=zn(""+t),t=!("f"==t||"0"==t||"false"==t||"no"==t||"n"==t||"[]"==t)):t=!1,t}function z(t){t=Un(t).clone();try{t.html("")}catch(e){}var n=Un("<div>").append(t).html();try{return 3===t[0].nodeType?zn(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+zn(e)})}catch(i){return zn(n)}}function j(t){try{return decodeURIComponent(t)}catch(e){}}function F(t){var e,n,i={};return r((t||"").split("&"),function(t){t&&(e=t.split("="),n=j(e[0]),_(n)&&(t=_(e[1])?j(e[1]):!0,i[n]?x(i[n])?i[n].push(t):i[n]=[i[n],t]:i[n]=t))}),i}function H(t){var e=[];return r(t,function(t,n){x(t)?r(t,function(t){e.push(W(n,!0)+(!0===t?"":"="+W(t,!0)))}):e.push(W(n,!0)+(!0===t?"":"="+W(t,!0)))}),e.length?e.join("&"):""}function Z(t){return W(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function W(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function Y(t,n){function i(t){t&&a.push(t)}var o,s,a=[t],u=["ng:app","ng-app","x-ng-app","data-ng-app"],l=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;r(u,function(n){u[n]=!0,i(e.getElementById(n)),n=n.replace(":","\\:"),t.querySelectorAll&&(r(t.querySelectorAll("."+n),i),r(t.querySelectorAll("."+n+"\\:"),i),r(t.querySelectorAll("["+n+"]"),i))}),r(a,function(t){if(!o){var e=l.exec(" "+t.className+" ");e?(o=t,s=(e[2]||"").replace(/\s+/g,",")):r(t.attributes,function(e){!o&&u[e.name]&&(o=t,s=e.value)})}}),o&&n(o,s?[s]:[])}function V(n,i){var o=function(){if(n=Un(n),n.injector()){var t=n[0]===e?"document":z(n);throw Wn("btstrpd",t)}return i=i||[],i.unshift(["$provide",function(t){t.value("$rootElement",n)}]),i.unshift("ng"),t=we(i),t.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),t},s=/^NG_DEFER_BOOTSTRAP!/;return t&&!s.test(t.name)?o():(t.name=t.name.replace(s,""),void(Yn.resumeBootstrap=function(t){r(t,function(t){i.push(t)}),o()}))}function q(t,e){return e=e||"_",t.replace(Gn,function(t,n){return(n?e:"")+t.toLowerCase()})}function G(t,e,n){if(!t)throw Wn("areq",e||"?",n||"required");return t}function J(t,e,n){return n&&x(t)&&(t=t[t.length-1]),G(P(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function X(t,e){if("hasOwnProperty"===t)throw Wn("badname",e)}function K(t,e,n){if(!e)return t;e=e.split(".");for(var i,o=t,r=e.length,s=0;r>s;s++)i=e[s],t&&(t=(o=t)[i]);return!n&&P(t)?I(o,t):t}function Q(t){if(t.startNode===t.endNode)return Un(t.startNode);var e=t.startNode,n=[e];do{if(e=e.nextSibling,!e)break;n.push(e)}while(e!==t.endNode);return Un(n)}function te(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=i("$injector"),o=i("ng");return e(e(t,"angular",Object),"module",function(){var t={};return function(i,r,s){if("hasOwnProperty"===i)throw o("badname","module");return r&&t.hasOwnProperty(i)&&(t[i]=null),e(t,i,function(){function t(t,n,i){return function(){return e[i||"push"]([t,n,arguments]),u}}if(!r)throw n("nomod",i);var e=[],o=[],a=t("$injector","invoke"),u={_invokeQueue:e,_runBlocks:o,requires:r,name:i,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:a,run:function(t){return o.push(t),this}};return s&&a(s),u})}})}function ee(t){return t.replace(ni,function(t,e,n,i){return i?n.toUpperCase():n}).replace(ii,"Moz$1")}function ne(t,e,n,i){function o(t){var o,s,a,u,l,c,h=n&&t?[this.filter(t)]:[this],f=e;if(!i||null!=t)for(;h.length;)for(o=h.shift(),s=0,a=o.length;a>s;s++)for(u=Un(o[s]),f?u.triggerHandler("$destroy"):f=!f,l=0,u=(c=u.children()).length;u>l;l++)h.push(Nn(c[l]));return r.apply(this,arguments)}var r=Nn.fn[t],r=r.$original||r;o.$original=r,Nn.fn[t]=o}function ie(t){if(t instanceof ie)return t;if(!(this instanceof ie)){if($(t)&&"<"!=t.charAt(0))throw oi("nosel");return new ie(t)}if($(t)){var n=e.createElement("div");n.innerHTML="<div>&#160;</div>"+t,n.removeChild(n.firstChild),de(this,n.childNodes),Un(e.createDocumentFragment()).append(this)}else de(this,t)}function oe(t){return t.cloneNode(!0)}function re(t){ae(t);var e=0;for(t=t.childNodes||[];e<t.length;e++)re(t[e])}function se(t,e,n,i){if(_(i))throw oi("offargs");var o=ue(t,"events");ue(t,"handle")&&(v(e)?r(o,function(e,n){ei(t,n,e),delete o[n]}):r(e.split(" "),function(e){v(n)?(ei(t,e,o[e]),delete o[e]):k(o[e]||[],n)}))}function ae(t,e){var i=t[Kn],o=Xn[i];o&&(e?delete Xn[i].data[e]:(o.handle&&(o.events.$destroy&&o.handle({},"$destroy"),se(t)),delete Xn[i],t[Kn]=n))}function ue(t,e,n){var i=t[Kn],i=Xn[i||-1];return _(n)?(i||(t[Kn]=i=++Qn,i=Xn[i]={}),void(i[e]=n)):i&&i[e]}function le(t,e,n){var i=ue(t,"data"),o=_(n),r=!o&&_(e),s=r&&!y(e);if(i||s||ue(t,"data",i={}),o)i[e]=n;else{if(!r)return i;if(s)return i&&i[e];h(i,e)}}function ce(t,e){return t.getAttribute?-1<(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" "):!1}function he(t,e){e&&t.setAttribute&&r(e.split(" "),function(e){t.setAttribute("class",qn((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+qn(e)+" "," ")))})}function fe(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(e.split(" "),function(t){t=qn(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",qn(n))}}function de(t,e){if(e){e=e.nodeName||!_(e.length)||C(e)?[e]:e;for(var n=0;n<e.length;n++)t.push(e[n])}}function pe(t,e){return me(t,"$"+(e||"ngController")+"Controller")}function me(t,e,i){for(t=Un(t),9==t[0].nodeType&&(t=t.find("html")),e=x(e)?e:[e];t.length;){for(var o=0,r=e.length;r>o;o++)if((i=t.data(e[o]))!==n)return i;t=t.parent()}}function ge(t,e){var n=si[e.toLowerCase()];return n&&ai[t.nodeName]&&n}function ve(t,n){var i=function(i,o){if(i.preventDefault||(i.preventDefault=function(){i.returnValue=!1}),i.stopPropagation||(i.stopPropagation=function(){i.cancelBubble=!0}),i.target||(i.target=i.srcElement||e),v(i.defaultPrevented)){var s=i.preventDefault;i.preventDefault=function(){i.defaultPrevented=!0,s.call(i)},i.defaultPrevented=!1}i.isDefaultPrevented=function(){return i.defaultPrevented||!1===i.returnValue},r(n[o||i.type],function(e){e.call(t,i)}),8>=In?(i.preventDefault=null,i.stopPropagation=null,i.isDefaultPrevented=null):(delete i.preventDefault,delete i.stopPropagation,delete i.isDefaultPrevented)};return i.elem=t,i}function _e(t){var e,i=typeof t;return"object"==i&&null!==t?"function"==typeof(e=t.$$hashKey)?e=t.$$hashKey():e===n&&(e=t.$$hashKey=l()):e=t,i+":"+e}function ye(t){r(t,this.put,this)}function $e(t){var e,n;return"function"==typeof t?(e=t.$inject)||(e=[],t.length&&(n=t.toString().replace(hi,""),n=n.match(ui),r(n[1].split(li),function(t){t.replace(ci,function(t,n,i){e.push(i)})})),t.$inject=e):x(t)?(n=t.length-1,J(t[n],"fn"),e=t.slice(0,n)):J(t,"fn",!0),e}function we(t){function e(t){return function(e,n){return y(e)?void r(e,u(t)):t(e,n)}}function n(t,e){if(X(t,"service"),(P(e)||x(e))&&(e=d.instantiate(e)),!e.$get)throw fi("pget",t);return f[t+l]=e}function i(t,e){return n(t,{$get:e})}function o(t){var e,n,i,s,a=[];return r(t,function(t){if(!h.get(t)){h.put(t,!0);try{if($(t))for(e=Rn(t),a=a.concat(o(e.requires)).concat(e._runBlocks),n=e._invokeQueue,i=0,s=n.length;s>i;i++){var r=n[i],u=d.get(r[0]);u[r[1]].apply(u,r[2])}else P(t)?a.push(d.invoke(t)):x(t)?a.push(d.invoke(t)):J(t,"module")}catch(l){throw x(t)&&(t=t[t.length-1]),l.message&&l.stack&&-1==l.stack.indexOf(l.message)&&(l=l.message+"\n"+l.stack),fi("modulerr",t,l.stack||l.message||l)}}}),a}function s(t,e){function n(n){if(t.hasOwnProperty(n)){if(t[n]===a)throw fi("cdep",c.join(" <- "));return t[n]}try{return c.unshift(n),t[n]=a,t[n]=e(n)}finally{c.shift()}}function i(t,e,i){var o,r,s,a=[],u=$e(t);for(r=0,o=u.length;o>r;r++){if(s=u[r],"string"!=typeof s)throw fi("itkn",s);a.push(i&&i.hasOwnProperty(s)?i[s]:n(s))}switch(t.$inject||(t=t[o]),e?-1:a.length){case 0:return t();case 1:return t(a[0]);case 2:return t(a[0],a[1]);case 3:return t(a[0],a[1],a[2]);case 4:return t(a[0],a[1],a[2],a[3]);case 5:return t(a[0],a[1],a[2],a[3],a[4]);case 6:return t(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return t(a[0],a[1],a[2],a[3],a[4],a[5],a[6]);case 8:return t(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7]);case 9:return t(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8]);case 10:return t(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9]);default:return t.apply(e,a)}}return{invoke:i,instantiate:function(t,e){var n,o=function(){};return o.prototype=(x(t)?t[t.length-1]:t).prototype,o=new o,n=i(t,o,e),y(n)||P(n)?n:o},get:n,annotate:$e,has:function(e){return f.hasOwnProperty(e+l)||t.hasOwnProperty(e)}}}var a={},l="Provider",c=[],h=new ye,f={$provide:{provider:e(n),factory:e(i),service:e(function(t,e){return i(t,["$injector",function(t){return t.instantiate(e)}])}),value:e(function(t,e){return i(t,g(e))}),constant:e(function(t,e){X(t,"constant"),f[t]=e,m[t]=e}),decorator:function(t,e){var n=d.get(t+l),i=n.$get;n.$get=function(){var t=v.invoke(i,n);return v.invoke(e,null,{$delegate:t})}}}},d=f.$injector=s(f,function(){throw fi("unpr",c.join(" <- "))}),m={},v=m.$injector=s(m,function(t){return t=d.get(t+l),v.invoke(t.$get,t)});return r(o(t),function(t){v.invoke(t||p)}),v}function be(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,i){function o(t){var e=null;return r(t,function(t){e||"a"!==zn(t.nodeName)||(e=t)}),e}function s(){var t,i=n.hash();i?(t=a.getElementById(i))?t.scrollIntoView():(t=o(a.getElementsByName(i)))?t.scrollIntoView():"top"===i&&e.scrollTo(0,0):e.scrollTo(0,0)}var a=e.document;return t&&i.$watch(function(){return n.hash()},function(){i.$evalAsync(s)}),s}]}function xe(t,e,i,o){function s(t){try{t.apply(null,Fn.call(arguments,1))}finally{if(_--,0===_)for(;y.length;)try{y.pop()()}catch(e){i.error(e)}}}function a(t,e){!function n(){r(b,function(t){t()}),w=e(n,t)}()}function u(){L=null,x!=l.url()&&(x=l.url(),r(C,function(t){t(l.url())}))}var l=this,c=e[0],h=t.location,f=t.history,d=t.setTimeout,m=t.clearTimeout,g={};l.isMock=!1;var _=0,y=[];l.$$completeOutstandingRequest=s,l.$$incOutstandingRequestCount=function(){_++},l.notifyWhenNoOutstandingRequests=function(t){r(b,function(t){t()}),0===_?t():y.push(t)};var w,b=[];l.addPollFn=function(t){return v(w)&&a(100,d),b.push(t),t};var x=h.href,P=e.find("base"),L=null;l.url=function(e,n){return h!==t.location&&(h=t.location),e?x!=e?(x=e,o.history?n?f.replaceState(null,"",e):(f.pushState(null,"",e),P.attr("href",P.attr("href"))):(L=e,n?h.replace(e):h.href=e),l):void 0:L||h.href.replace(/%27/g,"'")};var C=[],S=!1;l.onUrlChange=function(e){return S||(o.history&&Un(t).on("popstate",u),o.hashchange?Un(t).on("hashchange",u):l.addPollFn(u),S=!0),C.push(e),e},l.baseHref=function(){var t=P.attr("href");return t?t.replace(/^https?\:\/\/[^\/]*/,""):""};var M={},T="",k=l.baseHref();l.cookies=function(t,e){var o,r,s,a;if(!t){if(c.cookie!==T)for(T=c.cookie,o=T.split("; "),M={},s=0;s<o.length;s++)r=o[s],a=r.indexOf("="),a>0&&(t=unescape(r.substring(0,a)),M[t]===n&&(M[t]=unescape(r.substring(a+1))));return M}e===n?c.cookie=escape(t)+"=;path="+k+";expires=Thu, 01 Jan 1970 00:00:00 GMT":$(e)&&(o=(c.cookie=escape(t)+"="+escape(e)+";path="+k).length+1,o>4096&&i.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+o+" > 4096 bytes)!"))},l.defer=function(t,e){var n;return _++,n=d(function(){delete g[n],s(t)},e||0),g[n]=!0,n},l.defer.cancel=function(t){return g[t]?(delete g[t],m(t),s(p),!0):!1}}function Pe(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new xe(t,i,e,n)}]}function Le(){this.$get=function(){function t(t,n){function o(t){t!=f&&(d?d==t&&(d=t.n):d=t,r(t.n,t.p),r(t,f),f=t,f.n=null)}function r(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw i("$cacheFactory")("iid",t);var s=0,a=h({},n,{id:t}),u={},l=n&&n.capacity||Number.MAX_VALUE,c={},f=null,d=null;return e[t]={put:function(t,e){var n=c[t]||(c[t]={key:t});return o(n),v(e)?void 0:(t in u||s++,u[t]=e,s>l&&this.remove(d.key),e)},get:function(t){var e=c[t];return e?(o(e),u[t]):void 0},remove:function(t){var e=c[t];e&&(e==f&&(f=e.p),e==d&&(d=e.n),r(e.n,e.p),delete c[t],delete u[t],s--)},removeAll:function(){u={},s=0,c={},f=d=null},destroy:function(){c=a=u=null,delete e[t]},info:function(){return h({},a,{size:s})}}}var e={};return t.info=function(){var t={};return r(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function Ce(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function Se(t){var i={},o="Directive",s=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,a=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,l=/^\s*(https?|ftp|mailto|tel|file):/,c=/^\s*(https?|ftp|file):|data:image\//,f=/^(on[a-z]+|formaction)$/;this.directive=function p(e,n){return X(e,"directive"),$(e)?(G(n,"directiveFactory"),i.hasOwnProperty(e)||(i[e]=[],t.factory(e+o,["$injector","$exceptionHandler",function(t,n){var o=[];return r(i[e],function(i,r){try{var s=t.invoke(i);P(s)?s={compile:g(s)}:!s.compile&&s.link&&(s.compile=g(s.link)),s.priority=s.priority||0,s.index=r,s.name=s.name||e,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"A",o.push(s)}catch(a){n(a)}}),o}])),i[e].push(n)):r(e,u(p)),this},this.aHrefSanitizationWhitelist=function(t){return _(t)?(l=t,this):l},this.imgSrcSanitizationWhitelist=function(t){return _(t)?(c=t,this):c},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate",function(t,u,p,v,_,w,b,L,C,S,M){function T(t,e,n,i,o){t instanceof Un||(t=Un(t)),r(t,function(e,n){3==e.nodeType&&e.nodeValue.match(/\S+/)&&(t[n]=Un(e).wrap("<span></span>").parent()[0])});var s=D(t,e,t,n,i,o);return function(e,n,i){G(e,"scope");var o=n?ri.clone.call(t):t;r(i,function(t,e){o.data("$"+e+"Controller",t)}),i=0;for(var a=o.length;a>i;i++){var u=o[i];1!=u.nodeType&&9!=u.nodeType||o.eq(i).data("$scope",e)}return k(o,"ng-scope"),n&&n(o,e),s&&s(e,o,o),o}}function k(t,e){try{t.addClass(e)}catch(n){}}function D(t,e,i,o,r,s){function a(t,i,o,r){var s,a,u,l,c,f,d,p=[];for(c=0,f=i.length;f>c;c++)p.push(i[c]);for(d=c=0,f=h.length;f>c;d++)a=p[d],i=h[c++],s=h[c++],u=Un(a),i?(i.scope?(l=t.$new(),u.data("$scope",l),k(u,"ng-scope")):l=t,(u=i.transclude)||!r&&e?i(s,l,a,o,A(t,u||e)):i(s,l,a,n,r)):s&&s(t,a.childNodes,n,r)}for(var u,l,c,h=[],f=0;f<t.length;f++)l=new Q,u=O(t[f],[],l,0===f?o:n,r),u=(s=u.length?R(u,t[f],l,e,i,null,[],[],s):null)&&s.terminal||!t[f].childNodes||!t[f].childNodes.length?null:D(t[f].childNodes,s?s.transclude:e),h.push(s),h.push(u),c=c||s||u,s=null;return c?a:null}function A(t,e){return function(n,i,o){var r=!1;return n||(n=t.$new(),r=n.$$transcluded=!0),i=e(n,i,o),r&&i.on("$destroy",I(n,n.$destroy)),i}}function O(t,e,n,i,o){var r,u=n.$attr;switch(t.nodeType){case 1:j(e,Me(Bn(t).toLowerCase()),"E",i,o);var l,c,h;r=t.attributes;for(var f=0,d=r&&r.length;d>f;f++){var p=!1,m=!1;if(l=r[f],!In||In>=8||l.specified){c=l.name,h=Me(c),ie.test(h)&&(c=q(h.substr(6),"-"));var g=h.replace(/(Start|End)$/,"");h===g+"Start"&&(p=c,m=c.substr(0,c.length-5)+"end",c=c.substr(0,c.length-6)),h=Me(c.toLowerCase()),u[h]=c,n[h]=l=qn(In&&"href"==c?decodeURIComponent(t.getAttribute(c,2)):l.value),ge(t,h)&&(n[h]=!0),J(t,e,l,h),j(e,h,"A",i,o,p,m)}}if(t=t.className,$(t)&&""!==t)for(;r=a.exec(t);)h=Me(r[2]),j(e,h,"C",i,o)&&(n[h]=qn(r[3])),t=t.substr(r.index+r[0].length);break;case 3:Y(e,t.nodeValue);break;case 8:try{(r=s.exec(t.nodeValue))&&(h=Me(r[1]),j(e,h,"M",i,o)&&(n[h]=qn(r[2])))}catch(v){}}return e.sort(Z),e}function U(t,e,n){var i=[],o=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw mi("uterdir",e,n);1==t.nodeType&&(t.hasAttribute(e)&&o++,t.hasAttribute(n)&&o--),i.push(t),t=t.nextSibling}while(o>0)}else i.push(t);return Un(i)}function N(t,e,n){return function(i,o,r,s,a){return o=U(o[0],e,n),t(i,o,r,s,a)}}function R(t,i,o,s,a,l,c,h,f){function d(t,e,n,i){t&&(n&&(t=N(t,n,i)),t.require=M.require,(C===M||M.$$isolateScope)&&(t=K(t,{isolateScope:!0})),c.push(t)),e&&(n&&(e=N(e,n,i)),e.require=M.require,(C===M||M.$$isolateScope)&&(e=K(e,{isolateScope:!0})),h.push(e))}function m(t,e,n){var i,o="data",s=!1;if($(t)){for(;"^"==(i=t.charAt(0))||"?"==i;)t=t.substr(1),"^"==i&&(o="inheritedData"),s=s||"?"==i;if(i=null,n&&"data"===o&&(i=n[t]),i=i||e[o]("$"+t+"Controller"),!i&&!s)throw mi("ctreq",t,D)}else x(t)&&(i=[],r(t,function(t){i.push(m(t,e,n))}));return i}function g(t,e,s,a,l){function f(t,e){var i;return 2>arguments.length&&(e=t,t=n),j&&(i=P),l(t,e,i)}var d,g,v,_,y,$,x,P={};if(d=i===s?o:E(o,new Q(Un(s),o.$attr)),g=d.$$element,C){var M=/^\s*([@=&])(\??)\s*(\w*)\s*$/;a=Un(s),$=e.$new(!0),S&&S===C.$$originalDirective?a.data("$isolateScope",$):a.data("$isolateScopeNoTemplate",$),k(a,"ng-isolate-scope"),r(C.scope,function(t,n){var i,o,r,s=t.match(M)||[],a=s[3]||n,l="?"==s[2],s=s[1];switch($.$$isolateBindings[n]=s+a,s){case"@":d.$observe(a,function(t){$[n]=t}),d.$$observers[a].$$scope=e,d[a]&&($[n]=u(d[a])(e));break;case"=":if(l&&!d[a])break;o=w(d[a]),r=o.assign||function(){throw i=$[n]=o(e),mi("nonassign",d[a],C.name)},i=$[n]=o(e),$.$watch(function(){var t=o(e);return t!==$[n]&&(t!==i?i=$[n]=t:r(e,t=i=$[n])),t});break;case"&":o=w(d[a]),$[n]=function(t){return o(e,t)};break;default:throw mi("iscp",C.name,n,t)}})}for(x=l&&f,L&&r(L,function(t){var n,i={$scope:t===C||t.$$isolateScope?$:e,$element:g,$attrs:d,$transclude:x};y=t.controller,"@"==y&&(y=d[t.name]),n=b(y,i),P[t.name]=n,j||g.data("$"+t.name+"Controller",n),t.controllerAs&&(i.$scope[t.controllerAs]=n)}),a=0,v=c.length;v>a;a++)try{(_=c[a])(_.isolateScope?$:e,g,d,_.require&&m(_.require,g,P),x)}catch(T){p(T,z(g))}for(a=e,C&&(C.template||null===C.templateUrl)&&(a=$),t&&t(a,s.childNodes,n,l),a=h.length-1;a>=0;a--)try{(_=h[a])(_.isolateScope?$:e,g,d,_.require&&m(_.require,g,P),x)}catch(D){p(D,z(g))}}f=f||{};var v,_=-Number.MAX_VALUE,L=f.controllerDirectives,C=f.newIsolateScopeDirective,S=f.templateDirective;f=f.nonTlbTranscludeDirective;for(var M,D,A,I,R=!1,j=!1,Z=o.$$element=Un(i),Y=s,V=0,q=t.length;q>V;V++){M=t[V];var G=M.$$start,J=M.$$end;if(G&&(Z=U(i,G,J)),A=n,_>M.priority)break;if((A=M.scope)&&(v=v||M,M.templateUrl||(W("new/isolated scope",C,M,Z),y(A)&&(C=M))),D=M.name,!M.templateUrl&&M.controller&&(A=M.controller,L=L||{},W("'"+D+"' controller",L[D],M,Z),L[D]=M),(A=M.transclude)&&(R=!0,M.$$tlb||(W("transclusion",f,M,Z),f=M),"element"==A?(j=!0,_=M.priority,A=U(i,G,J),Z=o.$$element=Un(e.createComment(" "+D+": "+o[D]+" ")),i=Z[0],X(a,Un(Fn.call(A,0)),i),Y=T(A,s,_,l&&l.name,{nonTlbTranscludeDirective:f})):(A=Un(oe(i)).contents(),Z.html(""),Y=T(A,s))),M.template)if(W("template",S,M,Z),S=M,A=P(M.template)?M.template(Z,o):M.template,A=ne(A),M.replace){if(l=M,A=Un("<div>"+qn(A)+"</div>").contents(),i=A[0],1!=A.length||1!==i.nodeType)throw mi("tplrt",D,"");X(a,Z,i),q={$attr:{}},A=O(i,[],q);var te=t.splice(V+1,t.length-(V+1));C&&B(A),t=t.concat(A).concat(te),F(o,q),q=t.length}else Z.html(A);if(M.templateUrl)W("template",S,M,Z),S=M,M.replace&&(l=M),g=H(t.splice(V,t.length-V),Z,o,a,Y,c,h,{controllerDirectives:L,newIsolateScopeDirective:C,templateDirective:S,nonTlbTranscludeDirective:f}),q=t.length;else if(M.compile)try{I=M.compile(Z,o,Y),P(I)?d(null,I,G,J):I&&d(I.pre,I.post,G,J)}catch(ee){p(ee,z(Z))}M.terminal&&(g.terminal=!0,_=Math.max(_,M.priority))}return g.scope=v&&!0===v.scope,g.transclude=R&&Y,g}function B(t){for(var e=0,n=t.length;n>e;e++)t[e]=d(t[e],{$$isolateScope:!0})}function j(e,r,s,a,u,l,c){if(r===u)return null;if(u=null,i.hasOwnProperty(r)){var h;r=t.get(r+o);for(var f=0,m=r.length;m>f;f++)try{h=r[f],(a===n||a>h.priority)&&-1!=h.restrict.indexOf(s)&&(l&&(h=d(h,{$$start:l,$$end:c})),e.push(h),u=h)}catch(g){p(g)}}return u}function F(t,e){var n=e.$attr,i=t.$attr,o=t.$$element;r(t,function(i,o){"$"!=o.charAt(0)&&(e[o]&&(i+=("style"===o?";":" ")+e[o]),t.$set(o,i,!0,n[o]))}),r(e,function(e,r){"class"==r?(k(o,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==r?(o.attr("style",o.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==r.charAt(0)||t.hasOwnProperty(r)||(t[r]=e,i[r]=n[r])})}function H(t,e,n,i,o,s,a,u){var l,c,f=[],d=e[0],p=t.shift(),m=h({},p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),g=P(p.templateUrl)?p.templateUrl(e,n):p.templateUrl;return e.html(""),v.get(S.getTrustedResourceUrl(g),{cache:_}).success(function(h){var v,_;if(h=ne(h),p.replace){if(h=Un("<div>"+qn(h)+"</div>").contents(),v=h[0],1!=h.length||1!==v.nodeType)throw mi("tplrt",p.name,g);h={$attr:{}},X(i,e,v);var $=O(v,[],h);y(p.scope)&&B($),t=$.concat(t),F(n,h)}else v=d,e.html(h);for(t.unshift(m),l=R(t,v,n,o,e,p,s,a,u),r(i,function(t,n){t==v&&(i[n]=e[0])}),c=D(e[0].childNodes,o);f.length;){h=f.shift(),_=f.shift();var w=f.shift(),b=f.shift(),$=e[0];_!==d&&($=oe(v),X(w,Un(_),$)),_=l.transclude?A(h,l.transclude):b,l(c,h,$,i,_)}f=null}).error(function(t,e,n,i){throw mi("tpload",i.url)}),function(t,e,n,i,o){f?(f.push(e),f.push(n),f.push(i),f.push(o)):l(c,e,n,i,o)}}function Z(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function W(t,e,n,i){if(e)throw mi("multidir",e.name,n.name,t,z(i))}function Y(t,e){var n=u(e,!0);n&&t.push({priority:0,compile:g(function(t,e){var i=e.parent(),o=i.data("$binding")||[];o.push(n),k(i.data("$binding",o),"ng-binding"),t.$watch(n,function(t){e[0].nodeValue=t})})})}function V(t,e){return"xlinkHref"==e||"IMG"!=Bn(t)&&("src"==e||"ngSrc"==e)?S.RESOURCE_URL:void 0}function J(t,e,n,i){var o=u(n,!0);if(o){if("multiple"===i&&"SELECT"===Bn(t))throw mi("selmulti",z(t));e.push({priority:100,compile:function(){return{pre:function(e,n,r){if(n=r.$$observers||(r.$$observers={}),f.test(i))throw mi("nodomevents");(o=u(r[i],!0,V(t,i)))&&(r[i]=o(e),(n[i]||(n[i]=[])).$$inter=!0,(r.$$observers&&r.$$observers[i].$$scope||e).$watch(o,function(t){r.$set(i,t)}))}}}})}}function X(t,n,i){var o,r,s=n[0],a=n.length,u=s.parentNode;if(t)for(o=0,r=t.length;r>o;o++)if(t[o]==s){t[o++]=i,r=o+a-1;for(var l=t.length;l>o;o++,r++)l>r?t[o]=t[r]:delete t[o];t.length-=a-1;break}for(u&&u.replaceChild(i,s),t=e.createDocumentFragment(),t.appendChild(s),i[Un.expando]=s[Un.expando],s=1,a=n.length;a>s;s++)u=n[s],Un(u).remove(),t.appendChild(u),delete n[s];n[0]=i,n.length=1}function K(t,e){return h(function(){return t.apply(null,arguments)},t,e)}var Q=function(t,e){this.$$element=t,this.$attr=e||{}};Q.prototype={$normalize:Me,$addClass:function(t){t&&0<t.length&&M.addClass(this.$$element,t)},$removeClass:function(t){t&&0<t.length&&M.removeClass(this.$$element,t)},$set:function(t,e,i,o){function s(t,e){var n=[],i=t.split(/\s+/),o=e.split(/\s+/),r=0;t:for(;r<i.length;r++){for(var s=i[r],a=0;a<o.length;a++)if(s==o[a])continue t;n.push(s)}return n}if("class"==t)e=e||"",i=this.$$element.attr("class")||"",this.$removeClass(s(i,e).join(" ")),this.$addClass(s(e,i).join(" "));else{var a=ge(this.$$element[0],t);a&&(this.$$element.prop(t,e),o=a),this[t]=e,o?this.$attr[t]=o:(o=this.$attr[t])||(this.$attr[t]=o=q(t,"-")),a=Bn(this.$$element),("A"===a&&"href"===t||"IMG"===a&&"src"===t)&&(!In||In>=8)&&(a=gn(e).href,""!==a&&("href"===t&&!a.match(l)||"src"===t&&!a.match(c))&&(this[t]=e="unsafe:"+a)),!1!==i&&(null===e||e===n?this.$$element.removeAttr(o):this.$$element.attr(o,e))}(i=this.$$observers)&&r(i[t],function(t){try{t(e)}catch(n){p(n)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers={}),o=i[t]||(i[t]=[]);return o.push(e),L.$evalAsync(function(){o.$$inter||e(n[t])}),e}};var te=u.startSymbol(),ee=u.endSymbol(),ne="{{"==te||"}}"==ee?m:function(t){return t.replace(/\{\{/g,te).replace(/}}/g,ee)},ie=/^ngAttr[A-Z]/;return T}]}function Me(t){return ee(t.replace(gi,""))}function Te(){var t={},e=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(e,n){X(e,"controller"),y(e)?h(t,e):t[e]=n},this.$get=["$injector","$window",function(n,o){return function(r,s){var a,u,l;if($(r)&&(a=r.match(e),u=a[1],l=a[3],r=t.hasOwnProperty(u)?t[u]:K(s.$scope,u,!0)||K(o,u,!0),J(r,u,!0)),a=n.instantiate(r,s),l){if(!s||"object"!=typeof s.$scope)throw i("$controller")("noscp",u||r.name,l);s.$scope[l]=a}return a}}]}function ke(){this.$get=["$window",function(t){return Un(t.document)}]}function De(){this.$get=["$log",function(t){return function(){t.error.apply(t,arguments)}}]}function Ee(t){var e,n,i,o={};return t?(r(t.split("\n"),function(t){i=t.indexOf(":"),e=zn(qn(t.substr(0,i))),n=qn(t.substr(i+1)),e&&(o[e]=o[e]?o[e]+(", "+n):n)}),o):o}function Ae(t){var e=y(t)?t:n;return function(n){return e||(e=Ee(t)),n?e[zn(n)]||null:e}}function Oe(t,e,n){return P(n)?n(t,e):(r(n,function(n){t=n(t,e)}),t)}function Ie(){var t=/^\s*(\[|\{[^\{])/,e=/[\}\]]\s*$/,i=/^\)\]\}',?\n/,o={"Content-Type":"application/json;charset=utf-8"},s=this.defaults={transformResponse:[function(n){return $(n)&&(n=n.replace(i,""),t.test(n)&&e.test(n)&&(n=R(n))),n}],transformRequest:[function(t){return y(t)&&"[object File]"!==Zn.apply(t)?N(t):t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:o,put:o,patch:o},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},u=this.interceptors=[],l=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(t,e,i,o,c,f){function d(t){function i(t){var e=h({},t,{data:Oe(t.data,t.headers,o.transformResponse)});return 200<=t.status&&300>t.status?e:c.reject(e)}var o={transformRequest:s.transformRequest,transformResponse:s.transformResponse},a=function(t){function e(t){var e;r(t,function(n,i){P(n)&&(e=n(),null!=e?t[i]=e:delete t[i])})}var n,i,o=s.headers,a=h({},t.headers),o=h({},o.common,o[zn(t.method)]);
e(o),e(a);t:for(n in o){t=zn(n);for(i in a)if(zn(i)===t)continue t;a[n]=o[n]}return a}(t);h(o,t),o.headers=a,o.method=jn(o.method),(t=vn(o.url)?e.cookies()[o.xsrfCookieName||s.xsrfCookieName]:n)&&(a[o.xsrfHeaderName||s.xsrfHeaderName]=t);var u=[function(t){a=t.headers;var e=Oe(t.data,Ae(a),t.transformRequest);return v(t.data)&&r(a,function(t,e){"content-type"===zn(e)&&delete a[e]}),v(t.withCredentials)&&!v(s.withCredentials)&&(t.withCredentials=s.withCredentials),p(t,e,a).then(i,i)},n],l=c.when(o);for(r(w,function(t){(t.request||t.requestError)&&u.unshift(t.request,t.requestError),(t.response||t.responseError)&&u.push(t.response,t.responseError)});u.length;){t=u.shift();var f=u.shift(),l=l.then(t,f)}return l.success=function(t){return l.then(function(e){t(e.data,e.status,e.headers,o)}),l},l.error=function(t){return l.then(null,function(e){t(e.data,e.status,e.headers,o)}),l},l}function p(e,n,i){function r(t,e,n){l&&(t>=200&&300>t?l.put($,[t,e,Ee(n)]):l.remove($)),a(e,t,n),o.$$phase||o.$apply()}function a(t,n,i){n=Math.max(n,0),(n>=200&&300>n?f.resolve:f.reject)({data:t,status:n,headers:Ae(i),config:e})}function u(){var t=T(d.pendingRequests,e);-1!==t&&d.pendingRequests.splice(t,1)}var l,h,f=c.defer(),p=f.promise,$=m(e.url,e.params);if(d.pendingRequests.push(e),p.then(u,u),(e.cache||s.cache)&&!1!==e.cache&&"GET"==e.method&&(l=y(e.cache)?e.cache:y(s.cache)?s.cache:g),l)if(h=l.get($),_(h)){if(h.then)return h.then(u,u),h;x(h)?a(h[1],h[0],D(h[2])):a(h,200,{})}else l.put($,p);return v(h)&&t(e.method,$,n,r,i,e.timeout,e.withCredentials,e.responseType),p}function m(t,e){if(!e)return t;var n=[];return a(e,function(t,e){null===t||v(t)||(x(t)||(t=[t]),r(t,function(t){y(t)&&(t=N(t)),n.push(W(e)+"="+W(t))}))}),t+(-1==t.indexOf("?")?"?":"&")+n.join("&")}var g=i("$http"),w=[];return r(u,function(t){w.unshift($(t)?f.get(t):f.invoke(t))}),r(l,function(t,e){var n=$(t)?f.get(t):f.invoke(t);w.splice(e,0,{response:function(t){return n(c.when(t))},responseError:function(t){return n(c.reject(t))}})}),d.pendingRequests=[],function(){r(arguments,function(t){d[t]=function(e,n){return d(h(n||{},{method:t,url:e}))}})}("get","delete","head","jsonp"),function(){r(arguments,function(t){d[t]=function(e,n,i){return d(h(i||{},{method:t,url:e,data:n}))}})}("post","put"),d.defaults=s,d}]}function Ue(){this.$get=["$browser","$window","$document",function(t,e,n){return Ne(t,vi,t.defer,e.angular.callbacks,n[0],e.location.protocol.replace(":",""))}]}function Ne(t,e,n,i,o,s){function a(t,e){var n=o.createElement("script"),i=function(){o.body.removeChild(n),e&&e()};return n.type="text/javascript",n.src=t,In?n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&i()}:n.onload=n.onerror=i,o.body.appendChild(n),i}return function(o,u,l,c,h,f,d,m){function g(){y=-1,w&&w(),b&&b.abort()}function v(e,i,o,r){var a=s||gn(u).protocol;x&&n.cancel(x),w=b=null,i="file"==a?o?200:404:i,e(1223==i?204:i,o,r),t.$$completeOutstandingRequest(p)}var y;if(t.$$incOutstandingRequestCount(),u=u||t.url(),"jsonp"==zn(o)){var $="_"+(i.counter++).toString(36);i[$]=function(t){i[$].data=t};var w=a(u.replace("JSON_CALLBACK","angular.callbacks."+$),function(){i[$].data?v(c,200,i[$].data):v(c,y||-2),delete i[$]})}else{var b=new e;b.open(o,u,!0),r(h,function(t,e){_(t)&&b.setRequestHeader(e,t)}),b.onreadystatechange=function(){if(4==b.readyState){var t=b.getAllResponseHeaders();v(c,y||b.status,b.responseType?b.response:b.responseText,t)}},d&&(b.withCredentials=!0),m&&(b.responseType=m),b.send(l||null)}if(f>0)var x=n(g,f);else f&&f.then&&f.then(g)}}function Re(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,o){function r(r,u,l){for(var c,h,f=0,d=[],p=r.length,m=!1,g=[];p>f;)-1!=(c=r.indexOf(t,f))&&-1!=(h=r.indexOf(e,c+s))?(f!=c&&d.push(r.substring(f,c)),d.push(f=n(m=r.substring(c+s,h))),f.exp=m,f=h+a,m=!0):(f!=p&&d.push(r.substring(f)),f=p);if((p=d.length)||(d.push(""),p=1),l&&1<d.length)throw _i("noconcat",r);return!u||m?(g.length=p,f=function(t){try{for(var e,n=0,s=p;s>n;n++)"function"==typeof(e=d[n])&&(e=e(t),e=l?o.getTrusted(l,e):o.valueOf(e),null===e||v(e)?e="":"string"!=typeof e&&(e=N(e))),g[n]=e;return g.join("")}catch(a){t=_i("interr",r,a.toString()),i(t)}},f.exp=r,f.parts=d,f):void 0}var s=t.length,a=e.length;return r.startSymbol=function(){return t},r.endSymbol=function(){return e},r}]}function Be(){this.$get=["$rootScope","$window","$q",function(t,e,n){function i(i,r,s,a){var u=e.setInterval,l=e.clearInterval,c=n.defer(),h=c.promise,f=0,d=_(a)&&!a;return s=_(s)?s:0,h.then(null,null,i),h.$$intervalId=u(function(){c.notify(f++),s>0&&f>=s&&(c.resolve(f),l(h.$$intervalId),delete o[h.$$intervalId]),d||t.$apply()},r),o[h.$$intervalId]=c,h}var o={};return i.cancel=function(t){return t&&t.$$intervalId in o?(o[t.$$intervalId].reject("canceled"),clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0):!1},i}]}function ze(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(t){return 1===t?"one":"other"}}}}function je(t){t=t.split("/");for(var e=t.length;e--;)t[e]=Z(t[e]);return t.join("/")}function Fe(t,e,n){t=gn(t,n),e.$$protocol=t.protocol,e.$$host=t.hostname,e.$$port=f(t.port)||$i[t.protocol]||null}function He(t,e,n){var i="/"!==t.charAt(0);i&&(t="/"+t),t=gn(t,n),e.$$path=decodeURIComponent(i&&"/"===t.pathname.charAt(0)?t.pathname.substring(1):t.pathname),e.$$search=F(t.search),e.$$hash=decodeURIComponent(t.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Ze(t,e){return 0===e.indexOf(t)?e.substr(t.length):void 0}function We(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function Ye(t){return t.substr(0,We(t).lastIndexOf("/")+1)}function Ve(t,e){this.$$html5=!0,e=e||"";var i=Ye(t);Fe(t,this,t),this.$$parse=function(e){var n=Ze(i,e);if(!$(n))throw wi("ipthprfx",e,i);He(n,this,t),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=H(this.$$search),e=this.$$hash?"#"+Z(this.$$hash):"";this.$$url=je(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=i+this.$$url.substr(1)},this.$$rewrite=function(o){var r;return(r=Ze(t,o))!==n?(o=r,(r=Ze(e,r))!==n?i+(Ze("/",r)||r):t+o):(r=Ze(i,o))!==n?i+r:i==o+"/"?i:void 0}}function qe(t,e){var n=Ye(t);Fe(t,this,t),this.$$parse=function(i){var o=Ze(t,i)||Ze(n,i),o="#"==o.charAt(0)?Ze(e,o):this.$$html5?o:"";if(!$(o))throw wi("ihshprfx",i,e);He(o,this,t),this.$$compose()},this.$$compose=function(){var n=H(this.$$search),i=this.$$hash?"#"+Z(this.$$hash):"";this.$$url=je(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=t+(this.$$url?e+this.$$url:"")},this.$$rewrite=function(e){return We(t)==We(e)?e:void 0}}function Ge(t,e){this.$$html5=!0,qe.apply(this,arguments);var n=Ye(t);this.$$rewrite=function(i){var o;return t==We(i)?i:(o=Ze(n,i))?t+e+o:n===i+"/"?n:void 0}}function Je(t){return function(){return this[t]}}function Xe(t,e){return function(n){return v(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function Ke(){var e="",n=!1;this.hashPrefix=function(t){return _(t)?(e=t,this):e},this.html5Mode=function(t){return _(t)?(n=t,this):n},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(i,o,r,s){function a(t){i.$broadcast("$locationChangeSuccess",u.absUrl(),t)}var u,l=o.baseHref(),c=o.url();n?(l=c.substring(0,c.indexOf("/",c.indexOf("//")+2))+(l||"/"),r=r.history?Ve:Ge):(l=We(c),r=qe),u=new r(l,"#"+e),u.$$parse(u.$$rewrite(c)),s.on("click",function(e){if(!e.ctrlKey&&!e.metaKey&&2!=e.which){for(var n=Un(e.target);"a"!==zn(n[0].nodeName);)if(n[0]===s[0]||!(n=n.parent())[0])return;var r=n.prop("href"),a=u.$$rewrite(r);r&&!n.attr("target")&&a&&!e.isDefaultPrevented()&&(e.preventDefault(),a!=o.url()&&(u.$$parse(a),i.$apply(),t.angular["ff-684208-preventDefault"]=!0))}}),u.absUrl()!=c&&o.url(u.absUrl(),!0),o.onUrlChange(function(t){u.absUrl()!=t&&(i.$broadcast("$locationChangeStart",t,u.absUrl()).defaultPrevented?o.url(u.absUrl()):(i.$evalAsync(function(){var e=u.absUrl();u.$$parse(t),a(e)}),i.$$phase||i.$digest()))});var h=0;return i.$watch(function(){var t=o.url(),e=u.$$replace;return h&&t==u.absUrl()||(h++,i.$evalAsync(function(){i.$broadcast("$locationChangeStart",u.absUrl(),t).defaultPrevented?u.$$parse(t):(o.url(u.absUrl(),e),a(t))})),u.$$replace=!1,h}),u}]}function Qe(){var t=!0,e=this;this.debugEnabled=function(e){return _(e)?(t=e,this):t},this.$get=["$window",function(n){function i(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function o(t){var e=n.console||{},o=e[t]||e.log||p;return o.apply?function(){var t=[];return r(arguments,function(e){t.push(i(e))}),o.apply(e,t)}:function(t,e){o(t,null==e?"":e)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function tn(t,e){if("constructor"===t)throw xi("isecfld",e);return t}function en(t,e){if(t&&t.constructor===t)throw xi("isecfn",e);if(t&&t.document&&t.location&&t.alert&&t.setInterval)throw xi("isecwindow",e);if(t&&(t.nodeName||t.on&&t.find))throw xi("isecdom",e);return t}function nn(t,e,i,o,r){r=r||{},e=e.split(".");for(var s,a=0;1<e.length;a++){s=tn(e.shift(),o);var u=t[s];u||(u={},t[s]=u),t=u,t.then&&r.unwrapPromises&&(bi(o),"$$v"in t||function(t){t.then(function(e){t.$$v=e})}(t),t.$$v===n&&(t.$$v={}),t=t.$$v)}return s=tn(e.shift(),o),t[s]=i}function on(t,e,i,o,r,s,a){return tn(t,s),tn(e,s),tn(i,s),tn(o,s),tn(r,s),a.unwrapPromises?function(a,u){var l,c=u&&u.hasOwnProperty(t)?u:a;return null===c||c===n?c:((c=c[t])&&c.then&&(bi(s),"$$v"in c||(l=c,l.$$v=n,l.then(function(t){l.$$v=t})),c=c.$$v),e&&null!==c&&c!==n?((c=c[e])&&c.then&&(bi(s),"$$v"in c||(l=c,l.$$v=n,l.then(function(t){l.$$v=t})),c=c.$$v),i&&null!==c&&c!==n?((c=c[i])&&c.then&&(bi(s),"$$v"in c||(l=c,l.$$v=n,l.then(function(t){l.$$v=t})),c=c.$$v),o&&null!==c&&c!==n?((c=c[o])&&c.then&&(bi(s),"$$v"in c||(l=c,l.$$v=n,l.then(function(t){l.$$v=t})),c=c.$$v),r&&null!==c&&c!==n?((c=c[r])&&c.then&&(bi(s),"$$v"in c||(l=c,l.$$v=n,l.then(function(t){l.$$v=t})),c=c.$$v),c):c):c):c):c)}:function(s,a){var u=a&&a.hasOwnProperty(t)?a:s;return null===u||u===n?u:(u=u[t],e&&null!==u&&u!==n?(u=u[e],i&&null!==u&&u!==n?(u=u[i],o&&null!==u&&u!==n?(u=u[o],r&&null!==u&&u!==n?u=u[r]:u):u):u):u)}}function rn(t,e,i){if(Ti.hasOwnProperty(t))return Ti[t];var o,s=t.split("."),a=s.length;if(e.csp)o=6>a?on(s[0],s[1],s[2],s[3],s[4],i,e):function(t,o){var r,u=0;do r=on(s[u++],s[u++],s[u++],s[u++],s[u++],i,e)(t,o),o=n,t=r;while(a>u);return r};else{var u="var l, fn, p;\n";r(s,function(t,n){tn(t,i),u+="if(s === null || s === undefined) return s;\nl=s;\ns="+(n?"s":'((k&&k.hasOwnProperty("'+t+'"))?k:s)')+'["'+t+'"];\n'+(e.unwrapPromises?'if (s && s.then) {\n pw("'+i.replace(/\"/g,'\\"')+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n':"")});var u=u+"return s;",l=new Function("s","k","pw",u);l.toString=function(){return u},o=function(t,e){return l(t,e,bi)}}return"hasOwnProperty"!==t&&(Ti[t]=o),o}function sn(){var t={},e={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(t){return _(t)?(e.unwrapPromises=!!t,this):e.unwrapPromises},this.logPromiseWarnings=function(t){return _(t)?(e.logPromiseWarnings=t,this):e.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function(n,i,o){return e.csp=i.csp,bi=function(t){e.logPromiseWarnings&&!Pi.hasOwnProperty(t)&&(Pi[t]=!0,o.warn("[$parse] Promise found in the expression `"+t+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},function(i){var o;switch(typeof i){case"string":return t.hasOwnProperty(i)?t[i]:(o=new Si(e),o=new Mi(o,n,e).parse(i,!1),"hasOwnProperty"!==i&&(t[i]=o),o);case"function":return i;default:return p}}}]}function an(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return un(function(e){t.$evalAsync(e)},e)}]}function un(t,e){function i(t){return t}function o(t){return u(t)}var s=function(){var r,l,c=[];return l={resolve:function(e){if(c){var i=c;c=n,r=a(e),i.length&&t(function(){for(var t,e=0,n=i.length;n>e;e++)t=i[e],r.then(t[0],t[1],t[2])})}},reject:function(t){l.resolve(u(t))},notify:function(e){if(c){var n=c;c.length&&t(function(){for(var t,i=0,o=n.length;o>i;i++)t=n[i],t[2](e)})}},promise:{then:function(t,n,a){var u=s(),l=function(n){try{u.resolve((P(t)?t:i)(n))}catch(o){u.reject(o),e(o)}},h=function(t){try{u.resolve((P(n)?n:o)(t))}catch(i){u.reject(i),e(i)}},f=function(t){try{u.notify((P(a)?a:i)(t))}catch(n){e(n)}};return c?c.push([l,h,f]):r.then(l,h,f),u.promise},"catch":function(t){return this.then(null,t)},"finally":function(t){function e(t,e){var n=s();return e?n.resolve(t):n.reject(t),n.promise}function n(n,o){var r=null;try{r=(t||i)()}catch(s){return e(s,!1)}return r&&P(r.then)?r.then(function(){return e(n,o)},function(t){return e(t,!1)}):e(n,o)}return this.then(function(t){return n(t,!0)},function(t){return n(t,!1)})}}}},a=function(e){return e&&P(e.then)?e:{then:function(n){var i=s();return t(function(){i.resolve(n(e))}),i.promise}}},u=function(n){return{then:function(i,r){var a=s();return t(function(){try{a.resolve((P(r)?r:o)(n))}catch(t){a.reject(t),e(t)}}),a.promise}}};return{defer:s,reject:u,when:function(n,r,l,c){var h,f=s(),d=function(t){try{return(P(r)?r:i)(t)}catch(n){return e(n),u(n)}},p=function(t){try{return(P(l)?l:o)(t)}catch(n){return e(n),u(n)}},m=function(t){try{return(P(c)?c:i)(t)}catch(n){e(n)}};return t(function(){a(n).then(function(t){h||(h=!0,f.resolve(a(t).then(d,p,m)))},function(t){h||(h=!0,f.resolve(p(t)))},function(t){h||f.notify(m(t))})}),f.promise},all:function(t){var e=s(),n=0,i=x(t)?[]:{};return r(t,function(t,o){n++,a(t).then(function(t){i.hasOwnProperty(o)||(i[o]=t,--n||e.resolve(i))},function(t){i.hasOwnProperty(o)||e.reject(t)})}),0===n&&e.resolve(i),e.promise}}}function ln(){var t=10,e=i("$rootScope");this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(n,i,r,s){function a(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$isolateBindings={}}function u(t){if(f.$$phase)throw e("inprog",f.$$phase);f.$$phase=t}function c(t,e){var n=r(t);return J(n,e),n}function h(){}a.prototype={constructor:a,$new:function(t){return t?(t=new a,t.$root=this.$root,t.$$asyncQueue=this.$$asyncQueue,t.$$postDigestQueue=this.$$postDigestQueue):(t=function(){},t.prototype=this,t=new t,t.$id=l()),t["this"]=t,t.$$listeners={},t.$parent=this,t.$$watchers=t.$$nextSibling=t.$$childHead=t.$$childTail=null,t.$$prevSibling=this.$$childTail,this.$$childHead?this.$$childTail=this.$$childTail.$$nextSibling=t:this.$$childHead=this.$$childTail=t,t},$watch:function(t,e,n){var i=c(t,"watch"),o=this.$$watchers,r={fn:e,last:h,get:i,exp:t,eq:!!n};if(!P(e)){var s=c(e||p,"listener");r.fn=function(t,e,n){s(n)}}if("string"==typeof t&&i.constant){var a=r.fn;r.fn=function(t,e,n){a.call(this,t,e,n),k(o,r)}}return o||(o=this.$$watchers=[]),o.unshift(r),function(){k(o,r)}},$watchCollection:function(t,e){var n,i,s=this,a=0,u=r(t),l=[],c={},h=0;return this.$watch(function(){i=u(s);var t,e;if(y(i))if(o(i))for(n!==l&&(n=l,h=n.length=0,a++),t=i.length,h!==t&&(a++,n.length=h=t),e=0;t>e;e++)n[e]!==i[e]&&(a++,n[e]=i[e]);else{n!==c&&(n=c={},h=0,a++),t=0;for(e in i)i.hasOwnProperty(e)&&(t++,n.hasOwnProperty(e)?n[e]!==i[e]&&(a++,n[e]=i[e]):(h++,n[e]=i[e],a++));if(h>t)for(e in a++,n)n.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(h--,delete n[e])}else n!==i&&(n=i,a++);return a},function(){e(i,n,s)})},$digest:function(){var n,o,r,s,a,l,c,d,p,m,g=this.$$asyncQueue,v=this.$$postDigestQueue,_=t,y=[];u("$digest");do{for(l=!1,c=this;g.length;)try{m=g.shift(),m.scope.$eval(m.expression)}catch($){i($)}do{if(s=c.$$watchers)for(a=s.length;a--;)try{(n=s[a])&&(o=n.get(c))!==(r=n.last)&&!(n.eq?A(o,r):"number"==typeof o&&"number"==typeof r&&isNaN(o)&&isNaN(r))&&(l=!0,n.last=n.eq?D(o):o,n.fn(o,r===h?o:r,c),5>_&&(d=4-_,y[d]||(y[d]=[]),p=P(n.exp)?"fn: "+(n.exp.name||n.exp.toString()):n.exp,p+="; newVal: "+N(o)+"; oldVal: "+N(r),y[d].push(p)))}catch(w){i(w)}if(!(s=c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(s=c.$$nextSibling);)c=c.$parent}while(c=s);if(l&&!_--)throw f.$$phase=null,e("infdig",t,N(y))}while(l||g.length);for(f.$$phase=null;v.length;)try{v.shift()()}catch(b){i(b)}},$destroy:function(){if(f!=this&&!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null}},$eval:function(t,e){return r(t)(this,e)},$evalAsync:function(t){f.$$phase||f.$$asyncQueue.length||s.defer(function(){f.$$asyncQueue.length&&f.$digest()}),this.$$asyncQueue.push({scope:this,expression:t})},$$postDigest:function(t){this.$$postDigestQueue.push(t)},$apply:function(t){try{return u("$apply"),this.$eval(t)}catch(e){i(e)}finally{f.$$phase=null;try{f.$digest()}catch(n){throw i(n),n}}},$on:function(t,e){var n=this.$$listeners[t];return n||(this.$$listeners[t]=n=[]),n.push(e),function(){n[T(n,e)]=null}},$emit:function(t){var e,n,o,r=[],s=this,a=!1,u={name:t,targetScope:s,stopPropagation:function(){a=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},l=[u].concat(Fn.call(arguments,1));do{for(e=s.$$listeners[t]||r,u.currentScope=s,n=0,o=e.length;o>n;n++)if(e[n])try{e[n].apply(null,l)}catch(c){i(c)}else e.splice(n,1),n--,o--;if(a)break;s=s.$parent}while(s);return u},$broadcast:function(t){var e,n,o=this,r=this,s={name:t,targetScope:this,preventDefault:function(){s.defaultPrevented=!0},defaultPrevented:!1},a=[s].concat(Fn.call(arguments,1));do{for(o=r,s.currentScope=o,r=o.$$listeners[t]||[],e=0,n=r.length;n>e;e++)if(r[e])try{r[e].apply(null,a)}catch(u){i(u)}else r.splice(e,1),e--,n--;if(!(r=o.$$childHead||o!==this&&o.$$nextSibling))for(;o!==this&&!(r=o.$$nextSibling);)o=o.$parent}while(o=r);return s}};var f=new a;return f}]}function cn(t){if("self"===t)return t;if($(t)){if(-1<t.indexOf("***"))throw ki("iwcard",t);return t=t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08").replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),RegExp("^"+t+"$")}if(L(t))return RegExp("^"+t.source+"$");throw ki("imatcher")}function hn(t){var e=[];return _(t)&&r(t,function(t){e.push(cn(t))}),e}function fn(){this.SCE_CONTEXTS=Di;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=hn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=hn(t)),e},this.$get=["$log","$document","$injector",function(i,o,r){function s(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}var a=function(){throw ki("unsafe")};r.has("$sanitize")&&(a=r.get("$sanitize"));var u=s(),l={};return l[Di.HTML]=s(u),l[Di.CSS]=s(u),l[Di.URL]=s(u),l[Di.JS]=s(u),l[Di.RESOURCE_URL]=s(l[Di.URL]),{trustAs:function(t,e){var i=l.hasOwnProperty(t)?l[t]:null;if(!i)throw ki("icontext",t,e);if(null===e||e===n||""===e)return e;if("string"!=typeof e)throw ki("itype",t);return new i(e)},getTrusted:function(i,o){if(null===o||o===n||""===o)return o;var r=l.hasOwnProperty(i)?l[i]:null;if(r&&o instanceof r)return o.$$unwrapTrustedValue();if(i===Di.RESOURCE_URL){var s,u,r=gn(o.toString()),c=!1;for(s=0,u=t.length;u>s;s++)if("self"===t[s]?vn(r):t[s].exec(r.href)){c=!0;break}if(c)for(s=0,u=e.length;u>s;s++)if("self"===e[s]?vn(r):e[s].exec(r.href)){c=!1;break}if(c)return o;throw ki("insecurl",o.toString())}if(i===Di.HTML)return a(o);throw ki("unsafe")},valueOf:function(t){return t instanceof u?t.$$unwrapTrustedValue():t}}}]}function dn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$document","$sceDelegate",function(e,i,o){if(t&&In&&(i=i[0].documentMode,i!==n&&8>i))throw ki("iequirks");var s=D(Di);s.isEnabled=function(){return t},s.trustAs=o.trustAs,s.getTrusted=o.getTrusted,s.valueOf=o.valueOf,t||(s.trustAs=s.getTrusted=function(t,e){return e},s.valueOf=m),s.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:function(e,n){return s.getTrusted(t,i(e,n))}};var a=s.parseAs,u=s.getTrusted,l=s.trustAs;return r(Di,function(t,e){var n=zn(e);s[ee("parse_as_"+n)]=function(e){return a(t,e)},s[ee("get_trusted_"+n)]=function(e){return u(t,e)},s[ee("trust_as_"+n)]=function(e){return l(t,e)}}),s}]}function pn(){this.$get=["$window","$document",function(t,e){var n,i={},o=f((/android (\d+)/.exec(zn((t.navigator||{}).userAgent))||[])[1]),r=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},a=/^(Moz|webkit|O|ms)(?=[A-Z])/,u=s.body&&s.body.style,l=!1,c=!1;if(u){for(var h in u)if(l=a.exec(h)){n=l[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in u&&"webkit"),l=!!("transition"in u||n+"Transition"in u),c=!!("animation"in u||n+"Animation"in u),!o||l&&c||(l=$(s.body.style.webkitTransition),c=$(s.body.style.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>o||r),hashchange:"onhashchange"in t&&(!s.documentMode||7<s.documentMode),hasEvent:function(t){if("input"==t&&9==In)return!1;if(v(i[t])){var e=s.createElement("div");i[t]="on"+t in e}return i[t]},csp:O(),vendorPrefix:n,transitions:l,animations:c,msie:In}}]}function mn(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(t,e,n,i){function o(o,s,a){var u=n.defer(),l=u.promise,c=_(a)&&!a;return s=e.defer(function(){try{u.resolve(o())}catch(e){u.reject(e),i(e)}finally{delete r[l.$$timeoutId]}c||t.$apply()},s),l.$$timeoutId=s,r[s]=u,l}var r={};return o.cancel=function(t){return t&&t.$$timeoutId in r?(r[t.$$timeoutId].reject("canceled"),delete r[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},o}]}function gn(t,e){var n=t;In&&(Ei.setAttribute("href",n),n=Ei.href),Ei.setAttribute("href",n);var n=Ei.pathname,i=t;return 0===i.indexOf(e)&&(i=i.replace(e,"")),Ai.exec(i)||(n=(i=Ai.exec(n))?i[1]:n),n="/"===n.charAt(0)?n:"/"+n,{href:Ei.href,protocol:Ei.protocol?Ei.protocol.replace(/:$/,""):"",host:Ei.host,search:Ei.search?Ei.search.replace(/^\?/,""):"",hash:Ei.hash?Ei.hash.replace(/^#/,""):"",hostname:Ei.hostname,port:Ei.port,pathname:n}}function vn(t){return t=$(t)?gn(t):t,t.protocol===Oi.protocol&&t.host===Oi.host}function _n(){this.$get=g(t)}function yn(t){function e(i,o){if(y(i)){var s={};return r(i,function(t,n){s[n]=e(n,t)}),s}return t.factory(i+n,o)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",wn),e("date",Sn),e("filter",$n),e("json",Mn),e("limitTo",Tn),e("lowercase",Bi),e("number",bn),e("orderBy",kn),e("uppercase",zi)}function $n(){return function(t,e,n){if(!x(t))return t;var i=typeof n,o=[];o.check=function(t){for(var e=0;e<o.length;e++)if(!o[e](t))return!1;return!0},"function"!==i&&(n="boolean"===i&&n?function(t,e){return Yn.equals(t,e)}:function(t,e){return e=(""+e).toLowerCase(),-1<(""+t).toLowerCase().indexOf(e)});var r=function(t,e){if("string"==typeof e&&"!"===e.charAt(0))return!r(t,e.substr(1));switch(typeof t){case"boolean":case"number":case"string":return n(t,e);case"object":switch(typeof e){case"object":return n(t,e);default:for(var i in t)if("$"!==i.charAt(0)&&r(t[i],e))return!0}return!1;case"array":for(i=0;i<t.length;i++)if(r(t[i],e))return!0;return!1;default:return!1}};switch(typeof e){case"boolean":case"number":case"string":e={$:e};case"object":for(var s in e)"$"==s?function(){if(e[s]){var t=s;o.push(function(n){return r(n,e[t])})}}():function(){if("undefined"!=typeof e[s]){var t=s;o.push(function(n){return r(K(n,t),e[t])})}}();break;case"function":o.push(e);break;default:return t}for(var i=[],a=0;a<t.length;a++){var u=t[a];o.check(u)&&i.push(u)}return i}}function wn(t){var e=t.NUMBER_FORMATS;return function(t,n){return v(n)&&(n=e.CURRENCY_SYM),xn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,2).replace(/\u00A4/g,n)}}function bn(t){var e=t.NUMBER_FORMATS;return function(t,n){return xn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function xn(t,e,n,i,o){if(isNaN(t)||!isFinite(t))return"";var r=0>t;t=Math.abs(t);var s=t+"",a="",u=[],l=!1;if(-1!==s.indexOf("e")){var c=s.match(/([\d\.]+)e(-?)(\d+)/);c&&"-"==c[2]&&c[3]>o+1?s="0":(a=s,l=!0)}if(l)o>0&&t>-1&&1>t&&(a=t.toFixed(o));else{s=(s.split(Ii)[1]||"").length,v(o)&&(o=Math.min(Math.max(e.minFrac,s),e.maxFrac)),s=Math.pow(10,o),t=Math.round(t*s)/s,t=(""+t).split(Ii),s=t[0],t=t[1]||"";var c=0,h=e.lgSize,f=e.gSize;if(s.length>=h+f)for(c=s.length-h,l=0;c>l;l++)0===(c-l)%f&&0!==l&&(a+=n),a+=s.charAt(l);for(l=c;l<s.length;l++)0===(s.length-l)%h&&0!==l&&(a+=n),a+=s.charAt(l);for(;t.length<o;)t+="0";o&&"0"!==o&&(a+=i+t.substr(0,o))}return u.push(r?e.negPre:e.posPre),u.push(a),u.push(r?e.negSuf:e.posSuf),u.join("")}function Pn(t,e,n){var i="";for(0>t&&(i="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),i+t}function Ln(t,e,n,i){return n=n||0,function(o){return o=o["get"+t](),(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),Pn(o,e,i)}}function Cn(t,e){return function(n,i){var o=n["get"+t](),r=jn(e?"SHORT"+t:t);return i[r][o]}}function Sn(t){function e(t){var e;if(e=t.match(n)){t=new Date(0);var i=0,o=0,r=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(i=f(e[9]+e[10]),o=f(e[9]+e[11])),r.call(t,f(e[1]),f(e[2])-1,f(e[3])),i=f(e[4]||0)-i,o=f(e[5]||0)-o,r=f(e[6]||0),e=Math.round(1e3*parseFloat("0."+(e[7]||0))),s.call(t,i,o,r,e)}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i){var o,s,a="",u=[];if(i=i||"mediumDate",i=t.DATETIME_FORMATS[i]||i,$(n)&&(n=Ri.test(n)?f(n):e(n)),w(n)&&(n=new Date(n)),!b(n))return n;for(;i;)(s=Ni.exec(i))?(u=u.concat(Fn.call(s,1)),i=u.pop()):(u.push(i),i=null);return r(u,function(e){o=Ui[e],a+=o?o(n,t.DATETIME_FORMATS):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),a}}function Mn(){return function(t){return N(t,!0)}}function Tn(){return function(t,e){if(!x(t)&&!$(t))return t;if(e=f(e),$(t))return e?e>=0?t.slice(0,e):t.slice(e,t.length):"";var n,i,o=[];for(e>t.length?e=t.length:e<-t.length&&(e=-t.length),e>0?(n=0,i=e):(n=t.length+e,i=t.length);i>n;n++)o.push(t[n]);return o}}function kn(t){return function(e,n,i){function o(t,e){return B(e)?function(e,n){return t(n,e)}:t}if(!x(e)||!n)return e;n=x(n)?n:[n],n=M(n,function(e){var n=!1,i=e||m;return $(e)&&(("+"==e.charAt(0)||"-"==e.charAt(0))&&(n="-"==e.charAt(0),e=e.substring(1)),i=t(e)),o(function(t,e){var n;n=i(t);var o=i(e),r=typeof n,s=typeof o;return r==s?("string"==r&&(n=n.toLowerCase(),o=o.toLowerCase()),n=n===o?0:o>n?-1:1):n=s>r?-1:1,n},n)});for(var r=[],s=0;s<e.length;s++)r.push(e[s]);return r.sort(o(function(t,e){for(var i=0;i<n.length;i++){var o=n[i](t,e);if(0!==o)return o}return 0},i))}}function Dn(t){return P(t)&&(t={link:t}),t.restrict=t.restrict||"AC",g(t)}function En(t,e){function n(e,n){n=n?"-"+q(n,"-"):"",t.removeClass((e?Qi:Ki)+n).addClass((e?Ki:Qi)+n)}var i=this,o=t.parent().controller("form")||Hi,s=0,a=i.$error={},u=[];i.$name=e.name||e.ngForm,i.$dirty=!1,i.$pristine=!0,i.$valid=!0,i.$invalid=!1,o.$addControl(i),t.addClass(to),n(!0),i.$addControl=function(t){X(t.$name,"input"),u.push(t),t.$name&&(i[t.$name]=t)},i.$removeControl=function(t){t.$name&&i[t.$name]===t&&delete i[t.$name],r(a,function(e,n){i.$setValidity(n,!0,t)}),k(u,t)},i.$setValidity=function(t,e,r){var u=a[t];if(e)u&&(k(u,r),u.length||(s--,s||(n(e),i.$valid=!0,i.$invalid=!1),a[t]=!1,n(!0,t),o.$setValidity(t,!0,i)));else{if(s||n(e),u){if(-1!=T(u,r))return}else a[t]=u=[],s++,n(!1,t),o.$setValidity(t,!1,i);u.push(r),i.$valid=!1,i.$invalid=!0}},i.$setDirty=function(){t.removeClass(to).addClass(eo),i.$dirty=!0,i.$pristine=!1,o.$setDirty()},i.$setPristine=function(){t.removeClass(eo).addClass(to),i.$dirty=!1,i.$pristine=!0,r(u,function(t){t.$setPristine()})}}function An(t,e,o,r,s,a){var u=function(){var n=e.val();B(o.ngTrim||"T")&&(n=qn(n)),r.$viewValue!==n&&t.$apply(function(){r.$setViewValue(n)})};if(s.hasEvent("input"))e.on("input",u);else{var l,c=function(){l||(l=a.defer(function(){u(),l=null}))};e.on("keydown",function(t){t=t.keyCode,91===t||t>15&&19>t||t>=37&&40>=t||c()}),e.on("change",u),s.hasEvent("paste")&&e.on("paste cut",c)}r.$render=function(){e.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)};var h=o.ngPattern,d=function(t,e){return r.$isEmpty(e)||t.test(e)?(r.$setValidity("pattern",!0),e):(r.$setValidity("pattern",!1),n)};if(h&&((s=h.match(/^\/(.*)\/([gim]*)$/))?(h=RegExp(s[1],s[2]),s=function(t){return d(h,t)}):s=function(n){var o=t.$eval(h);if(!o||!o.test)throw i("ngPattern")("noregexp",h,o,z(e));return d(o,n)},r.$formatters.push(s),r.$parsers.push(s)),o.ngMinlength){var p=f(o.ngMinlength);s=function(t){return!r.$isEmpty(t)&&t.length<p?(r.$setValidity("minlength",!1),n):(r.$setValidity("minlength",!0),t)},r.$parsers.push(s),r.$formatters.push(s)}if(o.ngMaxlength){var m=f(o.ngMaxlength);s=function(t){return!r.$isEmpty(t)&&t.length>m?(r.$setValidity("maxlength",!1),n):(r.$setValidity("maxlength",!0),t)},r.$parsers.push(s),r.$formatters.push(s)}}function On(t,e){return t="ngClass"+t,function(){return{restrict:"AC",link:function(n,i,o){function s(t){(!0===e||n.$index%2===e)&&(u&&!A(t,u)&&o.$removeClass(a(u)),o.$addClass(a(t))),u=D(t)}function a(t){if(x(t))return t.join(" ");if(y(t)){var e=[];return r(t,function(t,n){t&&e.push(n)}),e.join(" ")}return t}var u;n.$watch(o[t],s,!0),o.$observe("class",function(){s(n.$eval(o[t]))}),"ngClass"!==t&&n.$watch("$index",function(i,r){var s=1&i;s!==r&1&&(s===e?(s=n.$eval(o[t]),o.$addClass(a(s))):(s=n.$eval(o[t]),o.$removeClass(a(s))))})}}}}var In,Un,Nn,Rn,Bn,zn=function(t){return $(t)?t.toLowerCase():t},jn=function(t){return $(t)?t.toUpperCase():t},Fn=[].slice,Hn=[].push,Zn=Object.prototype.toString,Wn=i("ng"),Yn=t.angular||(t.angular={}),Vn=["0","0","0"];In=f((/msie (\d+)/.exec(zn(navigator.userAgent))||[])[1]),isNaN(In)&&(In=f((/trident\/.*; rv:(\d+)/.exec(zn(navigator.userAgent))||[])[1])),p.$inject=[],m.$inject=[];var qn=function(){return String.prototype.trim?function(t){return $(t)?t.trim():t}:function(t){return $(t)?t.replace(/^\s*/,"").replace(/\s*$/,""):t}}();Bn=9>In?function(t){return t=t.nodeName?t:t[0],t.scopeName&&"HTML"!=t.scopeName?jn(t.scopeName+":"+t.nodeName):t.nodeName}:function(t){return t.nodeName?t.nodeName:t[0].nodeName};var Gn=/[A-Z]/g,Jn={full:"1.2.1",major:1,minor:2,dot:1,codeName:"underscore-empathy"},Xn=ie.cache={},Kn=ie.expando="ng-"+(new Date).getTime(),Qn=1,ti=t.document.addEventListener?function(t,e,n){t.addEventListener(e,n,!1)}:function(t,e,n){t.attachEvent("on"+e,n)},ei=t.document.removeEventListener?function(t,e,n){t.removeEventListener(e,n,!1)}:function(t,e,n){t.detachEvent("on"+e,n)
},ni=/([\:\-\_]+(.))/g,ii=/^moz([A-Z])/,oi=i("jqLite"),ri=ie.prototype={ready:function(n){function i(){o||(o=!0,n())}var o=!1;"complete"===e.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),ie(t).on("load",i))},toString:function(){var t=[];return r(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Un(t>=0?this[t]:this[this.length+t])},length:0,push:Hn,sort:[].sort,splice:[].splice},si={};r("multiple selected checked disabled readOnly required open".split(" "),function(t){si[zn(t)]=t});var ai={};r("input select option textarea button form details".split(" "),function(t){ai[jn(t)]=!0}),r({data:le,inheritedData:me,scope:function(t){return Un(t).data("$scope")||me(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Un(t).data("$isolateScope")||Un(t).data("$isolateScopeNoTemplate")},controller:pe,injector:function(t){return me(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:ce,css:function(t,e,i){if(e=ee(e),!_(i)){var o;return 8>=In&&(o=t.currentStyle&&t.currentStyle[e],""===o&&(o="auto")),o=o||t.style[e],8>=In&&(o=""===o?n:o),o}t.style[e]=i},attr:function(t,e,i){var o=zn(e);if(si[o]){if(!_(i))return t[e]||(t.attributes.getNamedItem(e)||p).specified?o:n;i?(t[e]=!0,t.setAttribute(e,o)):(t[e]=!1,t.removeAttribute(o))}else if(_(i))t.setAttribute(e,i);else if(t.getAttribute)return t=t.getAttribute(e,2),null===t?n:t},prop:function(t,e,n){return _(n)?void(t[e]=n):t[e]},text:function(){function t(t,n){var i=e[t.nodeType];return v(n)?i?t[i]:"":void(t[i]=n)}var e=[];return 9>In?(e[1]="innerText",e[3]="nodeValue"):e[1]=e[3]="textContent",t.$dv="",t}(),val:function(t,e){if(v(e)){if("SELECT"===Bn(t)&&t.multiple){var n=[];return r(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){if(v(e))return t.innerHTML;for(var n=0,i=t.childNodes;n<i.length;n++)re(i[n]);t.innerHTML=e}},function(t,e){ie.prototype[e]=function(e,i){var o,r;if((2==t.length&&t!==ce&&t!==pe?e:i)===n){if(y(e)){for(o=0;o<this.length;o++)if(t===le)t(this[o],e);else for(r in e)t(this[o],r,e[r]);return this}o=t.$dv,r=o===n?Math.min(this.length,1):this.length;for(var s=0;r>s;s++){var a=t(this[s],e,i);o=o?o+a:a}return o}for(o=0;o<this.length;o++)t(this[o],e,i);return this}}),r({removeData:ae,dealoc:re,on:function Ro(t,n,i,o){if(_(o))throw oi("onargs");var s=ue(t,"events"),a=ue(t,"handle");s||ue(t,"events",s={}),a||ue(t,"handle",a=ve(t,s)),r(n.split(" "),function(n){var o=s[n];if(!o){if("mouseenter"==n||"mouseleave"==n){var r=e.body.contains||e.body.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1};s[n]=[],Ro(t,{mouseleave:"mouseout",mouseenter:"mouseover"}[n],function(t){var e=t.relatedTarget;e&&(e===this||r(this,e))||a(t,n)})}else ti(t,n,a),s[n]=[];o=s[n]}o.push(i)})},off:se,replaceWith:function(t,e){var n,i=t.parentNode;re(t),r(new ie(e),function(e){n?i.insertBefore(e,n.nextSibling):i.replaceChild(e,t),n=e})},children:function(t){var e=[];return r(t.childNodes,function(t){1===t.nodeType&&e.push(t)}),e},contents:function(t){return t.childNodes||[]},append:function(t,e){r(new ie(e),function(e){1!==t.nodeType&&11!==t.nodeType||t.appendChild(e)})},prepend:function(t,e){if(1===t.nodeType){var n=t.firstChild;r(new ie(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){e=Un(e)[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:function(t){re(t);var e=t.parentNode;e&&e.removeChild(t)},after:function(t,e){var n=t,i=t.parentNode;r(new ie(e),function(t){i.insertBefore(t,n.nextSibling),n=t})},addClass:fe,removeClass:he,toggleClass:function(t,e,n){v(n)&&(n=!ce(t,e)),(n?fe:he)(t,e)},parent:function(t){return(t=t.parentNode)&&11!==t.nodeType?t:null},next:function(t){if(t.nextElementSibling)return t.nextElementSibling;for(t=t.nextSibling;null!=t&&1!==t.nodeType;)t=t.nextSibling;return t},find:function(t,e){return t.getElementsByTagName(e)},clone:oe,triggerHandler:function(t,e,n){e=(ue(t,"events")||{})[e],n=n||[];var i=[{preventDefault:p,stopPropagation:p}];r(e,function(e){e.apply(t,i.concat(n))})}},function(t,e){ie.prototype[e]=function(e,n,i){for(var o,r=0;r<this.length;r++)v(o)?(o=t(this[r],e,n,i),_(o)&&(o=Un(o))):de(o,t(this[r],e,n,i));return _(o)?o:this},ie.prototype.bind=ie.prototype.on,ie.prototype.unbind=ie.prototype.off}),ye.prototype={put:function(t,e){this[_e(t)]=e},get:function(t){return this[_e(t)]},remove:function(t){var e=this[t=_e(t)];return delete this[t],e}};var ui=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,li=/,/,ci=/^\s*(_?)(\S+?)\1\s*$/,hi=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,fi=i("$injector"),di=i("$animate"),pi=["$provide",function(t){this.$$selectors={},this.register=function(e,n){var i=e+"-animation";if(e&&"."!=e.charAt(0))throw di("notcsel",e);this.$$selectors[e.substr(1)]=i,t.factory(i,n)},this.$get=["$timeout",function(t){return{enter:function(e,n,i,o){i=i&&i[i.length-1];var s=n&&n[0]||i&&i.parentNode,a=i&&i.nextSibling||null;r(e,function(t){s.insertBefore(t,a)}),o&&t(o,0,!1)},leave:function(e,n){e.remove(),n&&t(n,0,!1)},move:function(t,e,n,i){this.enter(t,e,n,i)},addClass:function(e,n,i){n=$(n)?n:x(n)?n.join(" "):"",r(e,function(t){fe(t,n)}),i&&t(i,0,!1)},removeClass:function(e,n,i){n=$(n)?n:x(n)?n.join(" "):"",r(e,function(t){he(t,n)}),i&&t(i,0,!1)},enabled:p}}]}],mi=i("$compile");Se.$inject=["$provide"];var gi=/^(x[\:\-_]|data[\:\-_])/i,vi=t.XMLHttpRequest||function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw i("$httpBackend")("noxhr")},_i=i("$interpolate"),yi=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,$i={http:80,https:443,ftp:21},wi=i("$location");Ge.prototype=qe.prototype=Ve.prototype={$$html5:!1,$$replace:!1,absUrl:Je("$$absUrl"),url:function(t,e){if(v(t))return this.$$url;var n=yi.exec(t);return n[1]&&this.path(decodeURIComponent(n[1])),(n[2]||n[1])&&this.search(n[3]||""),this.hash(n[5]||"",e),this},protocol:Je("$$protocol"),host:Je("$$host"),port:Je("$$port"),path:Xe("$$path",function(t){return"/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if($(t))this.$$search=F(t);else{if(!y(t))throw wi("isrcharg");this.$$search=t}break;default:v(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Xe("$$hash",m),replace:function(){return this.$$replace=!0,this}};var bi,xi=i("$parse"),Pi={},Li={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:p,"+":function(t,e,i,o){return i=i(t,e),o=o(t,e),_(i)?_(o)?i+o:i:_(o)?o:n},"-":function(t,e,n,i){return n=n(t,e),i=i(t,e),(_(n)?n:0)-(_(i)?i:0)},"*":function(t,e,n,i){return n(t,e)*i(t,e)},"/":function(t,e,n,i){return n(t,e)/i(t,e)},"%":function(t,e,n,i){return n(t,e)%i(t,e)},"^":function(t,e,n,i){return n(t,e)^i(t,e)},"=":p,"===":function(t,e,n,i){return n(t,e)===i(t,e)},"!==":function(t,e,n,i){return n(t,e)!==i(t,e)},"==":function(t,e,n,i){return n(t,e)==i(t,e)},"!=":function(t,e,n,i){return n(t,e)!=i(t,e)},"<":function(t,e,n,i){return n(t,e)<i(t,e)},">":function(t,e,n,i){return n(t,e)>i(t,e)},"<=":function(t,e,n,i){return n(t,e)<=i(t,e)},">=":function(t,e,n,i){return n(t,e)>=i(t,e)},"&&":function(t,e,n,i){return n(t,e)&&i(t,e)},"||":function(t,e,n,i){return n(t,e)||i(t,e)},"&":function(t,e,n,i){return n(t,e)&i(t,e)},"|":function(t,e,n,i){return i(t,e)(t,e,n(t,e))},"!":function(t,e,n){return!n(t,e)}},Ci={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Si=function(t){this.options=t};Si.prototype={constructor:Si,lex:function(t){this.text=t,this.index=0,this.ch=n,this.lastCh=":",this.tokens=[];var e;for(t=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent(),this.was("{,")&&"{"===t[0]&&(e=this.tokens[this.tokens.length-1])&&(e.json=-1===e.text.indexOf("."));else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch,json:this.was(":[,")&&this.is("{[")||this.is("}]:,")}),this.is("{[")&&t.unshift(this.ch),this.is("}]")&&t.shift(),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var i=this.ch+this.peek(),o=i+this.peek(2),r=Li[this.ch],s=Li[i],a=Li[o];a?(this.tokens.push({index:this.index,text:o,fn:a}),this.index+=3):s?(this.tokens.push({index:this.index,text:i,fn:s}),this.index+=2):r?(this.tokens.push({index:this.index,text:this.ch,fn:r,json:this.was("[,:")&&this.is("+-")}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(t){return-1!==t.indexOf(this.ch)},was:function(t){return-1!==t.indexOf(this.lastCh)},peek:function(t){return t=t||1,this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(t){return t>="0"&&"9">=t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||""===t||" "===t},isIdent:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){throw n=n||this.index,e=_(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n,xi("lexerr",t,e,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=zn(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}t*=1,this.tokens.push({index:e,text:t,json:!0,fn:function(){return t}})},readIdent:function(){for(var t,e,n,i,o=this,r="",s=this.index;this.index<this.text.length&&(i=this.text.charAt(this.index),"."===i||this.isIdent(i)||this.isNumber(i));)"."===i&&(t=this.index),r+=i,this.index++;if(t)for(e=this.index;e<this.text.length;){if(i=this.text.charAt(e),"("===i){n=r.substr(t-s+1),r=r.substr(0,t-s),this.index=e;break}if(!this.isWhitespace(i))break;e++}if(s={index:s,text:r},Li.hasOwnProperty(r))s.fn=Li[r],s.json=Li[r];else{var a=rn(r,this.options,this.text);s.fn=h(function(t,e){return a(t,e)},{assign:function(t,e){return nn(t,r,e,o.text,o.options)}})}this.tokens.push(s),n&&(this.tokens.push({index:t,text:".",json:!1}),this.tokens.push({index:t+1,text:n,json:!1}))},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,o=!1;this.index<this.text.length;){var r=this.text.charAt(this.index),i=i+r;if(o)"u"===r?(r=this.text.substring(this.index+1,this.index+5),r.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+r+"]"),this.index+=4,n+=String.fromCharCode(parseInt(r,16))):n=(o=Ci[r])?n+o:n+r,o=!1;else if("\\"===r)o=!0;else{if(r===t)return this.index++,void this.tokens.push({index:e,text:i,string:n,json:!0,fn:function(){return n}});n+=r}this.index++}this.throwError("Unterminated quote",e)}};var Mi=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n};Mi.ZERO=function(){return 0},Mi.prototype={constructor:Mi,parse:function(t,e){this.text=t,this.json=e,this.tokens=this.lexer.lex(t),e&&(this.assignment=this.logicalOR,this.functionCall=this.fieldAccess=this.objectIndex=this.filterChain=function(){this.throwError("is not valid json",{text:t,index:0})});var n=e?this.primary():this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),n.literal=!!n.literal,n.constant=!!n.constant,n},primary:function(){var t;if(this.expect("("))t=this.filterChain(),this.consume(")");else if(this.expect("["))t=this.arrayDeclaration();else if(this.expect("{"))t=this.object();else{var e=this.expect();(t=e.fn)||this.throwError("not a primary expression",e),e.json&&(t.constant=!0,t.literal=!0)}for(var n;e=this.expect("(","[",".");)"("===e.text?(t=this.functionCall(t,n),n=null):"["===e.text?(n=t,t=this.objectIndex(t)):"."===e.text?(n=t,t=this.fieldAccess(t)):this.throwError("IMPOSSIBLE");return t},throwError:function(t,e){throw xi("syntax",e.text,t,e.index+1,this.text,this.text.substring(e.index))},peekToken:function(){if(0===this.tokens.length)throw xi("ueoe",this.text);return this.tokens[0]},peek:function(t,e,n,i){if(0<this.tokens.length){var o=this.tokens[0],r=o.text;if(r===t||r===e||r===n||r===i||!(t||e||n||i))return o}return!1},expect:function(t,e,n,i){return(t=this.peek(t,e,n,i))?(this.json&&!t.json&&this.throwError("is not valid json",t),this.tokens.shift(),t):!1},consume:function(t){this.expect(t)||this.throwError("is unexpected, expecting ["+t+"]",this.peek())},unaryFn:function(t,e){return h(function(n,i){return t(n,i,e)},{constant:e.constant})},ternaryFn:function(t,e,n){return h(function(i,o){return t(i,o)?e(i,o):n(i,o)},{constant:t.constant&&e.constant&&n.constant})},binaryFn:function(t,e,n){return h(function(i,o){return e(i,o,t,n)},{constant:t.constant&&n.constant})},statements:function(){for(var t=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&t.push(this.filterChain()),!this.expect(";"))return 1===t.length?t[0]:function(e,n){for(var i,o=0;o<t.length;o++){var r=t[o];r&&(i=r(e,n))}return i}},filterChain:function(){for(var t,e=this.expression();;){if(!(t=this.expect("|")))return e;e=this.binaryFn(e,t.fn,this.filter())}},filter:function(){for(var t=this.expect(),e=this.$filter(t.text),n=[];;){if(!(t=this.expect(":"))){var i=function(t,i,o){o=[o];for(var r=0;r<n.length;r++)o.push(n[r](t,i));return e.apply(t,o)};return function(){return i}}n.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var t,e,n=this.ternary();return(e=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,e.index)+"] can not be assigned to",e),t=this.ternary(),function(e,i){return n.assign(e,t(e,i),i)}):n},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")?(t=this.ternary(),(e=this.expect(":"))?this.ternaryFn(n,t,this.ternary()):void this.throwError("expected :",e)):n},logicalOR:function(){for(var t,e=this.logicalAND();;){if(!(t=this.expect("||")))return e;e=this.binaryFn(e,t.fn,this.logicalAND())}},logicalAND:function(){var t,e=this.equality();return(t=this.expect("&&"))&&(e=this.binaryFn(e,t.fn,this.logicalAND())),e},equality:function(){var t,e=this.relational();return(t=this.expect("==","!=","===","!=="))&&(e=this.binaryFn(e,t.fn,this.equality())),e},relational:function(){var t,e=this.additive();return(t=this.expect("<",">","<=",">="))&&(e=this.binaryFn(e,t.fn,this.relational())),e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e=this.binaryFn(e,t.fn,this.multiplicative());return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e=this.binaryFn(e,t.fn,this.unary());return e},unary:function(){var t;return this.expect("+")?this.primary():(t=this.expect("-"))?this.binaryFn(Mi.ZERO,t.fn,this.unary()):(t=this.expect("!"))?this.unaryFn(t.fn,this.unary()):this.primary()},fieldAccess:function(t){var e=this,n=this.expect().text,i=rn(n,this.options,this.text);return h(function(e,n,o){return i(o||t(e,n),n)},{assign:function(i,o,r){return nn(t(i,r),n,o,e.text,e.options)}})},objectIndex:function(t){var e=this,i=this.expression();return this.consume("]"),h(function(o,r){var s,a=t(o,r),u=i(o,r);return a?((a=en(a[u],e.text))&&a.then&&e.options.unwrapPromises&&(s=a,"$$v"in a||(s.$$v=n,s.then(function(t){s.$$v=t})),a=a.$$v),a):n},{assign:function(n,o,r){var s=i(n,r);return en(t(n,r),e.text)[s]=o}})},functionCall:function(t,e){var n=[];if(")"!==this.peekToken().text)do n.push(this.expression());while(this.expect(","));this.consume(")");var i=this;return function(o,r){for(var s=[],a=e?e(o,r):o,u=0;u<n.length;u++)s.push(n[u](o,r));return u=t(o,r,a)||p,en(a,i.text),en(u,i.text),s=u.apply?u.apply(a,s):u(s[0],s[1],s[2],s[3],s[4]),en(s,i.text)}},arrayDeclaration:function(){var t=[],e=!0;if("]"!==this.peekToken().text)do{var n=this.expression();t.push(n),n.constant||(e=!1)}while(this.expect(","));return this.consume("]"),h(function(e,n){for(var i=[],o=0;o<t.length;o++)i.push(t[o](e,n));return i},{literal:!0,constant:e})},object:function(){var t=[],e=!0;if("}"!==this.peekToken().text)do{var n=this.expect(),n=n.string||n.text;this.consume(":");var i=this.expression();t.push({key:n,value:i}),i.constant||(e=!1)}while(this.expect(","));return this.consume("}"),h(function(e,n){for(var i={},o=0;o<t.length;o++){var r=t[o];i[r.key]=r.value(e,n)}return i},{literal:!0,constant:e})}};var Ti={},ki=i("$sce"),Di={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Ei=e.createElement("a"),Ai=/^\/?.*?:(\/.*)/,Oi=gn(t.location.href,!0);yn.$inject=["$provide"],wn.$inject=["$locale"],bn.$inject=["$locale"];var Ii=".",Ui={yyyy:Ln("FullYear",4),yy:Ln("FullYear",2,0,!0),y:Ln("FullYear",1),MMMM:Cn("Month"),MMM:Cn("Month",!0),MM:Ln("Month",2,1),M:Ln("Month",1,1),dd:Ln("Date",2),d:Ln("Date",1),HH:Ln("Hours",2),H:Ln("Hours",1),hh:Ln("Hours",2,-12),h:Ln("Hours",1,-12),mm:Ln("Minutes",2),m:Ln("Minutes",1),ss:Ln("Seconds",2),s:Ln("Seconds",1),sss:Ln("Milliseconds",3),EEEE:Cn("Day"),EEE:Cn("Day",!0),a:function(t,e){return 12>t.getHours()?e.AMPMS[0]:e.AMPMS[1]},Z:function(t){return t=-1*t.getTimezoneOffset(),t=(t>=0?"+":"")+(Pn(Math[t>0?"floor":"ceil"](t/60),2)+Pn(Math.abs(t%60),2))}},Ni=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,Ri=/^\-?\d+$/;Sn.$inject=["$locale"];var Bi=g(zn),zi=g(jn);kn.$inject=["$parse"];var ji=g({restrict:"E",compile:function(t,n){return 8>=In&&(n.href||n.name||n.$set("href",""),t.append(e.createComment("IE fix"))),function(t,e){e.on("click",function(t){e.attr("href")||t.preventDefault()})}}}),Fi={};r(si,function(t,e){if("multiple"!=t){var n=Me("ng-"+e);Fi[n]=function(){return{priority:100,compile:function(){return function(t,i,o){t.$watch(o[n],function(t){o.$set(e,!!t)})}}}}}}),r(["src","srcset","href"],function(t){var e=Me("ng-"+t);Fi[e]=function(){return{priority:99,link:function(n,i,o){o.$observe(e,function(e){e&&(o.$set(t,e),In&&i.prop(t,o[t]))})}}}});var Hi={$addControl:p,$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p};En.$inject=["$element","$attrs","$scope"];var Zi=function(t){return["$timeout",function(e){return{name:"form",restrict:t?"EAC":"E",controller:En,compile:function(){return{pre:function(t,i,o,r){if(!o.action){var s=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1};ti(i[0],"submit",s),i.on("$destroy",function(){e(function(){ei(i[0],"submit",s)},0,!1)})}var a=i.parent().controller("form"),u=o.name||o.ngForm;u&&nn(t,u,r,u),a&&i.on("$destroy",function(){a.$removeControl(r),u&&nn(t,u,n,u),h(r,Hi)})}}}}}]},Wi=Zi(),Yi=Zi(!0),Vi=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,qi=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,6}$/,Gi=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Ji={text:An,number:function(t,e,i,o,r,s){An(t,e,i,o,r,s),o.$parsers.push(function(t){var e=o.$isEmpty(t);return e||Gi.test(t)?(o.$setValidity("number",!0),""===t?null:e?t:parseFloat(t)):(o.$setValidity("number",!1),n)}),o.$formatters.push(function(t){return o.$isEmpty(t)?"":""+t}),i.min&&(t=function(t){var e=parseFloat(i.min);return!o.$isEmpty(t)&&e>t?(o.$setValidity("min",!1),n):(o.$setValidity("min",!0),t)},o.$parsers.push(t),o.$formatters.push(t)),i.max&&(t=function(t){var e=parseFloat(i.max);return!o.$isEmpty(t)&&t>e?(o.$setValidity("max",!1),n):(o.$setValidity("max",!0),t)},o.$parsers.push(t),o.$formatters.push(t)),o.$formatters.push(function(t){return o.$isEmpty(t)||w(t)?(o.$setValidity("number",!0),t):(o.$setValidity("number",!1),n)})},url:function(t,e,i,o,r,s){An(t,e,i,o,r,s),t=function(t){return o.$isEmpty(t)||Vi.test(t)?(o.$setValidity("url",!0),t):(o.$setValidity("url",!1),n)},o.$formatters.push(t),o.$parsers.push(t)},email:function(t,e,i,o,r,s){An(t,e,i,o,r,s),t=function(t){return o.$isEmpty(t)||qi.test(t)?(o.$setValidity("email",!0),t):(o.$setValidity("email",!1),n)},o.$formatters.push(t),o.$parsers.push(t)},radio:function(t,e,n,i){v(n.name)&&e.attr("name",l()),e.on("click",function(){e[0].checked&&t.$apply(function(){i.$setViewValue(n.value)})}),i.$render=function(){e[0].checked=n.value==i.$viewValue},n.$observe("value",i.$render)},checkbox:function(t,e,n,i){var o=n.ngTrueValue,r=n.ngFalseValue;$(o)||(o=!0),$(r)||(r=!1),e.on("click",function(){t.$apply(function(){i.$setViewValue(e[0].checked)})}),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return t!==o},i.$formatters.push(function(t){return t===o}),i.$parsers.push(function(t){return t?o:r})},hidden:p,button:p,submit:p,reset:p},Xi=["$browser","$sniffer",function(t,e){return{restrict:"E",require:"?ngModel",link:function(n,i,o,r){r&&(Ji[zn(o.type)]||Ji.text)(n,i,o,r,e,t)}}}],Ki="ng-valid",Qi="ng-invalid",to="ng-pristine",eo="ng-dirty",no=["$scope","$exceptionHandler","$attrs","$element","$parse",function(t,e,n,o,s){function a(t,e){e=e?"-"+q(e,"-"):"",o.removeClass((t?Qi:Ki)+e).addClass((t?Ki:Qi)+e)}this.$modelValue=this.$viewValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=n.name;var u=s(n.ngModel),l=u.assign;if(!l)throw i("ngModel")("nonassign",n.ngModel,z(o));this.$render=p,this.$isEmpty=function(t){return v(t)||""===t||null===t||t!==t};var c=o.inheritedData("$formController")||Hi,h=0,f=this.$error={};o.addClass(to),a(!0),this.$setValidity=function(t,e){f[t]!==!e&&(e?(f[t]&&h--,h||(a(!0),this.$valid=!0,this.$invalid=!1)):(a(!1),this.$invalid=!0,this.$valid=!1,h++),f[t]=!e,a(e,t),c.$setValidity(t,e,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,o.removeClass(eo).addClass(to)},this.$setViewValue=function(n){this.$viewValue=n,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,o.removeClass(to).addClass(eo),c.$setDirty()),r(this.$parsers,function(t){n=t(n)}),this.$modelValue!==n&&(this.$modelValue=n,l(t,n),r(this.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}}))};var d=this;t.$watch(function(){var e=u(t);if(d.$modelValue!==e){var n=d.$formatters,i=n.length;for(d.$modelValue=e;i--;)e=n[i](e);d.$viewValue!==e&&(d.$viewValue=e,d.$render())}})}],io=function(){return{require:["ngModel","^?form"],controller:no,link:function(t,e,n,i){var o=i[0],r=i[1]||Hi;r.$addControl(o),t.$on("$destroy",function(){r.$removeControl(o)})}}},oo=g({require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),ro=function(){return{require:"?ngModel",link:function(t,e,n,i){if(i){n.required=!0;var o=function(t){return n.required&&i.$isEmpty(t)?void i.$setValidity("required",!1):(i.$setValidity("required",!0),t)};i.$formatters.push(o),i.$parsers.unshift(o),n.$observe("required",function(){o(i.$viewValue)})}}}},so=function(){return{require:"ngModel",link:function(t,e,i,o){var s=(t=/\/(.*)\//.exec(i.ngList))&&RegExp(t[1])||i.ngList||",";o.$parsers.push(function(t){if(!v(t)){var e=[];return t&&r(t.split(s),function(t){t&&e.push(qn(t))}),e}}),o.$formatters.push(function(t){return x(t)?t.join(", "):n}),o.$isEmpty=function(t){return!t||!t.length}}}},ao=/^(true|false|\d+)$/,uo=function(){return{priority:100,compile:function(t,e){return ao.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},lo=Dn(function(t,e,i){e.addClass("ng-binding").data("$binding",i.ngBind),t.$watch(i.ngBind,function(t){e.text(t==n?"":t)})}),co=["$interpolate",function(t){return function(e,n,i){e=t(n.attr(i.$attr.ngBindTemplate)),n.addClass("ng-binding").data("$binding",e),i.$observe("ngBindTemplate",function(t){n.text(t)})}}],ho=["$sce","$parse",function(t,e){return function(n,i,o){i.addClass("ng-binding").data("$binding",o.ngBindHtml);var r=e(o.ngBindHtml);n.$watch(function(){return(r(n)||"").toString()},function(){i.html(t.getTrustedHtml(r(n))||"")})}}],fo=On("",!0),po=On("Odd",0),mo=On("Even",1),go=Dn({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),vo=[function(){return{scope:!0,controller:"@"}}],_o={};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=Me("ng-"+t);_o[e]=["$parse",function(n){return{compile:function(i,o){var r=n(o[e]);return function(e,n){n.on(zn(t),function(t){e.$apply(function(){r(e,{$event:t})})})}}}}]});var yo=["$animate",function(t){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,o,r,s){var a,u;n.$watch(o.ngIf,function(r){B(r)?u||(u=n.$new(),s(u,function(n){a={startNode:n[0],endNode:n[n.length++]=e.createComment(" end ngIf: "+o.ngIf+" ")},t.enter(n,i.parent(),i)})):(u&&(u.$destroy(),u=null),a&&(t.leave(Q(a)),a=null))})}}}],$o=["$http","$templateCache","$anchorScroll","$compile","$animate","$sce",function(t,e,n,i,o,r){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",compile:function(s,a){var u=a.ngInclude||a.src,l=a.onload||"",c=a.autoscroll;return function(s,a,h,f,d){var p,m,g=0,v=function(){p&&(p.$destroy(),p=null),m&&(o.leave(m),m=null)};s.$watch(r.parseAsResourceUrl(u),function(r){var u=function(){!_(c)||c&&!s.$eval(c)||n()},h=++g;r?(t.get(r,{cache:e}).success(function(t){if(h===g){var e=s.$new();d(e,function(n){v(),p=e,m=n,m.html(t),o.enter(m,null,a,u),i(m.contents())(p),p.$emit("$includeContentLoaded"),s.$eval(l)})}}).error(function(){h===g&&v()}),s.$emit("$includeContentRequested")):v()})}}}}],wo=Dn({compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),bo=Dn({terminal:!0,priority:1e3}),xo=["$locale","$interpolate",function(t,e){var n=/{}/g;return{restrict:"EA",link:function(i,o,s){var a=s.count,u=s.$attr.when&&o.attr(s.$attr.when),l=s.offset||0,c=i.$eval(u)||{},h={},f=e.startSymbol(),d=e.endSymbol(),p=/^when(Minus)?(.+)$/;r(s,function(t,e){p.test(e)&&(c[zn(e.replace("when","").replace("Minus","-"))]=o.attr(s.$attr[e]))}),r(c,function(t,i){h[i]=e(t.replace(n,f+a+"-"+l+d))}),i.$watch(function(){var e=parseFloat(i.$eval(a));return isNaN(e)?"":(e in c||(e=t.pluralCat(e-l)),h[e](i,o,!0))},function(t){o.text(t)})}}}],Po=["$parse","$animate",function(t,n){var s=i("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(i,a,u,l,c){var h,f,d,p,m,g,v=u.ngRepeat,_=v.match(/^\s*(.+)\s+in\s+(.*?)\s*(\s+track\s+by\s+(.+)\s*)?$/),y={$id:_e};if(!_)throw s("iexp",v);if(u=_[1],l=_[2],(_=_[4])?(h=t(_),f=function(t,e,n){return g&&(y[g]=t),y[m]=e,y.$index=n,h(i,y)}):(d=function(t,e){return _e(e)},p=function(t){return t}),_=u.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!_)throw s("iidexp",u);m=_[3]||_[1],g=_[2];var $={};i.$watchCollection(l,function(t){var u,l,h,_,y,w,b,x,P,L=a[0],C={},S=[];if(o(t))x=t,h=f||d;else{h=f||p,x=[];for(w in t)t.hasOwnProperty(w)&&"$"!=w.charAt(0)&&x.push(w);x.sort()}for(_=x.length,l=S.length=x.length,u=0;l>u;u++)if(w=t===x?u:x[u],b=t[w],b=h(w,b,u),X(b,"`track by` id"),$.hasOwnProperty(b))P=$[b],delete $[b],C[b]=P,S[u]=P;else{if(C.hasOwnProperty(b))throw r(S,function(t){t&&t.startNode&&($[t.id]=t)}),s("dupes",v,b);S[u]={id:b},C[b]=!1}for(w in $)$.hasOwnProperty(w)&&(P=$[w],u=Q(P),n.leave(u),r(u,function(t){t.$$NG_REMOVED=!0}),P.scope.$destroy());for(u=0,l=x.length;l>u;u++){if(w=t===x?u:x[u],b=t[w],P=S[u],S[u-1]&&(L=S[u-1].endNode),P.startNode){y=P.scope,h=L;do h=h.nextSibling;while(h&&h.$$NG_REMOVED);P.startNode!=h&&n.move(Q(P),null,Un(L)),L=P.endNode}else y=i.$new();y[m]=b,g&&(y[g]=w),y.$index=u,y.$first=0===u,y.$last=u===_-1,y.$middle=!(y.$first||y.$last),y.$odd=!(y.$even=0===(1&u)),P.startNode||c(y,function(t){t[t.length++]=e.createComment(" end ngRepeat: "+v+" "),n.enter(t,null,Un(L)),L=t,P.scope=y,P.startNode=L&&L.endNode?L.endNode:t[0],P.endNode=t[t.length-1],C[P.id]=P})}$=C})}}}],Lo=["$animate",function(t){return function(e,n,i){e.$watch(i.ngShow,function(e){t[B(e)?"removeClass":"addClass"](n,"ng-hide")})}}],Co=["$animate",function(t){return function(e,n,i){e.$watch(i.ngHide,function(e){t[B(e)?"addClass":"removeClass"](n,"ng-hide")})}}],So=Dn(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&r(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),Mo=["$animate",function(t){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(e,n,i,o){var s,a,u=[];e.$watch(i.ngSwitch||i.on,function(n){for(var l=0,c=u.length;c>l;l++)u[l].$destroy(),t.leave(a[l]);a=[],u=[],(s=o.cases["!"+n]||o.cases["?"])&&(e.$eval(i.change),r(s,function(n){var i=e.$new();u.push(i),n.transclude(i,function(e){var i=n.element;a.push(e),t.enter(e,i.parent(),i)})}))})}}}],To=Dn({transclude:"element",priority:800,require:"^ngSwitch",compile:function(t,e){return function(t,n,i,o,r){o.cases["!"+e.ngSwitchWhen]=o.cases["!"+e.ngSwitchWhen]||[],o.cases["!"+e.ngSwitchWhen].push({transclude:r,element:n})}}}),ko=Dn({transclude:"element",priority:800,require:"^ngSwitch",link:function(t,e,n,i,o){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:o,element:e})}}),Do=Dn({controller:["$element","$transclude",function(t,e){if(!e)throw i("ngTransclude")("orphan",z(t));this.$transclude=e}],link:function(t,e,n,i){i.$transclude(function(t){e.html(""),e.append(t)})}}),Eo=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){"text/ng-template"==n.type&&t.put(n.id,e[0].text)}}}],Ao=i("ngOptions"),Oo=g({terminal:!0}),Io=["$compile","$parse",function(t,i){var o=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/,a={$setViewValue:p};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(t,e,n){var i,o=this,r={},s=a;o.databound=n.ngModel,o.init=function(t,e,n){s=t,i=n},o.addOption=function(e){X(e,'"option value"'),r[e]=!0,s.$viewValue==e&&(t.val(e),i.parent()&&i.remove())},o.removeOption=function(t){this.hasOption(t)&&(delete r[t],s.$viewValue==t&&this.renderUnknownOption(t))},o.renderUnknownOption=function(e){e="? "+_e(e)+" ?",i.val(e),t.prepend(i),t.val(e),i.prop("selected",!0)},o.hasOption=function(t){return r.hasOwnProperty(t)},e.$on("$destroy",function(){o.renderUnknownOption=p})}],link:function(a,u,l,c){function h(t,e,n,i){n.$render=function(){var t=n.$viewValue;i.hasOption(t)?(L.parent()&&L.remove(),e.val(t),""===t&&p.prop("selected",!0)):v(t)&&p?e.val(""):i.renderUnknownOption(t)},e.on("change",function(){t.$apply(function(){L.parent()&&L.remove(),n.$setViewValue(e.val())})})}function f(t,e,n){var i;n.$render=function(){var t=new ye(n.$viewValue);r(e.find("option"),function(e){e.selected=_(t.get(e.value))})},t.$watch(function(){A(i,n.$viewValue)||(i=D(n.$viewValue),n.$render())}),e.on("change",function(){t.$apply(function(){var t=[];r(e.find("option"),function(e){e.selected&&t.push(e.value)}),n.$setViewValue(t)})})}function d(e,r,a){function u(){var t,n,i,o,u,l={"":[]},$=[""];o=a.$modelValue,u=m(e)||[];var L,C,S,M=f?s(u):u;C={},i=!1;var T,k;if(y)if(g&&x(o))for(i=new ye([]),S=0;S<o.length;S++)C[h]=o[S],i.put(g(e,C),o[S]);else i=new ye(o);for(S=0;L=M.length,L>S;S++){if(n=S,f){if(n=M[S],"$"===n.charAt(0))continue;C[f]=n}C[h]=u[n],t=d(e,C)||"",(n=l[t])||(n=l[t]=[],$.push(t)),y?t=_(i.remove(g?g(e,C):p(e,C))):(g?(t={},t[h]=o,t=g(e,t)===g(e,C)):t=o===p(e,C),i=i||t),T=c(e,C),T=_(T)?T:"",n.push({id:g?g(e,C):f?M[S]:S,label:T,selected:t})}for(y||(w||null===o?l[""].unshift({id:"",label:"",selected:!i}):i||l[""].unshift({id:"?",label:"",selected:!0})),C=0,M=$.length;M>C;C++){for(t=$[C],n=l[t],v.length<=C?(o={element:P.clone().attr("label",t),label:n.label},u=[o],v.push(u),r.append(o.element)):(u=v[C],o=u[0],o.label!=t&&o.element.attr("label",o.label=t)),T=null,S=0,L=n.length;L>S;S++)i=n[S],(t=u[S+1])?(T=t.element,t.label!==i.label&&T.text(t.label=i.label),t.id!==i.id&&T.val(t.id=i.id),T[0].selected!==i.selected&&T.prop("selected",t.selected=i.selected)):(""===i.id&&w?k=w:(k=b.clone()).val(i.id).attr("selected",i.selected).text(i.label),u.push({element:k,label:i.label,id:i.id,selected:i.selected}),T?T.after(k):o.element.append(k),T=k);
for(S++;u.length>S;)u.pop().element.remove()}for(;v.length>C;)v.pop()[0].element.remove()}var l;if(!(l=$.match(o)))throw Ao("iexp",$,z(r));var c=i(l[2]||l[1]),h=l[4]||l[6],f=l[5],d=i(l[3]||""),p=i(l[2]?l[1]:h),m=i(l[7]),g=l[8]?i(l[8]):null,v=[[{element:r,label:""}]];w&&(t(w)(e),w.removeClass("ng-scope"),w.remove()),r.html(""),r.on("change",function(){e.$apply(function(){var t,i,o,s,u,l,c,d,_=m(e)||[],$={};if(y){for(o=[],u=0,c=v.length;c>u;u++)for(t=v[u],s=1,l=t.length;l>s;s++)if((i=t[s].element)[0].selected){if(i=i.val(),f&&($[f]=i),g)for(d=0;d<_.length&&($[h]=_[d],g(e,$)!=i);d++);else $[h]=_[i];o.push(p(e,$))}}else if(i=r.val(),"?"==i)o=n;else if(""===i)o=null;else if(g){for(d=0;d<_.length;d++)if($[h]=_[d],g(e,$)==i){o=p(e,$);break}}else $[h]=_[i],f&&($[f]=i),o=p(e,$);a.$setViewValue(o)})}),a.$render=u,e.$watch(u)}if(c[1]){var p,m=c[0],g=c[1],y=l.multiple,$=l.ngOptions,w=!1,b=Un(e.createElement("option")),P=Un(e.createElement("optgroup")),L=b.clone();c=0;for(var C=u.children(),S=C.length;S>c;c++)if(""===C[c].value){p=w=C.eq(c);break}if(m.init(g,w,L),y&&(l.required||l.ngRequired)){var M=function(t){return g.$setValidity("required",!l.required||t&&t.length),t};g.$parsers.push(M),g.$formatters.unshift(M),l.$observe("required",function(){M(g.$viewValue)})}$?d(a,u,g):y?f(a,u,g):h(a,u,g,m)}}}}],Uo=["$interpolate",function(t){var e={addOption:p,removeOption:p};return{restrict:"E",priority:100,compile:function(n,i){if(v(i.value)){var o=t(n.text(),!0);o||i.$set("value",n.text())}return function(t,n,i){var r=n.parent(),s=r.data("$selectController")||r.parent().data("$selectController");s&&s.databound?n.prop("selected",!1):s=e,o?t.$watch(o,function(t,e){i.$set("value",t),t!==e&&s.removeOption(e),s.addOption(t)}):s.addOption(i.value),n.on("$destroy",function(){s.removeOption(i.value)})}}}}],No=g({restrict:"E",terminal:!0});(Nn=t.jQuery)?(Un=Nn,h(Nn.fn,{scope:ri.scope,isolateScope:ri.isolateScope,controller:ri.controller,injector:ri.injector,inheritedData:ri.inheritedData}),ne("remove",!0,!0,!1),ne("empty",!1,!1,!1),ne("html",!1,!1,!0)):Un=ie,Yn.element=Un,function(e){h(e,{bootstrap:V,copy:D,extend:h,equals:A,element:Un,forEach:r,injector:we,noop:p,bind:I,toJson:N,fromJson:R,identity:m,isUndefined:v,isDefined:_,isString:$,isFunction:P,isObject:y,isNumber:w,isElement:S,isArray:x,version:Jn,isDate:b,lowercase:zn,uppercase:jn,callbacks:{counter:0},$$minErr:i,$$csp:O}),Rn=te(t);try{Rn("ngLocale")}catch(n){Rn("ngLocale",[]).provider("$locale",ze)}Rn("ng",["ngLocale"],["$provide",function(t){t.provider("$compile",Se).directive({a:ji,input:Xi,textarea:Xi,form:Wi,script:Eo,select:Io,style:No,option:Uo,ngBind:lo,ngBindHtml:ho,ngBindTemplate:co,ngClass:fo,ngClassEven:mo,ngClassOdd:po,ngCloak:go,ngController:vo,ngForm:Yi,ngHide:Co,ngIf:yo,ngInclude:$o,ngInit:wo,ngNonBindable:bo,ngPluralize:xo,ngRepeat:Po,ngShow:Lo,ngStyle:So,ngSwitch:Mo,ngSwitchWhen:To,ngSwitchDefault:ko,ngOptions:Oo,ngTransclude:Do,ngModel:io,ngList:so,ngChange:oo,required:ro,ngRequired:ro,ngValue:uo}).directive(Fi).directive(_o),t.provider({$anchorScroll:be,$animate:pi,$browser:Pe,$cacheFactory:Le,$controller:Te,$document:ke,$exceptionHandler:De,$filter:yn,$interpolate:Re,$interval:Be,$http:Ie,$httpBackend:Ue,$location:Ke,$log:Qe,$parse:sn,$rootScope:ln,$q:an,$sce:dn,$sceDelegate:fn,$sniffer:pn,$templateCache:Ce,$timeout:mn,$window:_n})}])}(Yn),Un(e).ready(function(){Y(e,V)})}(window,document),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-start{clip:rect(0,auto,auto,0);-ms-zoom:1.0001;}.ng-animate-active{clip:rect(-1px,auto,auto,0);-ms-zoom:1;}</style>'),function(t,e){"use strict";function n(t,n,i,o,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(s,a,u,l,c){function h(){d&&(d.$destroy(),d=null),p&&(r.leave(p),p=null)}function f(){var u=t.current&&t.current.locals,l=u&&u.$template;if(l){var f=s.$new();c(f,function(c){c.html(l),r.enter(c,null,p||a,function(){!e.isDefined(m)||m&&!s.$eval(m)||n()}),h();var v=i(c.contents()),_=t.current;if(d=_.scope=f,p=c,_.controller){u.$scope=d;var y=o(_.controller,u);_.controllerAs&&(d[_.controllerAs]=y),c.data("$ngControllerController",y),c.children().data("$ngControllerController",y)}v(d),d.$emit("$viewContentLoaded"),d.$eval(g)})}else h()}var d,p,m=u.autoscroll,g=u.onload||"";s.$on("$routeChangeSuccess",f),f()}}}t=e.module("ngRoute",["ng"]).provider("$route",function(){function t(t,n){return e.extend(new(e.extend(function(){},{prototype:t})),n)}function n(t,e){var n=e.caseInsensitiveMatch,i={originalPath:t,regexp:t},o=i.keys=[];return t=t.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?|\*])?/g,function(t,e,n,i){return t="?"===i?i:null,i="*"===i?i:null,o.push({name:n,optional:!!t}),e=e||"",""+(t?"":e)+"(?:"+(t?e:"")+(i&&"(.+?)"||"([^/]+)")+(t||"")+")"+(t||"")}).replace(/([\/$\*])/g,"\\$1"),i.regexp=RegExp("^"+t+"$",n?"i":""),i}var i={};this.when=function(t,o){if(i[t]=e.extend({reloadOnSearch:!0},o,t&&n(t,o)),t){var r="/"==t[t.length-1]?t.substr(0,t.length-1):t+"/";i[r]=e.extend({redirectTo:t},n(r,o))}return this},this.otherwise=function(t){return this.when(null,t),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(n,o,r,s,a,u,l,c){function h(){var t=f(),i=m.current;t&&i&&t.$$route===i.$$route&&e.equals(t.pathParams,i.pathParams)&&!t.reloadOnSearch&&!p?(i.params=t.params,e.copy(i.params,r),n.$broadcast("$routeUpdate",i)):(t||i)&&(p=!1,n.$broadcast("$routeChangeStart",t,i),(m.current=t)&&t.redirectTo&&(e.isString(t.redirectTo)?o.path(d(t.redirectTo,t.params)).search(t.params).replace():o.url(t.redirectTo(t.pathParams,o.path(),o.search())).replace()),s.when(t).then(function(){if(t){var n,i,o=e.extend({},t.resolve);return e.forEach(o,function(t,n){o[n]=e.isString(t)?a.get(t):a.invoke(t)}),e.isDefined(n=t.template)?e.isFunction(n)&&(n=n(t.params)):e.isDefined(i=t.templateUrl)&&(e.isFunction(i)&&(i=i(t.params)),i=c.getTrustedResourceUrl(i),e.isDefined(i)&&(t.loadedTemplateUrl=i,n=u.get(i,{cache:l}).then(function(t){return t.data}))),e.isDefined(n)&&(o.$template=n),s.all(o)}}).then(function(o){t==m.current&&(t&&(t.locals=o,e.copy(t.params,r)),n.$broadcast("$routeChangeSuccess",t,i))},function(e){t==m.current&&n.$broadcast("$routeChangeError",t,i,e)}))}function f(){var n,r;return e.forEach(i,function(i){var s;if(s=!r){var a=o.path();s=i.keys;var u={};if(i.regexp)if(a=i.regexp.exec(a)){for(var l=1,c=a.length;c>l;++l){var h=s[l-1],f="string"==typeof a[l]?decodeURIComponent(a[l]):a[l];h&&f&&(u[h.name]=f)}s=u}else s=null;else s=null;s=n=s}s&&(r=t(i,{params:e.extend({},o.search(),n),pathParams:n}),r.$$route=i)}),r||i[null]&&t(i[null],{params:{},pathParams:{}})}function d(t,n){var i=[];return e.forEach((t||"").split(":"),function(t,e){if(0===e)i.push(t);else{var o=t.match(/(\w+)(.*)/),r=o[1];i.push(n[r]),i.push(o[2]||""),delete n[r]}}),i.join("")}var p=!1,m={routes:i,reload:function(){p=!0,n.$evalAsync(h)}};return n.$on("$locationChangeSuccess",h),m}]}),t.provider("$routeParams",function(){this.$get=function(){return{}}}),t.directive("ngView",n),n.$inject=["$route","$anchorScroll","$compile","$controller","$animate"]}(window,window.angular),function(t,e,n){"use strict";e.module("ngAnimate",["ng"]).config(["$provide","$animateProvider",function(i,o){var r=e.noop,s=e.forEach,a=o.$$selectors,u=1,l="$$ngAnimateState",c="ng-animate",h={running:!0};i.decorator("$animate",["$delegate","$injector","$sniffer","$rootElement","$timeout","$rootScope","$document",function(t,n,i,o,f,d){function p(t){if(t){var e=[],o={};t=t.substr(1).split("."),(i.transitions||i.animations)&&t.push("");for(var r=0;r<t.length;r++){var s=t[r],u=a[s];u&&!o[s]&&(e.push(n.get(u)),o[s]=!0)}return e}}function m(t,e,n,i,o,a,u){function h(t){a(),!0===t?g():((t=n.data(l))&&(t.done=g,n.data(l,t)),d(b,"after",g))}function d(i,o,a){var u=o+"End";s(i,function(s,l){var c=function(){t:{var t=o+"Complete",e=i[l];for(e[t]=!0,(e[u]||r)(),e=0;e<i.length;e++)if(!i[e][t])break t;a()}};("before"!=o||"enter"!=t&&"move"!=t)&&s[o]?s[u]=w?s[o](n,e,c):s[o](n,c):c()})}function m(){u&&f(u,0,!1)}function g(){if(!g.hasBeenRun){g.hasBeenRun=!0;var t=n.data(l);t&&(w?_(n):(t.closeAnimationTimeout=f(function(){_(n)},0,!1),n.data(l,t))),m()}}var $=(" "+((n.attr("class")||"")+" "+e)).replace(/\s+/g,".");i||(i=o?o.parent():n.parent()),o=p($);var w="addClass"==t||"removeClass"==t,$=n.data(l)||{};if(y(n,i)||0===o.length)a(),g();else{var b=[];$.running&&w&&$.structural||s(o,function(i){if(!i.allowCancel||i.allowCancel(n,t,e)){var o=i[t];"leave"==t?(i=o,o=null):i=i["before"+t.charAt(0).toUpperCase()+t.substr(1)],b.push({before:i,after:o})}}),0===b.length?(a(),m()):($.running&&(f.cancel($.closeAnimationTimeout),_(n),v($.animations),($.done||r)(!0)),"addClass"==t&&n.hasClass(e)||"removeClass"==t&&!n.hasClass(e)?(a(),m()):(n.addClass(c),n.data(l,{running:!0,structural:!w,animations:b,done:h}),d(b,"before",h)))}}function g(t){t=t[0],t.nodeType==u&&s(t.querySelectorAll("."+c),function(t){t=e.element(t);var n=t.data(l);n&&(v(n.animations),_(t))})}function v(t){s(t,function(e){t.beforeComplete||(e.beforeEnd||r)(!0),t.afterComplete||(e.afterEnd||r)(!0)})}function _(t){t[0]==o[0]?h.disabled||(h.running=!1,h.structural=!1):(t.removeClass(c),t.removeData(l))}function y(t,e){if(h.disabled)return!0;if(t[0]==o[0])return h.disabled||h.running;do{if(0===e.length)break;var n=e[0]==o[0],i=n?h:e.data(l),i=i&&(!!i.disabled||!!i.running);if(n||i)return i;if(n)break}while(e=e.parent());return!0}return o.data(l,h),d.$$postDigest(function(){h.running=!1}),{enter:function(e,n,i,o){this.enabled(!1,e),t.enter(e,n,i),d.$$postDigest(function(){m("enter","ng-enter",e,n,i,r,o)})},leave:function(e,n){g(e),this.enabled(!1,e),d.$$postDigest(function(){m("leave","ng-leave",e,null,null,function(){t.leave(e)},n)})},move:function(e,n,i,o){g(e),this.enabled(!1,e),t.move(e,n,i),d.$$postDigest(function(){m("move","ng-move",e,n,i,r,o)})},addClass:function(e,n,i){m("addClass",n,e,null,null,function(){t.addClass(e,n)},i)},removeClass:function(e,n,i){m("removeClass",n,e,null,null,function(){t.removeClass(e,n)},i)},enabled:function(t,e){switch(arguments.length){case 2:if(t)_(e);else{var n=e.data(l)||{};n.disabled=!0,e.data(l,n)}break;case 1:h.disabled=!t;break;default:t=!h.disabled}return!!t}}}]),o.register("",["$window","$sniffer","$timeout",function(i,o,a){function l(t){R.push(t),a.cancel(S),S=a(function(){s(R,function(t){t()}),R=[],S=null,U={}},10,!1)}function c(t,e){var n=t.getAttribute("style")||"";return t.setAttribute("style",(0<n.length?"; ":"")+e),n}function h(t,e){var n=e?U[e]:null;if(!n){var o,r,a,l,c=0,h=0,d=0,p=0;s(t,function(t){if(t.nodeType==u){t=i.getComputedStyle(t)||{},a=t[b+M],c=Math.max(f(a),c),l=t[b+T],o=t[b+k],h=Math.max(f(o),h),r=t[P+k],p=Math.max(f(r),p);var e=f(t[P+M]);e>0&&(e*=parseInt(t[P+D],10)||1),d=Math.max(e,d)}}),n={total:0,transitionPropertyStyle:l,transitionDurationStyle:a,transitionDelayStyle:o,transitionDelay:h,transitionDuration:c,animationDelayStyle:r,animationDelay:p,animationDuration:d},e&&(U[e]=n)}return n}function f(t){var n=0;return t=e.isString(t)?t.split(/\s*,\s*/):[],s(t,function(t){n=Math.max(parseFloat(t)||0,n)}),n}function d(t){var e=t.parent(),n=e.data(E);return n||(e.data(E,++N),n=N),n+"-"+t[0].className}function p(t,e){var n=d(t),i=n+" "+e,o={},r=U[i]?++U[i].total:0;if(r>0){var a=e+"-stagger",o=n+" "+a;(n=!U[o])&&t.addClass(a),o=h(t,o),n&&t.removeClass(a)}if(t.addClass(e),i=h(t,i),a=Math.max(i.transitionDuration,i.animationDuration),0===a)return t.removeClass(e),!1;var n=t[0],u="";return 0<i.transitionDuration&&(t.addClass(O),u+=I+" ",n.style[b+T]="none"),s(e.split(" "),function(t,e){u+=(e>0?" ":"")+t+"-active"}),t.data(A,{className:e,activeClassName:u,maxDuration:a,classes:e+" "+u,timings:i,stagger:o,ii:r}),!0}function m(t,e,n){function i(t){t.stopPropagation(),t=t.originalEvent||t;var e=t.$manualTimeStamp||t.timeStamp||Date.now();Math.max(e-m,0)>=p&&t.elapsedTime>=f&&n()}var r=t.data(A);if(t.hasClass(e)&&r){var s,a,u=t[0],l=r.timings,h=r.stagger,f=r.maxDuration,d=r.activeClassName,p=1e3*Math.max(l.transitionDelay,l.animationDelay),m=Date.now(),v=L+" "+x,r=r.ii,_="";if(0<l.transitionDuration){u.style[b+T]="";var y=l.transitionPropertyStyle;-1==y.indexOf("all")&&(a=!0,_+=C+"transition-property: "+y+", "+(o.msie?"-ms-zoom":"clip")+"; ",_+=C+"transition-duration: "+l.transitionDurationStyle+", "+l.transitionDuration+"s; ")}return r>0&&(0<h.transitionDelay&&0===h.transitionDuration&&(y=l.transitionDelayStyle,a&&(y+=", "+l.transitionDelay+"s"),_+=C+"transition-delay: "+g(y,h.transitionDelay,r)+"; "),0<h.animationDelay&&0===h.animationDuration&&(_+=C+"animation-delay: "+g(l.animationDelayStyle,h.animationDelay,r)+"; ")),0<_.length&&(s=c(u,_)),t.on(v,i),t.addClass(d),function(){t.off(v,i),t.removeClass(d),$(t,e),null!=s&&(0<s.length?u.setAttribute("style",s):u.removeAttribute("style"))}}n()}function g(t,e,n){var i="";return s(t.split(","),function(t,o){i+=(o>0?",":"")+(n*e+parseInt(t,10))+"s"}),i}function v(t,e){return p(t,e)?function(n){n&&$(t,e)}:void 0}function _(t,e,n){return t.data(A)?m(t,e,n):($(t,e),void n())}function y(t,e,n){var i=v(t,e);if(i){var o=i;return l(function(){o=_(t,e,n)}),function(t){(o||r)(t)}}n()}function $(t,e){t.removeClass(e),t.removeClass(O),t.removeData(A)}function w(t,n){var i="";return t=e.isArray(t)?t:t.split(/\s+/),s(t,function(t,e){t&&0<t.length&&(i+=(e>0?" ":"")+t+n)}),i}var b,x,P,L,C="";t.ontransitionend===n&&t.onwebkittransitionend!==n?(C="-webkit-",b="WebkitTransition",x="webkitTransitionEnd transitionend"):(b="transition",x="transitionend"),t.onanimationend===n&&t.onwebkitanimationend!==n?(C="-webkit-",P="WebkitAnimation",L="webkitAnimationEnd animationend"):(P="animation",L="animationend");var S,M="Duration",T="Property",k="Delay",D="IterationCount",E="$$ngAnimateKey",A="$$ngAnimateCSS3Data",O="ng-animate-start",I="ng-animate-active",U={},N=0,R=[];return{allowCancel:function(t,n,i){var o=(t.data(A)||{}).classes;if(!o||0<=["enter","leave","move"].indexOf(n))return!0;var r=t.parent(),a=e.element(t[0].cloneNode());return a.attr("style","position:absolute; top:-9999px; left:-9999px"),a.removeAttr("id"),a.html(""),s(o.split(" "),function(t){a.removeClass(t)}),a.addClass(w(i,"addClass"==n?"-add":"-remove")),r.append(a),t=h(a),a.remove(),0<Math.max(t.transitionDuration,t.animationDuration)},enter:function(t,e){return y(t,"ng-enter",e)},leave:function(t,e){return y(t,"ng-leave",e)},move:function(t,e){return y(t,"ng-move",e)},beforeAddClass:function(t,e,n){return(t=v(t,w(e,"-add")))?(l(n),t):void n()},addClass:function(t,e,n){return _(t,w(e,"-add"),n)},beforeRemoveClass:function(t,e,n){return(t=v(t,w(e,"-remove")))?(l(n),t):void n()},removeClass:function(t,e,n){return _(t,w(e,"-remove"),n)}}}])}])}(window,window.angular),function(t,e,n){"use strict";function i(t){var e={};t=t.split(",");var n;for(n=0;n<t.length;n++)e[t[n]]=!0;return e}function o(t,n){function i(t,i,s,a){if(i=e.lowercase(i),w[i])for(;v.last()&&b[v.last()];)o("",v.last());$[i]&&v.last()==i&&o("",i),(a=y[i]||!!a)||v.push(i);var u={};s.replace(h,function(t,e,n,i,o){u[e]=r(n||i||o||"")}),n.start&&n.start(i,u,a)}function o(t,i){var o,r=0;if(i=e.lowercase(i))for(r=v.length-1;r>=0&&v[r]!=i;r--);if(r>=0){for(o=v.length-1;o>=r;o--)n.end&&n.end(v[o]);v.length=r}}var s,a,v=[],_=t;for(v.last=function(){return v[v.length-1]};t;){if(a=!0,v.last()&&x[v.last()]?(t=t.replace(RegExp("(.*)<\\s*\\/\\s*"+v.last()+"[^>]*>","i"),function(t,e){return e=e.replace(p,"$1").replace(g,"$1"),n.chars&&n.chars(r(e)),""}),o("",v.last())):(0===t.indexOf("<!--")?(s=t.indexOf("--",4),s>=0&&t.lastIndexOf("-->",s)===s&&(n.comment&&n.comment(t.substring(4,s)),t=t.substring(s+3),a=!1)):m.test(t)?(s=t.match(m))&&(t=t.replace(s[0],""),a=!1):d.test(t)?(s=t.match(c))&&(t=t.substring(s[0].length),s[0].replace(c,o),a=!1):f.test(t)&&(s=t.match(l))&&(t=t.substring(s[0].length),s[0].replace(l,i),a=!1),a&&(s=t.indexOf("<"),a=0>s?t:t.substring(0,s),t=0>s?"":t.substring(s),n.chars&&n.chars(r(a)))),t==_)throw u("badparse",t);_=t}o()}function r(t){return S.innerHTML=t.replace(/</g,"&lt;"),S.innerText||S.textContent||""}function s(t){return t.replace(/&/g,"&amp;").replace(_,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(t){var n=!1,i=e.bind(t,t.push);return{start:function(t,o,r){t=e.lowercase(t),!n&&x[t]&&(n=t),n||!0!==P[t]||(i("<"),i(t),e.forEach(o,function(t,n){var o=e.lowercase(n);!0!==C[o]||!0===L[o]&&!t.match(v)||(i(" "),i(n),i('="'),i(s(t)),i('"'))}),i(r?"/>":">"))},end:function(t){t=e.lowercase(t),n||!0!==P[t]||(i("</"),i(t),i(">")),t==n&&(n=!1)},chars:function(t){n||i(s(t))}}}var u=e.$$minErr("$sanitize"),l=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,c=/^<\s*\/\s*([\w:-]+)[^>]*>/,h=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,f=/^</,d=/^<\s*\//,p=/\x3c!--(.*?)--\x3e/g,m=/<!DOCTYPE([^>]*?)>/i,g=/<!\[CDATA\[(.*?)]]\x3e/g,v=/^((ftp|https?):\/\/|mailto:|tel:|#)/i,_=/([^\#-~| |!])/g,y=i("area,br,col,hr,img,wbr");t=i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),n=i("rp,rt");var $=e.extend({},n,t),w=e.extend({},t,i("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),b=e.extend({},n,i("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),x=i("script,style"),P=e.extend({},y,w,b,$),L=i("background,cite,href,longdesc,src,usemap"),C=e.extend({},L,i("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,span,start,summary,target,title,type,valign,value,vspace,width")),S=document.createElement("pre");e.module("ngSanitize",[]).value("$sanitize",function(t){var e=[];return o(t,a(e)),e.join("")}),e.module("ngSanitize").filter("linky",function(){var t=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>]/,n=/^mailto:/;return function(i,o){if(!i)return i;var r,s,u,l=i,c=[],h=a(c),f={};for(e.isDefined(o)&&(f.target=o);r=l.match(t);)s=r[0],r[2]==r[3]&&(s="mailto:"+s),u=r.index,h.chars(l.substr(0,u)),f.href=s,h.start("a",f),h.chars(r[0].replace(n,"")),h.end("a"),l=l.substring(u+r[0].length);return h.chars(l),c.join("")}})}(window,window.angular),!function(){var t,e;angular.module("firebase",[]).value("Firebase",Firebase),angular.module("firebase").factory("$firebase",["$q","$parse","$timeout",function(e,n,i){return function(o){var r=new t(e,n,i,o);return r.construct()}}]),angular.module("firebase").filter("orderByPriority",function(){return function(t){var e=[];if(t)if(t.$getIndex&&"function"==typeof t.$getIndex){var n=t.$getIndex();if(n.length>0)for(var i=0;i<n.length;i++){var o=t[n[i]];o&&(o.$id=n[i],e.push(o))}}else angular.isArray(t)?e=t.slice(0):angular.isObject(t)&&angular.forEach(t,function(t){e.push(t)});return e}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){if(void 0===this||null===this)throw new TypeError("'this' is null or not defined");var n=this.length>>>0;for(e=+e||0,1/0===Math.abs(e)&&(e=0),0>e&&(e+=n,0>e&&(e=0));n>e;e++)if(this[e]===t)return e;return-1}),t=function(t,e,n,i){if(this._q=t,this._parse=e,this._timeout=n,this._bound=!1,this._loaded=!1,this._index=[],this._on={value:[],change:[],loaded:[],child_added:[],child_moved:[],child_changed:[],child_removed:[]},"string"==typeof i)throw new Error("Please provide a Firebase reference instead of a URL, eg: new Firebase(url)");this._fRef=i},t.prototype={construct:function(){var e=this,n={};return n.$id=e._fRef.ref().name(),n.$bind=function(t,n,i){return e._bind(t,n,i)},n.$add=function(t){function n(t){t?o.reject(t):o.resolve(i)}var i,o=e._q.defer();return i="object"==typeof t?e._fRef.ref().push(e._parseObject(t),n):e._fRef.ref().push(t,n),o.promise},n.$save=function(t){function n(t){t?i.reject(t):i.resolve()}var i=e._q.defer();if(t){var o=e._parseObject(e._object[t]);e._fRef.ref().child(t).set(o,n)}else e._fRef.ref().set(e._parseObject(e._object),n);return i.promise},n.$set=function(t){var n=e._q.defer();return e._fRef.ref().set(e._parseObject(t),function(t){t?n.reject(t):n.resolve()}),n.promise},n.$update=function(t){var n=e._q.defer();return e._fRef.ref().update(e._parseObject(t),function(t){t?n.reject(t):n.resolve()}),n.promise},n.$transaction=function(t,n){var i=e._q.defer();return e._fRef.ref().transaction(t,function(t,e,n){t?i.reject(t):i.resolve(e?n:null)},n),i.promise},n.$remove=function(t){function n(t){t?i.reject(t):i.resolve()}var i=e._q.defer();return t?e._fRef.ref().child(t).remove(n):e._fRef.ref().remove(n),i.promise},n.$child=function(n){var i=new t(e._q,e._parse,e._timeout,e._fRef.ref().child(n));return i.construct()},n.$on=function(t,i){if(!e._on.hasOwnProperty(t))throw new Error("Invalid event type "+t+" specified");return e._sendInitEvent(t,i),"loaded"===t&&this._loaded||e._on[t].push(i),n},n.$off=function(t,n){if(e._on.hasOwnProperty(t))if(n){var i=e._on[t].indexOf(n);-1!==i&&e._on[t].splice(i,1)}else e._on[t]=[];else e._fRef.off()},n.$auth=function(t){var n=e._q.defer();return e._fRef.auth(t,function(t,e){null!==t?n.reject(t):n.resolve(e)},function(t){n.reject(t)}),n.promise},n.$getIndex=function(){return angular.copy(e._index)},n.$getRef=function(){return e._fRef.ref()},e._object=n,e._getInitialValue(),e._object},_getInitialValue:function(){function t(t,e){var n=t.name(),o=t.val(),r=s._index.indexOf(n);if(-1!==r&&s._index.splice(r,1),e){var a=s._index.indexOf(e);s._index.splice(a+1,0,n)}else s._index.unshift(n);i(o)||null===t.getPriority()||(o.$priority=t.getPriority()),s._updateModel(n,o)}function e(t,e){return function(n,i){e(n,i),s._broadcastEvent(t,s._makeEventSnapshot(n.name(),n.val(),i))}}function n(t,n){s._fRef.on(t,e(t,n))}function i(t){return null===t||"object"!=typeof t}function o(t){s._loaded=!0,s._broadcastEvent("loaded",t)}function r(t){if(s._bound&&null===t){var e=s._parseObject(s._parse(s._name)(s._scope));switch(typeof e){case"string":case"undefined":t="";break;case"number":t=0;break;case"boolean":t=!1}}return t}var s=this;n("child_added",t),n("child_moved",t),n("child_changed",t),n("child_removed",function(t){var e=t.name(),n=s._index.indexOf(e);s._index.splice(n,1),s._updateModel(e,null)}),s._fRef.on("value",function(t){var e=t.val();i(e)?(e=r(e),s._updatePrimitive(e)):delete s._object.$value,s._broadcastEvent("value",s._makeEventSnapshot(t.name(),e)),s._loaded||o(e)})},_updateModel:function(t,e){null==e?delete this._object[t]:this._object[t]=e,this._broadcastEvent("change",t),this._triggerModelUpdate()},_triggerModelUpdate:function(){if(!this._runningTimer){var t=this;this._runningTimer=t._timeout(function(){if(t._runningTimer=null,t._bound){var e=t._object,n=t._parse(t._name)(t._scope);angular.equals(e,n)||t._parse(t._name).assign(t._scope,angular.copy(e))}})}},_updatePrimitive:function(t){var e=this;e._timeout(function(){if(e._object.$value&&angular.equals(e._object.$value,t)||(e._object.$value=t),e._broadcastEvent("change"),e._bound){var n=e._parseObject(e._parse(e._name)(e._scope));angular.equals(n,t)||e._parse(e._name).assign(e._scope,t)}})},_broadcastEvent:function(t,e){function n(t,e){o._timeout(function(){t(e)})}var i=this._on[t]||[];"loaded"===t&&(this._on[t]=[]);var o=this;if(i.length>0)for(var r=0;r<i.length;r++)"function"==typeof i[r]&&n(i[r],e)},_sendInitEvent:function(t,e){var n=this;n._loaded&&["child_added","loaded","value"].indexOf(t)>-1&&n._timeout(function(){var i=angular.isObject(n._object)?n._parseObject(n._object):n._object;switch(t){case"loaded":e(i);break;case"value":e(n._makeEventSnapshot(n._fRef.name(),i,null));break;case"child_added":n._iterateChildren(i,function(t,i,o){e(n._makeEventSnapshot(t,i,o))})}})},_iterateChildren:function(t,e){if(this._loaded&&angular.isObject(t)){var n=null;for(var i in t)t.hasOwnProperty(i)&&(e(i,t[i],n),n=i)}},_makeEventSnapshot:function(t,e,n){return angular.isUndefined(n)&&(n=null),{snapshot:{name:t,value:e},prevChild:n}},_bind:function(t,e,n){var i=this,o=i._q.defer();i._name=e,i._bound=!0,i._scope=t;var r=i._parse(e)(t);void 0!==r&&"object"==typeof r&&i._fRef.ref().update(i._parseObject(r));var s=t.$watch(e,function(){var n=i._parseObject(i._parse(e)(t));void 0!==i._object.$value&&angular.equals(n,i._object.$value)||angular.equals(n,i._parseObject(i._object))||void 0!==n&&i._loaded&&(i._fRef.set?i._fRef.set(n):i._fRef.ref().update(n))},!0);return t.$on("$destroy",function(){s()}),i._fRef.once("value",function(r){i._timeout(function(){"object"!=typeof r.val()?(null==r.val()&&"function"==typeof n&&(t[e]=n()),o.resolve(s)):i._timeout(function(){null==r.val()&&"function"==typeof n&&(t[e]=n()),o.resolve(s)})})}),o.promise},_parseObject:function(t){function e(t){for(var n in t)t.hasOwnProperty(n)&&("$priority"==n?(t[".priority"]=t.$priority,delete t.$priority):"object"==typeof t[n]&&e(t[n]));return t}var n=e(angular.copy(t));return angular.fromJson(angular.toJson(n))}},angular.module("firebase").factory("$firebaseSimpleLogin",["$q","$timeout","$rootScope",function(t,n,i){return function(o){var r=new e(t,n,i,o);return r.construct()}}]),e=function(t,e,n,i){if(this._q=t,this._timeout=e,this._rootScope=n,this._loginDeferred=null,this._getCurrentUserDeferred=[],this._currentUserData=void 0,"string"==typeof i)throw new Error("Please provide a Firebase reference instead of a URL, eg: new Firebase(url)");this._fRef=i},e.prototype={construct:function(){var t={user:null,$login:this.login.bind(this),$logout:this.logout.bind(this),$createUser:this.createUser.bind(this),$changePassword:this.changePassword.bind(this),$removeUser:this.removeUser.bind(this),$getCurrentUser:this.getCurrentUser.bind(this),$sendPasswordResetEmail:this.sendPasswordResetEmail.bind(this)};if(this._object=t,!window.FirebaseSimpleLogin){var e=new Error("FirebaseSimpleLogin is undefined. Did you forget to include firebase-simple-login.js?");throw this._rootScope.$broadcast("$firebaseSimpleLogin:error",e),e}var n=new FirebaseSimpleLogin(this._fRef,this._onLoginEvent.bind(this));return this._authClient=n,this._object},login:function(t,e){var n=this._q.defer(),i=this;return this.getCurrentUser().then(function(){i._loginDeferred=n,i._authClient.login(t,e)}),n.promise},logout:function(){this._authClient.logout(),delete this._currentUserData},createUser:function(t,e){var n=this,i=this._q.defer();return n._authClient.createUser(t,e,function(t,e){t?(n._rootScope.$broadcast("$firebaseSimpleLogin:error",t),i.reject(t)):i.resolve(e)}),i.promise},changePassword:function(t,e,n){var i=this,o=this._q.defer();return i._authClient.changePassword(t,e,n,function(t){t?(i._rootScope.$broadcast("$firebaseSimpleLogin:error",t),o.reject(t)):o.resolve()}),o.promise},getCurrentUser:function(){var t=this,e=this._q.defer();return void 0!==t._currentUserData?e.resolve(t._currentUserData):t._getCurrentUserDeferred.push(e),e.promise},removeUser:function(t,e){var n=this,i=this._q.defer();return n._authClient.removeUser(t,e,function(t){t?(n._rootScope.$broadcast("$firebaseSimpleLogin:error",t),i.reject(t)):i.resolve()}),i.promise},sendPasswordResetEmail:function(t){var e=this,n=this._q.defer();return e._authClient.sendPasswordResetEmail(t,function(t){t?(e._rootScope.$broadcast("$firebaseSimpleLogin:error",t),n.reject(t)):n.resolve()}),n.promise},_onLoginEvent:function(t,e){if(this._currentUserData!==e||null!==t){var n=this;t?(n._loginDeferred&&(n._loginDeferred.reject(t),n._loginDeferred=null),n._rootScope.$broadcast("$firebaseSimpleLogin:error",t)):(this._currentUserData=e,n._timeout(function(){for(n._object.user=e,e?n._rootScope.$broadcast("$firebaseSimpleLogin:login",e):n._rootScope.$broadcast("$firebaseSimpleLogin:logout"),n._loginDeferred&&(n._loginDeferred.resolve(e),n._loginDeferred=null);n._getCurrentUserDeferred.length>0;){var t=n._getCurrentUserDeferred.pop();t.resolve(e)}}))}}}}(),!function(t,e,n){var i=t.L,o={};o.version="0.6.4","object"==typeof module&&"object"==typeof module.exports?module.exports=o:"function"==typeof define&&define.amd&&define(o),o.noConflict=function(){return t.L=i,this},t.L=o,o.Util={extend:function(t){var e,n,i,o,r=Array.prototype.slice.call(arguments,1);for(n=0,i=r.length;i>n;n++){o=r[n]||{};for(e in o)o.hasOwnProperty(e)&&(t[e]=o[e])}return t},bind:function(t,e){var n=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return t.apply(e,n||arguments)}},stamp:function(){var t=0,e="_leaflet_id";return function(n){return n[e]=n[e]||++t,n[e]}}(),invokeEach:function(t,e,n){var i,o;if("object"==typeof t){o=Array.prototype.slice.call(arguments,3);for(i in t)e.apply(n,[i,t[i]].concat(o));return!0}return!1},limitExecByInterval:function(t,e,n){var i,o;return function r(){var s=arguments;return i?void(o=!0):(i=!0,setTimeout(function(){i=!1,o&&(r.apply(n,s),o=!1)},e),void t.apply(n,s))}},falseFn:function(){return!1},formatNum:function(t,e){var n=Math.pow(10,e||5);return Math.round(t*n)/n},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return o.Util.trim(t).split(/\s+/)},setOptions:function(t,e){return t.options=o.extend({},t.options,e),t.options},getParamString:function(t,e,n){var i=[];for(var o in t)i.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")},template:function(t,e){return t.replace(/\{ *([\w_]+) *\}/g,function(t,i){var o=e[i];if(o===n)throw new Error("No value provided for variable "+t);return"function"==typeof o&&(o=o(e)),o})},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function e(e){var n,i,o=["webkit","moz","o","ms"];for(n=0;n<o.length&&!i;n++)i=t[o[n]+e];return i}function n(e){var n=+new Date,o=Math.max(0,16-(n-i));return i=n+o,t.setTimeout(e,o)}var i=0,r=t.requestAnimationFrame||e("RequestAnimationFrame")||n,s=t.cancelAnimationFrame||e("CancelAnimationFrame")||e("CancelRequestAnimationFrame")||function(e){t.clearTimeout(e)};o.Util.requestAnimFrame=function(e,i,s,a){return e=o.bind(e,i),s&&r===n?void e():r.call(t,e,a)},o.Util.cancelAnimFrame=function(e){e&&s.call(t,e)}}(),o.extend=o.Util.extend,o.bind=o.Util.bind,o.stamp=o.Util.stamp,o.setOptions=o.Util.setOptions,o.Class=function(){},o.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},n=function(){};n.prototype=this.prototype;var i=new n;i.constructor=e,e.prototype=i;for(var r in this)this.hasOwnProperty(r)&&"prototype"!==r&&(e[r]=this[r]);t.statics&&(o.extend(e,t.statics),delete t.statics),t.includes&&(o.Util.extend.apply(null,[i].concat(t.includes)),delete t.includes),t.options&&i.options&&(t.options=o.extend({},i.options,t.options)),o.extend(i,t),i._initHooks=[];var s=this;return e.__super__=s.prototype,i.callInitHooks=function(){if(!this._initHooksCalled){s.prototype.callInitHooks&&s.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;e>t;t++)i._initHooks[t].call(this)}},e},o.Class.include=function(t){o.extend(this.prototype,t)},o.Class.mergeOptions=function(t){o.extend(this.prototype.options,t)},o.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n)};var r="_leaflet_events";o.Mixin={},o.Mixin.Events={addEventListener:function(t,e,n){if(o.Util.invokeEach(t,this.addEventListener,this,e,n))return this;var i,s,a,u,l,c,h,f=this[r]=this[r]||{},d=n&&o.stamp(n);for(t=o.Util.splitWords(t),i=0,s=t.length;s>i;i++)a={action:e,context:n||this},u=t[i],n?(l=u+"_idx",c=l+"_len",h=f[l]=f[l]||{},h[d]||(h[d]=[],f[c]=(f[c]||0)+1),h[d].push(a)):(f[u]=f[u]||[],f[u].push(a));
return this},hasEventListeners:function(t){var e=this[r];return!!e&&(t in e&&e[t].length>0||t+"_idx"in e&&e[t+"_idx_len"]>0)},removeEventListener:function(t,e,n){if(!this[r])return this;if(!t)return this.clearAllEventListeners();if(o.Util.invokeEach(t,this.removeEventListener,this,e,n))return this;var i,s,a,u,l,c,h,f,d,p=this[r],m=n&&o.stamp(n);for(t=o.Util.splitWords(t),i=0,s=t.length;s>i;i++)if(a=t[i],c=a+"_idx",h=c+"_len",f=p[c],e){if(u=n&&f?f[m]:p[a]){for(l=u.length-1;l>=0;l--)u[l].action!==e||n&&u[l].context!==n||(d=u.splice(l,1),d[0].action=o.Util.falseFn);n&&f&&0===u.length&&(delete f[m],p[h]--)}}else delete p[a],delete p[c];return this},clearAllEventListeners:function(){return delete this[r],this},fireEvent:function(t,e){if(!this.hasEventListeners(t))return this;var n,i,s,a,u,l=o.Util.extend({},e,{type:t,target:this}),c=this[r];if(c[t])for(n=c[t].slice(),i=0,s=n.length;s>i;i++)n[i].action.call(n[i].context||this,l);a=c[t+"_idx"];for(u in a)if(n=a[u].slice())for(i=0,s=n.length;s>i;i++)n[i].action.call(n[i].context||this,l);return this},addOneTimeEventListener:function(t,e,n){if(o.Util.invokeEach(t,this.addOneTimeEventListener,this,e,n))return this;var i=o.bind(function(){this.removeEventListener(t,e,n).removeEventListener(t,i,n)},this);return this.addEventListener(t,e,n).addEventListener(t,i,n)}},o.Mixin.Events.on=o.Mixin.Events.addEventListener,o.Mixin.Events.off=o.Mixin.Events.removeEventListener,o.Mixin.Events.once=o.Mixin.Events.addOneTimeEventListener,o.Mixin.Events.fire=o.Mixin.Events.fireEvent,function(){var i=!!t.ActiveXObject,r=i&&!t.XMLHttpRequest,s=i&&!e.querySelector,a=i&&!e.addEventListener,u=navigator.userAgent.toLowerCase(),l=-1!==u.indexOf("webkit"),c=-1!==u.indexOf("chrome"),h=-1!==u.indexOf("phantom"),f=-1!==u.indexOf("android"),d=-1!==u.search("android [23]"),p=typeof orientation!=n+"",m=t.navigator&&t.navigator.msPointerEnabled&&t.navigator.msMaxTouchPoints,g="devicePixelRatio"in t&&t.devicePixelRatio>1||"matchMedia"in t&&t.matchMedia("(min-resolution:144dpi)")&&t.matchMedia("(min-resolution:144dpi)").matches,v=e.documentElement,_=i&&"transition"in v.style,y="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix,$="MozPerspective"in v.style,w="OTransition"in v.style,b=!t.L_DISABLE_3D&&(_||y||$||w)&&!h,x=!t.L_NO_TOUCH&&!h&&function(){var t="ontouchstart";if(m||t in v)return!0;var n=e.createElement("div"),i=!1;return n.setAttribute?(n.setAttribute(t,"return;"),"function"==typeof n[t]&&(i=!0),n.removeAttribute(t),n=null,i):!1}();o.Browser={ie:i,ie6:r,ie7:s,ielt9:a,webkit:l,android:f,android23:d,chrome:c,ie3d:_,webkit3d:y,gecko3d:$,opera3d:w,any3d:b,mobile:p,mobileWebkit:p&&l,mobileWebkit3d:p&&y,mobileOpera:p&&t.opera,touch:x,msTouch:m,retina:g}}(),o.Point=function(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e},o.Point.prototype={clone:function(){return new o.Point(this.x,this.y)},add:function(t){return this.clone()._add(o.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(o.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(t){t=o.point(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=o.point(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=o.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+o.Util.formatNum(this.x)+", "+o.Util.formatNum(this.y)+")"}},o.point=function(t,e,i){return t instanceof o.Point?t:o.Util.isArray(t)?new o.Point(t[0],t[1]):t===n||null===t?t:new o.Point(t,e,i)},o.Bounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;o>i;i++)this.extend(n[i])},o.Bounds.prototype={extend:function(t){return t=o.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new o.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new o.Point(this.min.x,this.max.y)},getTopRight:function(){return new o.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return t="number"==typeof t[0]||t instanceof o.Point?o.point(t):o.bounds(t),t instanceof o.Bounds?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=o.bounds(t);var e=this.min,n=this.max,i=t.min,r=t.max,s=r.x>=e.x&&i.x<=n.x,a=r.y>=e.y&&i.y<=n.y;return s&&a},isValid:function(){return!(!this.min||!this.max)}},o.bounds=function(t,e){return!t||t instanceof o.Bounds?t:new o.Bounds(t,e)},o.Transformation=function(t,e,n,i){this._a=t,this._b=e,this._c=n,this._d=i},o.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new o.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},o.DomUtil={get:function(t){return"string"==typeof t?e.getElementById(t):t},getStyle:function(t,n){var i=t.style[n];if(!i&&t.currentStyle&&(i=t.currentStyle[n]),(!i||"auto"===i)&&e.defaultView){var o=e.defaultView.getComputedStyle(t,null);i=o?o[n]:null}return"auto"===i?null:i},getViewportOffset:function(t){var n,i=0,r=0,s=t,a=e.body,u=e.documentElement,l=o.Browser.ie7;do{if(i+=s.offsetTop||0,r+=s.offsetLeft||0,i+=parseInt(o.DomUtil.getStyle(s,"borderTopWidth"),10)||0,r+=parseInt(o.DomUtil.getStyle(s,"borderLeftWidth"),10)||0,n=o.DomUtil.getStyle(s,"position"),s.offsetParent===a&&"absolute"===n)break;if("fixed"===n){i+=a.scrollTop||u.scrollTop||0,r+=a.scrollLeft||u.scrollLeft||0;break}if("relative"===n&&!s.offsetLeft){var c=o.DomUtil.getStyle(s,"width"),h=o.DomUtil.getStyle(s,"max-width"),f=s.getBoundingClientRect();("none"!==c||"none"!==h)&&(r+=f.left+s.clientLeft),i+=f.top+(a.scrollTop||u.scrollTop||0);break}s=s.offsetParent}while(s);s=t;do{if(s===a)break;i-=s.scrollTop||0,r-=s.scrollLeft||0,o.DomUtil.documentIsLtr()||!o.Browser.webkit&&!l||(r+=s.scrollWidth-s.clientWidth,l&&"hidden"!==o.DomUtil.getStyle(s,"overflow-y")&&"hidden"!==o.DomUtil.getStyle(s,"overflow")&&(r+=17)),s=s.parentNode}while(s);return new o.Point(r,i)},documentIsLtr:function(){return o.DomUtil._docIsLtrCached||(o.DomUtil._docIsLtrCached=!0,o.DomUtil._docIsLtr="ltr"===o.DomUtil.getStyle(e.body,"direction")),o.DomUtil._docIsLtr},create:function(t,n,i){var o=e.createElement(t);return o.className=n,i&&i.appendChild(o),o},hasClass:function(t,e){return t.className.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},addClass:function(t,e){o.DomUtil.hasClass(t,e)||(t.className+=(t.className?" ":"")+e)},removeClass:function(t,e){t.className=o.Util.trim((" "+t.className+" ").replace(" "+e+" "," "))},setOpacity:function(t,e){if("opacity"in t.style)t.style.opacity=e;else if("filter"in t.style){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(o){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}},testProp:function(t){for(var n=e.documentElement.style,i=0;i<t.length;i++)if(t[i]in n)return t[i];return!1},getTranslateString:function(t){var e=o.Browser.webkit3d,n="translate"+(e?"3d":"")+"(",i=(e?",0":"")+")";return n+t.x+"px,"+t.y+"px"+i},getScaleString:function(t,e){var n=o.DomUtil.getTranslateString(e.add(e.multiplyBy(-1*t))),i=" scale("+t+") ";return n+i},setPosition:function(t,e,n){t._leaflet_pos=e,!n&&o.Browser.any3d?(t.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(e),o.Browser.mobileWebkit3d&&(t.style.WebkitBackfaceVisibility="hidden")):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos}},o.DomUtil.TRANSFORM=o.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),o.DomUtil.TRANSITION=o.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),o.DomUtil.TRANSITION_END="webkitTransition"===o.DomUtil.TRANSITION||"OTransition"===o.DomUtil.TRANSITION?o.DomUtil.TRANSITION+"End":"transitionend",function(){var n=o.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);o.extend(o.DomUtil,{disableTextSelection:function(){if(o.DomEvent.on(t,"selectstart",o.DomEvent.preventDefault),n){var i=e.documentElement.style;this._userSelect=i[n],i[n]="none"}},enableTextSelection:function(){o.DomEvent.off(t,"selectstart",o.DomEvent.preventDefault),n&&(e.documentElement.style[n]=this._userSelect,delete this._userSelect)},disableImageDrag:function(){o.DomEvent.on(t,"dragstart",o.DomEvent.preventDefault)},enableImageDrag:function(){o.DomEvent.off(t,"dragstart",o.DomEvent.preventDefault)}})}(),o.LatLng=function(t,e){var n=parseFloat(t),i=parseFloat(e);if(isNaN(n)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=n,this.lng=i},o.extend(o.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),o.LatLng.prototype={equals:function(t){if(!t)return!1;t=o.latLng(t);var e=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return e<=o.LatLng.MAX_MARGIN},toString:function(t){return"LatLng("+o.Util.formatNum(this.lat,t)+", "+o.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){t=o.latLng(t);var e=6378137,n=o.LatLng.DEG_TO_RAD,i=(t.lat-this.lat)*n,r=(t.lng-this.lng)*n,s=this.lat*n,a=t.lat*n,u=Math.sin(i/2),l=Math.sin(r/2),c=u*u+l*l*Math.cos(s)*Math.cos(a);return 2*e*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))},wrap:function(t,e){var n=this.lng;return t=t||-180,e=e||180,n=(n+e)%(e-t)+(t>n||n===e?e:t),new o.LatLng(this.lat,n)}},o.latLng=function(t,e){return t instanceof o.LatLng?t:o.Util.isArray(t)?new o.LatLng(t[0],t[1]):t===n||null===t?t:"object"==typeof t&&"lat"in t?new o.LatLng(t.lat,"lng"in t?t.lng:t.lon):new o.LatLng(t,e)},o.LatLngBounds=function(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;o>i;i++)this.extend(n[i])},o.LatLngBounds.prototype={extend:function(t){return t?(t="number"==typeof t[0]||"string"==typeof t[0]||t instanceof o.LatLng?o.latLng(t):o.latLngBounds(t),t instanceof o.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(t.lat,this._southWest.lat),this._southWest.lng=Math.min(t.lng,this._southWest.lng),this._northEast.lat=Math.max(t.lat,this._northEast.lat),this._northEast.lng=Math.max(t.lng,this._northEast.lng)):(this._southWest=new o.LatLng(t.lat,t.lng),this._northEast=new o.LatLng(t.lat,t.lng)):t instanceof o.LatLngBounds&&(this.extend(t._southWest),this.extend(t._northEast)),this):this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new o.LatLngBounds(new o.LatLng(e.lat-i,e.lng-r),new o.LatLng(n.lat+i,n.lng+r))},getCenter:function(){return new o.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new o.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new o.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof o.LatLng?o.latLng(t):o.latLngBounds(t);var e,n,i=this._southWest,r=this._northEast;return t instanceof o.LatLngBounds?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=r.lat&&e.lng>=i.lng&&n.lng<=r.lng},intersects:function(t){t=o.latLngBounds(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),s=r.lat>=e.lat&&i.lat<=n.lat,a=r.lng>=e.lng&&i.lng<=n.lng;return s&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return t?(t=o.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}},o.latLngBounds=function(t,e){return!t||t instanceof o.LatLngBounds?t:new o.LatLngBounds(t,e)},o.Projection={},o.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(t){var e=o.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=t.lng*e,s=i*e;return s=Math.log(Math.tan(Math.PI/4+s/2)),new o.Point(r,s)},unproject:function(t){var e=o.LatLng.RAD_TO_DEG,n=t.x*e,i=(2*Math.atan(Math.exp(t.y))-Math.PI/2)*e;return new o.LatLng(i,n)}},o.Projection.LonLat={project:function(t){return new o.Point(t.lng,t.lat)},unproject:function(t){return new o.LatLng(t.y,t.x)}},o.CRS={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},scale:function(t){return 256*Math.pow(2,t)}},o.CRS.Simple=o.extend({},o.CRS,{projection:o.Projection.LonLat,transformation:new o.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)}}),o.CRS.EPSG3857=o.extend({},o.CRS,{code:"EPSG:3857",projection:o.Projection.SphericalMercator,transformation:new o.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(t){var e=this.projection.project(t),n=6378137;return e.multiplyBy(n)}}),o.CRS.EPSG900913=o.extend({},o.CRS.EPSG3857,{code:"EPSG:900913"}),o.CRS.EPSG4326=o.extend({},o.CRS,{code:"EPSG:4326",projection:o.Projection.LonLat,transformation:new o.Transformation(1/360,.5,-1/360,.5)}),o.Map=o.Class.extend({includes:o.Mixin.Events,options:{crs:o.CRS.EPSG3857,fadeAnimation:o.DomUtil.TRANSITION&&!o.Browser.android23,trackResize:!0,markerZoomAnimation:o.DomUtil.TRANSITION&&o.Browser.any3d},initialize:function(t,e){e=o.setOptions(this,e),this._initContainer(t),this._initLayout(),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.center&&e.zoom!==n&&this.setView(o.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(e.layers)},setView:function(t,e){return this._resetView(o.latLng(t),this._limitZoom(e)),this},setZoom:function(t,e){return this.setView(this.getCenter(),t,{zoom:e})},zoomIn:function(t,e){return this.setZoom(this._zoom+(t||1),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t||1),e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),r=this.getSize().divideBy(2),s=t instanceof o.Point?t:this.latLngToContainerPoint(t),a=s.subtract(r).multiplyBy(1-1/i),u=this.containerPointToLatLng(r.add(a));return this.setView(u,e,{zoom:n})},fitBounds:function(t,e){e=e||{},t=t.getBounds?t.getBounds():o.latLngBounds(t);var n=o.point(e.paddingTopLeft||e.padding||[0,0]),i=o.point(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,n.add(i)),s=i.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),r),u=this.project(t.getNorthEast(),r),l=this.unproject(a.add(u).divideBy(2).add(s),r);return this.setView(l,r,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t){return this.fire("movestart"),this._rawPanBy(o.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t,e){if(t=o.latLngBounds(t),this.options.maxBounds=t,!t)return this._boundsMinZoom=null,this.off("moveend",this._panInsideMaxBounds,this),this;var n=this.getBoundsZoom(t,!0);return this._boundsMinZoom=n,this._loaded&&(this._zoom<n?this.setView(t.getCenter(),n,e):this.panInsideBounds(t)),this.on("moveend",this._panInsideMaxBounds,this),this},panInsideBounds:function(t){t=o.latLngBounds(t);var e=this.getPixelBounds(),n=e.getBottomLeft(),i=e.getTopRight(),r=this.project(t.getSouthWest()),s=this.project(t.getNorthEast()),a=0,u=0;return i.y<s.y&&(u=Math.ceil(s.y-i.y)),i.x>s.x&&(a=Math.floor(s.x-i.x)),n.y>r.y&&(u=Math.floor(r.y-n.y)),n.x<r.x&&(a=Math.ceil(r.x-n.x)),a||u?this.panBy([a,u]):this},addLayer:function(t){var e=o.stamp(t);return this._layers[e]?this:(this._layers[e]=t,!t.options||isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[e]=t,this._updateZoomLevels()),this.options.zoomAnimation&&o.TileLayer&&t instanceof o.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,t.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(t),this)},removeLayer:function(t){var e=o.stamp(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&this.fire("layerremove",{layer:t}),this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels()),this.options.zoomAnimation&&o.TileLayer&&t instanceof o.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,t.off("load",this._onTileLayerLoad,this)),this):void 0},hasLayer:function(t){return t?o.stamp(t)in this._layers:!1},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},invalidateSize:function(t){t=o.extend({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();if(this._sizeChanged=!0,this.options.maxBounds&&this.setMaxBounds(this.options.maxBounds),!this._loaded)return this;var n=this.getSize(),i=e.subtract(n).divideBy(2).round();return i.x||i.y?(t.animate&&t.pan?this.panBy(i):(t.pan&&this._rawPanBy(i),this.fire("move"),clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o.bind(this.fire,this,"moveend"),200)),this.fire("resize",{oldSize:e,newSize:n})):this},addHandler:function(t,e){if(e){var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this}},remove:function(){return this._loaded&&this.fire("unload"),this._initEvents("off"),delete this._container._leaflet,this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._moved()?this.layerPointToLatLng(this._getCenterLayerPoint()):this._initialCenter},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new o.LatLngBounds(e,n)},getMinZoom:function(){var t=this._layersMinZoom===n?0:this._layersMinZoom,e=this._boundsMinZoom===n?0:this._boundsMinZoom;return this.options.minZoom===n?Math.max(t,e):this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===n?this._layersMaxZoom===n?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=o.latLngBounds(t);var i,r=this.getMinZoom()-(e?1:0),s=this.getMaxZoom(),a=this.getSize(),u=t.getNorthWest(),l=t.getSouthEast(),c=!0;n=o.point(n||[0,0]);do r++,i=this.project(l,r).subtract(this.project(u,r)).add(n),c=e?i.x<a.x||i.y<a.y:a.contains(i);while(c&&s>=r);return c&&e?null:e?r:r-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new o.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var t=this._getTopLeftPoint();return new o.Bounds(t,t.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t){var e=this.options.crs;return e.scale(t)/e.scale(this._zoom)},getScaleZoom:function(t){return this._zoom+Math.log(t)/Math.LN2},project:function(t,e){return e=e===n?this._zoom:e,this.options.crs.latLngToPoint(o.latLng(t),e)},unproject:function(t,e){return e=e===n?this._zoom:e,this.options.crs.pointToLatLng(o.point(t),e)},layerPointToLatLng:function(t){var e=o.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(o.latLng(t))._round();return e._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(t){return o.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return o.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(o.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(o.latLng(t)))},mouseEventToContainerPoint:function(t){return o.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=o.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet)throw new Error("Map container is already initialized.");e._leaflet=!0},_initLayout:function(){var t=this._container;o.DomUtil.addClass(t,"leaflet-container"+(o.Browser.touch?" leaflet-touch":"")+(o.Browser.retina?" leaflet-retina":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var e=o.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._mapPane=t.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=t.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),t.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),t.shadowPane=this._createPane("leaflet-shadow-pane"),t.overlayPane=this._createPane("leaflet-overlay-pane"),t.markerPane=this._createPane("leaflet-marker-pane"),t.popupPane=this._createPane("leaflet-popup-pane");var e=" leaflet-zoom-hide";this.options.markerZoomAnimation||(o.DomUtil.addClass(t.markerPane,e),o.DomUtil.addClass(t.shadowPane,e),o.DomUtil.addClass(t.popupPane,e))},_createPane:function(t,e){return o.DomUtil.create("div",t,e||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(t){t=t?o.Util.isArray(t)?t:[t]:[];for(var e=0,n=t.length;n>e;e++)this.addLayer(t[e])},_resetView:function(t,e,n,i){var r=this._zoom!==e;i||(this.fire("movestart"),r&&this.fire("zoomstart")),this._zoom=e,this._initialCenter=t,this._initialTopLeftPoint=this._getNewTopLeftPoint(t),n?this._initialTopLeftPoint._add(this._getMapPanePos()):o.DomUtil.setPosition(this._mapPane,new o.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var s=!this._loaded;this._loaded=!0,s&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("viewreset",{hard:!n}),this.fire("move"),(r||i)&&this.fire("zoomend"),this.fire("moveend",{hard:!n})},_rawPanBy:function(t){o.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var t,e=1/0,i=-1/0,o=this._getZoomSpan();for(t in this._zoomBoundLayers){var r=this._zoomBoundLayers[t];isNaN(r.options.minZoom)||(e=Math.min(e,r.options.minZoom)),isNaN(r.options.maxZoom)||(i=Math.max(i,r.options.maxZoom))}t===n?this._layersMaxZoom=this._layersMinZoom=n:(this._layersMaxZoom=i,this._layersMinZoom=e),o!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){if(o.DomEvent){e=e||"on",o.DomEvent[e](this._container,"click",this._onMouseClick,this);var n,i,r=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"];for(n=0,i=r.length;i>n;n++)o.DomEvent[e](this._container,r[n],this._fireMouseEvent,this);this.options.trackResize&&o.DomEvent[e](t,"resize",this._onResize,this)}},_onResize:function(){o.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=o.Util.requestAnimFrame(this.invalidateSize,this,!1,this._container)},_onMouseClick:function(t){!this._loaded||!t._simulated&&this.dragging&&this.dragging.moved()||o.DomEvent._skipped(t)||(this.fire("preclick"),this._fireMouseEvent(t))},_fireMouseEvent:function(t){if(this._loaded&&!o.DomEvent._skipped(t)){var e=t.type;if(e="mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,this.hasEventListeners(e)){"contextmenu"===e&&o.DomEvent.preventDefault(t);var n=this.mouseEventToContainerPoint(t),i=this.containerPointToLayerPoint(n),r=this.layerPointToLatLng(i);this.fire(e,{latlng:r,layerPoint:i,containerPoint:n,originalEvent:t})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var t=0,e=this._handlers.length;e>t;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,this):this.on("load",t,e),this},_layerAdd:function(t){t.onAdd(this),this.fire("layeradd",{layer:t})},_getMapPanePos:function(){return o.DomUtil.getPosition(this._mapPane)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewTopLeftPoint(n,e).add(this._getMapPanePos());return this.project(t,e)._subtract(i)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom();return Math.max(e,Math.min(n,t))}}),o.map=function(t,e){return new o.Map(t,e)},o.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(t){var e=o.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=this.R_MAJOR,s=this.R_MINOR,a=t.lng*e*r,u=i*e,l=s/r,c=Math.sqrt(1-l*l),h=c*Math.sin(u);h=Math.pow((1-h)/(1+h),.5*c);var f=Math.tan(.5*(.5*Math.PI-u))/h;return u=-r*Math.log(f),new o.Point(a,u)},unproject:function(t){for(var e,n=o.LatLng.RAD_TO_DEG,i=this.R_MAJOR,r=this.R_MINOR,s=t.x*n/i,a=r/i,u=Math.sqrt(1-a*a),l=Math.exp(-t.y/i),c=Math.PI/2-2*Math.atan(l),h=15,f=1e-7,d=h,p=.1;Math.abs(p)>f&&--d>0;)e=u*Math.sin(c),p=Math.PI/2-2*Math.atan(l*Math.pow((1-e)/(1+e),.5*u))-c,c+=p;return new o.LatLng(c*n,s)}},o.CRS.EPSG3395=o.extend({},o.CRS,{code:"EPSG:3395",projection:o.Projection.Mercator,transformation:function(){var t=o.Projection.Mercator,e=t.R_MAJOR,n=t.R_MINOR;return new o.Transformation(.5/(Math.PI*e),.5,-.5/(Math.PI*n),.5)}()}),o.TileLayer=o.Class.extend({includes:o.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:o.Browser.mobile,updateWhenIdle:o.Browser.mobile},initialize:function(t,e){e=o.setOptions(this,e),e.detectRetina&&o.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomOffset++,e.minZoom>0&&e.minZoom--,this.options.maxZoom--),e.bounds&&(e.bounds=o.latLngBounds(e.bounds)),this._url=t;var n=this.options.subdomains;"string"==typeof n&&(this.options.subdomains=n.split(""))},onAdd:function(t){this._map=t,this._animated=t._zoomAnimated,this._initContainer(),this._createTileProto(),t.on({viewreset:this._reset,moveend:this._update},this),this._animated&&t.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=o.Util.limitExecByInterval(this._update,150,this),t.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this._container.parentNode.removeChild(this._container),t.off({viewreset:this._reset,moveend:this._update},this),this._animated&&t.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||t.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var t=this._map._panes.tilePane;return this._container&&(t.appendChild(this._container),this._setAutoZIndex(t,Math.max)),this},bringToBack:function(){var t=this._map._panes.tilePane;return this._container&&(t.insertBefore(this._container,t.firstChild),this._setAutoZIndex(t,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==n&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t,e){var n,i,o,r=t.children,s=-e(1/0,-1/0);for(i=0,o=r.length;o>i;i++)r[i]!==this._container&&(n=parseInt(r[i].style.zIndex,10),isNaN(n)||(s=e(s,n)));this.options.zIndex=this._container.style.zIndex=(isFinite(s)?s:0)+e(1,-1)},_updateOpacity:function(){var t,e=this._tiles;if(o.Browser.ielt9)for(t in e)o.DomUtil.setOpacity(e[t],this.options.opacity);else o.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var t=this._map._panes.tilePane;if(!this._container){if(this._container=o.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){var e="leaflet-tile-container leaflet-zoom-animated";this._bgBuffer=o.DomUtil.create("div",e,this._container),this._tileContainer=o.DomUtil.create("div",e,this._container)}else this._tileContainer=this._container;t.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_reset:function(t){for(var e in this._tiles)this.fire("tileunload",{tile:this._tiles[e]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&t&&t.hard&&this._clearBgBuffer(),this._initContainer()},_update:function(){if(this._map){var t=this._map.getPixelBounds(),e=this._map.getZoom(),n=this.options.tileSize;if(!(e>this.options.maxZoom||e<this.options.minZoom)){var i=o.bounds(t.min.divideBy(n)._floor(),t.max.divideBy(n)._floor());this._addTilesFromCenterOut(i),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(i)}}},_addTilesFromCenterOut:function(t){var n,i,r,s=[],a=t.getCenter();for(n=t.min.y;n<=t.max.y;n++)for(i=t.min.x;i<=t.max.x;i++)r=new o.Point(i,n),this._tileShouldBeLoaded(r)&&s.push(r);var u=s.length;if(0!==u){s.sort(function(t,e){return t.distanceTo(a)-e.distanceTo(a)});var l=e.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=u,i=0;u>i;i++)this._addTile(s[i],l);this._tileContainer.appendChild(l)}},_tileShouldBeLoaded:function(t){if(t.x+":"+t.y in this._tiles)return!1;var e=this.options;if(!e.continuousWorld){var n=this._getWrapTileNum();if(e.noWrap&&(t.x<0||t.x>=n)||t.y<0||t.y>=n)return!1}if(e.bounds){var i=e.tileSize,o=t.multiplyBy(i),r=o.add([i,i]),s=this._map.unproject(o),a=this._map.unproject(r);if(e.continuousWorld||e.noWrap||(s=s.wrap(),a=a.wrap()),!e.bounds.intersects([s,a]))return!1}return!0},_removeOtherTiles:function(t){var e,n,i,o;for(o in this._tiles)e=o.split(":"),n=parseInt(e[0],10),i=parseInt(e[1],10),(n<t.min.x||n>t.max.x||i<t.min.y||i>t.max.y)&&this._removeTile(o)
},_removeTile:function(t){var e=this._tiles[t];this.fire("tileunload",{tile:e,url:e.src}),this.options.reuseTiles?(o.DomUtil.removeClass(e,"leaflet-tile-loaded"),this._unusedTiles.push(e)):e.parentNode===this._tileContainer&&this._tileContainer.removeChild(e),o.Browser.android||(e.onload=null,e.src=o.Util.emptyImageUrl),delete this._tiles[t]},_addTile:function(t,e){var n=this._getTilePos(t),i=this._getTile();o.DomUtil.setPosition(i,n,o.Browser.chrome||o.Browser.android23),this._tiles[t.x+":"+t.y]=i,this._loadTile(i,t),i.parentNode!==this._tileContainer&&e.appendChild(i)},_getZoomForUrl:function(){var t=this.options,e=this._map.getZoom();return t.zoomReverse&&(e=t.maxZoom-e),e+t.zoomOffset},_getTilePos:function(t){var e=this._map.getPixelOrigin(),n=this.options.tileSize;return t.multiplyBy(n).subtract(e)},getTileUrl:function(t){return o.Util.template(this._url,o.extend({s:this._getSubdomain(t),z:t.z,x:t.x,y:t.y},this.options))},_getWrapTileNum:function(){return Math.pow(2,this._getZoomForUrl())},_adjustTilePoint:function(t){var e=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(t.x=(t.x%e+e)%e),this.options.tms&&(t.y=e-t.y-1),t.z=this._getZoomForUrl()},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_createTileProto:function(){var t=this._tileImg=o.DomUtil.create("img","leaflet-tile");t.style.width=t.style.height=this.options.tileSize+"px",t.galleryimg="no"},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var t=this._unusedTiles.pop();return this._resetTile(t),t}return this._createTile()},_resetTile:function(){},_createTile:function(){var t=this._tileImg.cloneNode(!1);return t.onselectstart=t.onmousemove=o.Util.falseFn,o.Browser.ielt9&&this.options.opacity!==n&&o.DomUtil.setOpacity(t,this.options.opacity),t},_loadTile:function(t,e){t._layer=this,t.onload=this._tileOnLoad,t.onerror=this._tileOnError,this._adjustTilePoint(e),t.src=this.getTileUrl(e)},_tileLoaded:function(){this._tilesToLoad--,this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(o.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var t=this._layer;this.src!==o.Util.emptyImageUrl&&(o.DomUtil.addClass(this,"leaflet-tile-loaded"),t.fire("tileload",{tile:this,url:this.src})),t._tileLoaded()},_tileOnError:function(){var t=this._layer;t.fire("tileerror",{tile:this,url:this.src});var e=t.options.errorTileUrl;e&&(this.src=e),t._tileLoaded()}}),o.tileLayer=function(t,e){return new o.TileLayer(t,e)},o.TileLayer.WMS=o.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(t,e){this._url=t;var n=o.extend({},this.defaultWmsParams),i=e.tileSize||this.options.tileSize;n.width=n.height=e.detectRetina&&o.Browser.retina?2*i:i;for(var r in e)this.options.hasOwnProperty(r)||"crs"===r||(n[r]=e[r]);this.wmsParams=n,o.setOptions(this,e)},onAdd:function(t){this._crs=this.options.crs||t.options.crs;var e=parseFloat(this.wmsParams.version)>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,o.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t,e){var n=this._map,i=this.options.tileSize,r=t.multiplyBy(i),s=r.add([i,i]),a=this._crs.project(n.unproject(r,e)),u=this._crs.project(n.unproject(s,e)),l=[a.x,u.y,u.x,a.y].join(","),c=o.Util.template(this._url,{s:this._getSubdomain(t)});return c+o.Util.getParamString(this.wmsParams,c,!0)+"&BBOX="+l},setParams:function(t,e){return o.extend(this.wmsParams,t),e||this.redraw(),this}}),o.tileLayer.wms=function(t,e){return new o.TileLayer.WMS(t,e)},o.TileLayer.Canvas=o.TileLayer.extend({options:{async:!1},initialize:function(t){o.setOptions(this,t)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var t in this._tiles)this._redrawTile(this._tiles[t]);return this},_redrawTile:function(t){this.drawTile(t,t._tilePoint,this._map._zoom)},_createTileProto:function(){var t=this._canvasProto=o.DomUtil.create("canvas","leaflet-tile");t.width=t.height=this.options.tileSize},_createTile:function(){var t=this._canvasProto.cloneNode(!1);return t.onselectstart=t.onmousemove=o.Util.falseFn,t},_loadTile:function(t,e){t._layer=this,t._tilePoint=e,this._redrawTile(t),this.options.async||this.tileDrawn(t)},drawTile:function(){},tileDrawn:function(t){this._tileOnLoad.call(t)}}),o.tileLayer.canvas=function(t){return new o.TileLayer.Canvas(t)},o.ImageOverlay=o.Class.extend({includes:o.Mixin.Events,options:{opacity:1},initialize:function(t,e,n){this._url=t,this._bounds=o.latLngBounds(e),o.setOptions(this,n)},onAdd:function(t){this._map=t,this._image||this._initImage(),t._panes.overlayPane.appendChild(this._image),t.on("viewreset",this._reset,this),t.options.zoomAnimation&&o.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._image),t.off("viewreset",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var t=this._map._panes.overlayPane;return this._image&&t.insertBefore(this._image,t.firstChild),this},_initImage:function(){this._image=o.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&o.Browser.any3d?o.DomUtil.addClass(this._image,"leaflet-zoom-animated"):o.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),o.extend(this._image,{galleryimg:"no",onselectstart:o.Util.falseFn,onmousemove:o.Util.falseFn,onload:o.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(t){var e=this._map,n=this._image,i=e.getZoomScale(t.zoom),r=this._bounds.getNorthWest(),s=this._bounds.getSouthEast(),a=e._latLngToNewLayerPoint(r,t.zoom,t.center),u=e._latLngToNewLayerPoint(s,t.zoom,t.center)._subtract(a),l=a._add(u._multiplyBy(.5*(1-1/i)));n.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(l)+" scale("+i+") "},_reset:function(){var t=this._image,e=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),n=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(e);o.DomUtil.setPosition(t,e),t.style.width=n.x+"px",t.style.height=n.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){o.DomUtil.setOpacity(this._image,this.options.opacity)}}),o.imageOverlay=function(t,e,n){return new o.ImageOverlay(t,e,n)},o.Icon=o.Class.extend({options:{className:""},initialize:function(t){o.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i;return i=e&&"IMG"===e.tagName?this._createImg(n,e):this._createImg(n),this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n,i=this.options,r=o.point(i[e+"Size"]);n=o.point("shadow"===e?i.shadowAnchor||i.iconAnchor:i.iconAnchor),!n&&r&&(n=r.divideBy(2,!0)),t.className="leaflet-marker-"+e+" "+i.className,n&&(t.style.marginLeft=-n.x+"px",t.style.marginTop=-n.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,n){return o.Browser.ie6?(n||(n=e.createElement("div")),n.style.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+t+'")'):(n||(n=e.createElement("img")),n.src=t),n},_getIconUrl:function(t){return o.Browser.retina&&this.options[t+"RetinaUrl"]?this.options[t+"RetinaUrl"]:this.options[t+"Url"]}}),o.icon=function(t){return new o.Icon(t)},o.Icon.Default=o.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(t){var e=t+"Url";if(this.options[e])return this.options[e];o.Browser.retina&&"icon"===t&&(t+="-2x");var n=o.Icon.Default.imagePath;if(!n)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return n+"/marker-"+t+".png"}}),o.Icon.Default.imagePath=function(){var t,n,i,o,r,s=e.getElementsByTagName("script"),a=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(t=0,n=s.length;n>t;t++)if(i=s[t].src,o=i.match(a))return r=i.split(a)[0],(r?r+"/":"")+"images"}(),o.Marker=o.Class.extend({includes:o.Mixin.Events,options:{icon:new o.Icon.Default,title:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(t,e){o.setOptions(this,e),this._latlng=o.latLng(t)},onAdd:function(t){this._map=t,t.on("viewreset",this.update,this),this._initIcon(),this.update(),t.options.zoomAnimation&&t.options.markerZoomAnimation&&t.on("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),t.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=o.latLng(t),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update(),this},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e=this._map,n=e.options.zoomAnimation&&e.options.markerZoomAnimation,i=n?"leaflet-zoom-animated":"leaflet-zoom-hide",r=t.icon.createIcon(this._icon),s=!1;r!==this._icon&&(this._icon&&this._removeIcon(),s=!0,t.title&&(r.title=t.title)),o.DomUtil.addClass(r,i),t.keyboard&&(r.tabIndex="0"),this._icon=r,this._initInteraction(),t.riseOnHover&&o.DomEvent.on(r,"mouseover",this._bringToFront,this).on(r,"mouseout",this._resetZIndex,this);var a=t.icon.createShadow(this._shadow),u=!1;a!==this._shadow&&(this._removeShadow(),u=!0),a&&o.DomUtil.addClass(a,i),this._shadow=a,t.opacity<1&&this._updateOpacity();var l=this._map._panes;s&&l.markerPane.appendChild(this._icon),a&&u&&l.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&o.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(t){o.DomUtil.setPosition(this._icon,t),this._shadow&&o.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPos(e)},_initInteraction:function(){if(this.options.clickable){var t=this._icon,e=["dblclick","mousedown","mouseover","mouseout","contextmenu"];o.DomUtil.addClass(t,"leaflet-clickable"),o.DomEvent.on(t,"click",this._onMouseClick,this),o.DomEvent.on(t,"keypress",this._onKeyPress,this);for(var n=0;n<e.length;n++)o.DomEvent.on(t,e[n],this._fireMouseEvent,this);o.Handler.MarkerDrag&&(this.dragging=new o.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(t){var e=this.dragging&&this.dragging.moved();(this.hasEventListeners(t.type)||e)&&o.DomEvent.stopPropagation(t),e||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(t.type,{originalEvent:t,latlng:this._latlng})},_onKeyPress:function(t){13===t.keyCode&&this.fire("click",{originalEvent:t,latlng:this._latlng})},_fireMouseEvent:function(t){this.fire(t.type,{originalEvent:t,latlng:this._latlng}),"contextmenu"===t.type&&this.hasEventListeners(t.type)&&o.DomEvent.preventDefault(t),"mousedown"!==t.type?o.DomEvent.stopPropagation(t):o.DomEvent.preventDefault(t)},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){o.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&o.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),o.marker=function(t,e){return new o.Marker(t,e)},o.DivIcon=o.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(t){var n=t&&"DIV"===t.tagName?t:e.createElement("div"),i=this.options;return n.innerHTML=i.html!==!1?i.html:"",i.bgPos&&(n.style.backgroundPosition=-i.bgPos.x+"px "+-i.bgPos.y+"px"),this._setIconStyles(n,"icon"),n},createShadow:function(){return null}}),o.divIcon=function(t){return new o.DivIcon(t)},o.Map.mergeOptions({closePopupOnClick:!0}),o.Popup=o.Class.extend({includes:o.Mixin.Events,options:{minWidth:50,maxWidth:300,maxHeight:null,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(t,e){o.setOptions(this,t),this._source=e,this._animated=o.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(t){this._map=t,this._container||this._initLayout(),this._updateContent();var e=t.options.fadeAnimation;e&&o.DomUtil.setOpacity(this._container,0),t._panes.popupPane.appendChild(this._container),t.on(this._getEvents(),this),this._update(),e&&o.DomUtil.setOpacity(this._container,1),this.fire("open"),t.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(t){return t.addLayer(this),this},openOn:function(t){return t.openPopup(this),this},onRemove:function(t){t._panes.popupPane.removeChild(this._container),o.Util.falseFn(this._container.offsetWidth),t.off(this._getEvents(),this),t.options.fadeAnimation&&o.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),t.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},setLatLng:function(t){return this._latlng=o.latLng(t),this._update(),this},setContent:function(t){return this._content=t,this._update(),this},_getEvents:function(){var t={viewreset:this._updatePosition};return this._animated&&(t.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t,e="leaflet-popup",n=e+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),i=this._container=o.DomUtil.create("div",n);this.options.closeButton&&(t=this._closeButton=o.DomUtil.create("a",e+"-close-button",i),t.href="#close",t.innerHTML="&#215;",o.DomEvent.disableClickPropagation(t),o.DomEvent.on(t,"click",this._onCloseButtonClick,this));var r=this._wrapper=o.DomUtil.create("div",e+"-content-wrapper",i);o.DomEvent.disableClickPropagation(r),this._contentNode=o.DomUtil.create("div",e+"-content",r),o.DomEvent.on(this._contentNode,"mousewheel",o.DomEvent.stopPropagation),o.DomEvent.on(this._contentNode,"MozMousePixelScroll",o.DomEvent.stopPropagation),o.DomEvent.on(r,"contextmenu",o.DomEvent.stopPropagation),this._tipContainer=o.DomUtil.create("div",e+"-tip-container",i),this._tip=o.DomUtil.create("div",e+"-tip",this._tipContainer)},_update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_updateContent:function(){if(this._content){if("string"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,r=this.options.maxHeight,s="leaflet-popup-scrolled";r&&i>r?(e.height=r+"px",o.DomUtil.addClass(t,s)):o.DomUtil.removeClass(t,s),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=this._animated,n=o.point(this.options.offset);e&&o.DomUtil.setPosition(this._container,t),this._containerBottom=-n.y-(e?0:t.y),this._containerLeft=-Math.round(this._containerWidth/2)+n.x+(e?0:t.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);o.DomUtil.setPosition(this._container,e)},_adjustPan:function(){if(this.options.autoPan){var t=this._map,e=this._container.offsetHeight,n=this._containerWidth,i=new o.Point(this._containerLeft,-e-this._containerBottom);this._animated&&i._add(o.DomUtil.getPosition(this._container));var r=t.layerPointToContainerPoint(i),s=o.point(this.options.autoPanPadding),a=t.getSize(),u=0,l=0;r.x+n>a.x&&(u=r.x+n-a.x+s.x),r.x-u<0&&(u=r.x-s.x),r.y+e>a.y&&(l=r.y+e-a.y+s.y),r.y-l<0&&(l=r.y-s.y),(u||l)&&t.fire("autopanstart").panBy([u,l])}},_onCloseButtonClick:function(t){this._close(),o.DomEvent.stop(t)}}),o.popup=function(t,e){return new o.Popup(t,e)},o.Map.include({openPopup:function(t,e,n){if(this.closePopup(),!(t instanceof o.Popup)){var i=t;t=new o.Popup(n).setLatLng(e).setContent(i)}return t._isOpen=!0,this._popup=t,this.addLayer(t)},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&(this.removeLayer(t),t._isOpen=!1),this}}),o.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(t,e){var n=o.point(this.options.icon.options.popupAnchor||[0,0]);return n=n.add(o.Popup.prototype.options.offset),e&&e.offset&&(n=n.add(e.offset)),e=o.extend({offset:n},e),this._popup||this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),t instanceof o.Popup?(o.setOptions(t,e),this._popup=t):this._popup=new o.Popup(e,this).setContent(t),this},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup).off("remove",this.closePopup).off("move",this._movePopup)),this},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),o.LayerGroup=o.Class.extend({initialize:function(t){this._layers={};var e,n;if(t)for(e=0,n=t.length;n>e;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return t?t in this._layers||this.getLayerId(t)in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)n=this._layers[e],n[t]&&n[t].apply(n,i);return this},onAdd:function(t){this._map=t,this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t),this._map=null},addTo:function(t){return t.addLayer(this),this},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return o.stamp(t)}}),o.layerGroup=function(t){return new o.LayerGroup(t)},o.FeatureGroup=o.LayerGroup.extend({includes:o.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(t){return this.hasLayer(t)?this:(t.on(o.FeatureGroup.EVENTS,this._propagateEvent,this),o.LayerGroup.prototype.addLayer.call(this,t),this._popupContent&&t.bindPopup&&t.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.off(o.FeatureGroup.EVENTS,this._propagateEvent,this),o.LayerGroup.prototype.removeLayer.call(this,t),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:t})):this},bindPopup:function(t,e){return this._popupContent=t,this._popupOptions=e,this.invoke("bindPopup",t,e)},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new o.LatLngBounds;return this.eachLayer(function(e){t.extend(e instanceof o.Marker?e.getLatLng():e.getBounds())}),t},_propagateEvent:function(t){t.layer||(t.layer=t.target),t.target=this,this.fire(t.type,t)}}),o.featureGroup=function(t){return new o.FeatureGroup(t)},o.Path=o.Class.extend({includes:[o.Mixin.Events],statics:{CLIP_PADDING:function(){var e=o.Browser.mobile?1280:2e3,n=(e/Math.max(t.outerWidth,t.outerHeight)-1)/2;return Math.max(0,Math.min(.5,n))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(t){o.setOptions(this,t)},onAdd:function(t){this._map=t,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),t.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){t._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,o.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),t.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(t){return o.setOptions(this,t),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),o.Map.include({_updatePathViewport:function(){var t=o.Path.CLIP_PADDING,e=this.getSize(),n=o.DomUtil.getPosition(this._mapPane),i=n.multiplyBy(-1)._subtract(e.multiplyBy(t)._round()),r=i.add(e.multiplyBy(1+2*t)._round());this._pathViewport=new o.Bounds(i,r)}}),o.Path.SVG_NS="http://www.w3.org/2000/svg",o.Browser.svg=!(!e.createElementNS||!e.createElementNS(o.Path.SVG_NS,"svg").createSVGRect),o.Path=o.Path.extend({statics:{SVG:o.Browser.svg},bringToFront:function(){var t=this._map._pathRoot,e=this._container;return e&&t.lastChild!==e&&t.appendChild(e),this},bringToBack:function(){var t=this._map._pathRoot,e=this._container,n=t.firstChild;return e&&n!==e&&t.insertBefore(e,n),this},getPathString:function(){},_createElement:function(t){return e.createElementNS(o.Path.SVG_NS,t)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray")):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var t=this.getPathString();t||(t="M0 0"),this._path.setAttribute("d",t)},_initEvents:function(){if(this.options.clickable){(o.Browser.svg||!o.Browser.vml)&&this._path.setAttribute("class","leaflet-clickable"),o.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var t=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],e=0;e<t.length;e++)o.DomEvent.on(this._container,t[e],this._fireMouseEvent,this)}},_onMouseClick:function(t){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(t)},_fireMouseEvent:function(t){if(this.hasEventListeners(t.type)){var e=this._map,n=e.mouseEventToContainerPoint(t),i=e.containerPointToLayerPoint(n),r=e.layerPointToLatLng(i);this.fire(t.type,{latlng:r,layerPoint:i,containerPoint:n,originalEvent:t}),"contextmenu"===t.type&&o.DomEvent.preventDefault(t),"mousemove"!==t.type&&o.DomEvent.stopPropagation(t)}}}),o.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=o.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&o.Browser.any3d?(this._pathRoot.setAttribute("class"," leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):this._pathRoot.setAttribute("class"," leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(t){var e=this.getZoomScale(t.zoom),n=this._getCenterOffset(t.center)._multiplyBy(-e)._add(this._pathViewport.min);this._pathRoot.style[o.DomUtil.TRANSFORM]=o.DomUtil.getTranslateString(n)+" scale("+e+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,n=t.max,i=n.x-e.x,r=n.y-e.y,s=this._pathRoot,a=this._panes.overlayPane;o.Browser.mobileWebkit&&a.removeChild(s),o.DomUtil.setPosition(s,e),s.setAttribute("width",i),s.setAttribute("height",r),s.setAttribute("viewBox",[e.x,e.y,i,r].join(" ")),o.Browser.mobileWebkit&&a.appendChild(s)}}}),o.Path.include({bindPopup:function(t,e){return t instanceof o.Popup?this._popup=t:((!this._popup||e)&&(this._popup=new o.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(t){return this._popup&&(t=t||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:t})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(t){this._popup.setLatLng(t.latlng),this._map.openPopup(this._popup)}}),o.Browser.vml=!o.Browser.svg&&function(){try{var t=e.createElement("div");t.innerHTML='<v:shape adj="1"/>';var n=t.firstChild;return n.style.behavior="url(#default#VML)",n&&"object"==typeof n.adj}catch(i){return!1}}(),o.Path=o.Browser.svg||!o.Browser.vml?o.Path:o.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return e.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return e.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var t=this._container=this._createElement("shape");o.DomUtil.addClass(t,"leaflet-vml-shape"),this.options.clickable&&o.DomUtil.addClass(t,"leaflet-clickable"),t.coordsize="1 1",this._path=this._createElement("path"),t.appendChild(this._path),this._map._pathRoot.appendChild(t)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var t=this._stroke,e=this._fill,n=this.options,i=this._container;i.stroked=n.stroke,i.filled=n.fill,n.stroke?(t||(t=this._stroke=this._createElement("stroke"),t.endcap="round",i.appendChild(t)),t.weight=n.weight+"px",t.color=n.color,t.opacity=n.opacity,t.dashStyle=n.dashArray?n.dashArray instanceof Array?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):""):t&&(i.removeChild(t),this._stroke=null),n.fill?(e||(e=this._fill=this._createElement("fill"),i.appendChild(e)),e.color=n.fillColor||n.color,e.opacity=n.fillOpacity):e&&(i.removeChild(e),this._fill=null)},_updatePath:function(){var t=this._container.style;t.display="none",this._path.v=this.getPathString()+" ",t.display=""}}),o.Map.include(o.Browser.svg||!o.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var t=this._pathRoot=e.createElement("div");t.className="leaflet-vml-container",this._panes.overlayPane.appendChild(t),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),o.Browser.canvas=function(){return!!e.createElement("canvas").getContext}(),o.Path=o.Path.SVG&&!t.L_PREFER_CANVAS||!o.Browser.canvas?o.Path:o.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(t){return o.setOptions(this,t),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(t){t.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this._map=null},_requestUpdate:function(){this._map&&!o.Path._updateRequest&&(o.Path._updateRequest=o.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){o.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var t=this.options;t.stroke&&(this._ctx.lineWidth=t.weight,this._ctx.strokeStyle=t.color),t.fill&&(this._ctx.fillStyle=t.fillColor||t.color)},_drawPath:function(){var t,e,n,i,r,s;for(this._ctx.beginPath(),t=0,n=this._parts.length;n>t;t++){for(e=0,i=this._parts[t].length;i>e;e++)r=this._parts[t][e],s=(0===e?"move":"line")+"To",this._ctx[s](r.x,r.y);this instanceof o.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var t=this._ctx,e=this.options;this._drawPath(),t.save(),this._updateStyle(),e.fill&&(t.globalAlpha=e.fillOpacity,t.fill()),e.stroke&&(t.globalAlpha=e.opacity,t.stroke()),t.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onClick,this))},_onClick:function(t){this._containsPoint(t.layerPoint)&&this.fire("click",t)},_onMouseMove:function(t){this._map&&!this._map._animatingZoom&&(this._containsPoint(t.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",t)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",t)))}}),o.Map.include(o.Path.SVG&&!t.L_PREFER_CANVAS||!o.Browser.canvas?{}:{_initPathRoot:function(){var t,n=this._pathRoot;n||(n=this._pathRoot=e.createElement("canvas"),n.style.position="absolute",t=this._canvasCtx=n.getContext("2d"),t.lineCap="round",t.lineJoin="round",this._panes.overlayPane.appendChild(n),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())
},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,n=t.max.subtract(e),i=this._pathRoot;o.DomUtil.setPosition(i,e),i.width=n.x,i.height=n.y,i.getContext("2d").translate(-e.x,-e.y)}}}),o.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=this._reducePoints(t,n),t=this._simplifyDP(t,n)},pointToSegmentDistance:function(t,e,n){return Math.sqrt(this._sqClosestPointOnSegment(t,e,n,!0))},closestPointOnSegment:function(t,e,n){return this._sqClosestPointOnSegment(t,e,n)},_simplifyDP:function(t,e){var i=t.length,o=typeof Uint8Array!=n+""?Uint8Array:Array,r=new o(i);r[0]=r[i-1]=1,this._simplifyDPStep(t,r,e,0,i-1);var s,a=[];for(s=0;i>s;s++)r[s]&&a.push(t[s]);return a},_simplifyDPStep:function(t,e,n,i,o){var r,s,a,u=0;for(s=i+1;o-1>=s;s++)a=this._sqClosestPointOnSegment(t[s],t[i],t[o],!0),a>u&&(r=s,u=a);u>n&&(e[r]=1,this._simplifyDPStep(t,e,n,i,r),this._simplifyDPStep(t,e,n,r,o))},_reducePoints:function(t,e){for(var n=[t[0]],i=1,o=0,r=t.length;r>i;i++)this._sqDist(t[i],t[o])>e&&(n.push(t[i]),o=i);return r-1>o&&n.push(t[r-1]),n},clipSegment:function(t,e,n,i){var o,r,s,a=i?this._lastCode:this._getBitCode(t,n),u=this._getBitCode(e,n);for(this._lastCode=u;;){if(!(a|u))return[t,e];if(a&u)return!1;o=a||u,r=this._getEdgeIntersection(t,e,o,n),s=this._getBitCode(r,n),o===a?(t=r,a=s):(e=r,u=s)}},_getEdgeIntersection:function(t,e,n,i){var r=e.x-t.x,s=e.y-t.y,a=i.min,u=i.max;return 8&n?new o.Point(t.x+r*(u.y-t.y)/s,u.y):4&n?new o.Point(t.x+r*(a.y-t.y)/s,a.y):2&n?new o.Point(u.x,t.y+s*(u.x-t.x)/r):1&n?new o.Point(a.x,t.y+s*(a.x-t.x)/r):void 0},_getBitCode:function(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n},_sqDist:function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i},_sqClosestPointOnSegment:function(t,e,n,i){var r,s=e.x,a=e.y,u=n.x-s,l=n.y-a,c=u*u+l*l;return c>0&&(r=((t.x-s)*u+(t.y-a)*l)/c,r>1?(s=n.x,a=n.y):r>0&&(s+=u*r,a+=l*r)),u=t.x-s,l=t.y-a,i?u*u+l*l:new o.Point(s,a)}},o.Polyline=o.Path.extend({initialize:function(t,e){o.Path.prototype.initialize.call(this,e),this._latlngs=this._convertLatLngs(t)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var t=0,e=this._latlngs.length;e>t;t++)this._originalPoints[t]=this._map.latLngToLayerPoint(this._latlngs[t])},getPathString:function(){for(var t=0,e=this._parts.length,n="";e>t;t++)n+=this._getPathPartStr(this._parts[t]);return n},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._latlngs=this._convertLatLngs(t),this.redraw()},addLatLng:function(t){return this._latlngs.push(o.latLng(t)),this.redraw()},spliceLatLngs:function(){var t=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),t},closestLayerPoint:function(t){for(var e,n,i=1/0,r=this._parts,s=null,a=0,u=r.length;u>a;a++)for(var l=r[a],c=1,h=l.length;h>c;c++){e=l[c-1],n=l[c];var f=o.LineUtil._sqClosestPointOnSegment(t,e,n,!0);i>f&&(i=f,s=o.LineUtil._sqClosestPointOnSegment(t,e,n))}return s&&(s.distance=Math.sqrt(i)),s},getBounds:function(){return new o.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(t,e){var n,i,r=e?t:[];for(n=0,i=t.length;i>n;n++){if(o.Util.isArray(t[n])&&"number"!=typeof t[n][0])return;r[n]=o.latLng(t[n])}return r},_initEvents:function(){o.Path.prototype._initEvents.call(this)},_getPathPartStr:function(t){for(var e,n=o.Path.VML,i=0,r=t.length,s="";r>i;i++)e=t[i],n&&e._round(),s+=(i?"L":"M")+e.x+" "+e.y;return s},_clipPoints:function(){var t,e,n,i=this._originalPoints,r=i.length;if(this.options.noClip)return void(this._parts=[i]);this._parts=[];var s=this._parts,a=this._map._pathViewport,u=o.LineUtil;for(t=0,e=0;r-1>t;t++)n=u.clipSegment(i[t],i[t+1],a,t),n&&(s[e]=s[e]||[],s[e].push(n[0]),(n[1]!==i[t+1]||t===r-2)&&(s[e].push(n[1]),e++))},_simplifyPoints:function(){for(var t=this._parts,e=o.LineUtil,n=0,i=t.length;i>n;n++)t[n]=e.simplify(t[n],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),o.Path.prototype._updatePath.call(this))}}),o.polyline=function(t,e){return new o.Polyline(t,e)},o.PolyUtil={},o.PolyUtil.clipPolygon=function(t,e){var n,i,r,s,a,u,l,c,h,f=[1,4,2,8],d=o.LineUtil;for(i=0,l=t.length;l>i;i++)t[i]._code=d._getBitCode(t[i],e);for(s=0;4>s;s++){for(c=f[s],n=[],i=0,l=t.length,r=l-1;l>i;r=i++)a=t[i],u=t[r],a._code&c?u._code&c||(h=d._getEdgeIntersection(u,a,c,e),h._code=d._getBitCode(h,e),n.push(h)):(u._code&c&&(h=d._getEdgeIntersection(u,a,c,e),h._code=d._getBitCode(h,e),n.push(h)),n.push(a));t=n}return t},o.Polygon=o.Polyline.extend({options:{fill:!0},initialize:function(t,e){var n,i,r;if(o.Polyline.prototype.initialize.call(this,t,e),t&&o.Util.isArray(t[0])&&"number"!=typeof t[0][0])for(this._latlngs=this._convertLatLngs(t[0]),this._holes=t.slice(1),n=0,i=this._holes.length;i>n;n++)r=this._holes[n]=this._convertLatLngs(this._holes[n]),r[0].equals(r[r.length-1])&&r.pop();t=this._latlngs,t.length>=2&&t[0].equals(t[t.length-1])&&t.pop()},projectLatlngs:function(){if(o.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var t,e,n,i;for(t=0,n=this._holes.length;n>t;t++)for(this._holePoints[t]=[],e=0,i=this._holes[t].length;i>e;e++)this._holePoints[t][e]=this._map.latLngToLayerPoint(this._holes[t][e])}},_clipPoints:function(){var t=this._originalPoints,e=[];if(this._parts=[t].concat(this._holePoints),!this.options.noClip){for(var n=0,i=this._parts.length;i>n;n++){var r=o.PolyUtil.clipPolygon(this._parts[n],this._map._pathViewport);r.length&&e.push(r)}this._parts=e}},_getPathPartStr:function(t){var e=o.Polyline.prototype._getPathPartStr.call(this,t);return e+(o.Browser.svg?"z":"x")}}),o.polygon=function(t,e){return new o.Polygon(t,e)},function(){function t(t){return o.FeatureGroup.extend({initialize:function(t,e){this._layers={},this._options=e,this.setLatLngs(t)},setLatLngs:function(e){var n=0,i=e.length;for(this.eachLayer(function(t){i>n?t.setLatLngs(e[n++]):this.removeLayer(t)},this);i>n;)this.addLayer(new t(e[n++],this._options));return this},getLatLngs:function(){var t=[];return this.eachLayer(function(e){t.push(e.getLatLngs())}),t}})}o.MultiPolyline=t(o.Polyline),o.MultiPolygon=t(o.Polygon),o.multiPolyline=function(t,e){return new o.MultiPolyline(t,e)},o.multiPolygon=function(t,e){return new o.MultiPolygon(t,e)}}(),o.Rectangle=o.Polygon.extend({initialize:function(t,e){o.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=o.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),o.rectangle=function(t,e){return new o.Rectangle(t,e)},o.Circle=o.Path.extend({initialize:function(t,e,n){o.Path.prototype.initialize.call(this,n),this._latlng=o.latLng(t),this._mRadius=e},options:{fill:!0},setLatLng:function(t){return this._latlng=o.latLng(t),this.redraw()},setRadius:function(t){return this._mRadius=t,this.redraw()},projectLatlngs:function(){var t=this._getLngRadius(),e=this._latlng,n=this._map.latLngToLayerPoint([e.lat,e.lng-t]);this._point=this._map.latLngToLayerPoint(e),this._radius=Math.max(this._point.x-n.x,1)},getBounds:function(){var t=this._getLngRadius(),e=360*(this._mRadius/40075017),n=this._latlng;return new o.LatLngBounds([n.lat-e,n.lng-t],[n.lat+e,n.lng+t])},getLatLng:function(){return this._latlng},getPathString:function(){var t=this._point,e=this._radius;return this._checkIfEmpty()?"":o.Browser.svg?"M"+t.x+","+(t.y-e)+"A"+e+","+e+",0,1,1,"+(t.x-.1)+","+(t.y-e)+" z":(t._round(),e=Math.round(e),"AL "+t.x+","+t.y+" "+e+","+e+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return 360*(this._mRadius/40075017)},_getLngRadius:function(){return this._getLatRadius()/Math.cos(o.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var t=this._map._pathViewport,e=this._radius,n=this._point;return n.x-e>t.max.x||n.y-e>t.max.y||n.x+e<t.min.x||n.y+e<t.min.y}}),o.circle=function(t,e,n){return new o.Circle(t,e,n)},o.CircleMarker=o.Circle.extend({options:{radius:10,weight:2},initialize:function(t,e){o.Circle.prototype.initialize.call(this,t,null,e),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){o.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()}}),o.circleMarker=function(t,e){return new o.CircleMarker(t,e)},o.Polyline.include(o.Path.CANVAS?{_containsPoint:function(t,e){var n,i,r,s,a,u,l,c=this.options.weight/2;for(o.Browser.touch&&(c+=10),n=0,s=this._parts.length;s>n;n++)for(l=this._parts[n],i=0,a=l.length,r=a-1;a>i;r=i++)if((e||0!==i)&&(u=o.LineUtil.pointToSegmentDistance(t,l[r],l[i]),c>=u))return!0;return!1}}:{}),o.Polygon.include(o.Path.CANVAS?{_containsPoint:function(t){var e,n,i,r,s,a,u,l,c=!1;if(o.Polyline.prototype._containsPoint.call(this,t,!0))return!0;for(r=0,u=this._parts.length;u>r;r++)for(e=this._parts[r],s=0,l=e.length,a=l-1;l>s;a=s++)n=e[s],i=e[a],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(c=!c);return c}}:{}),o.Circle.include(o.Path.CANVAS?{_drawPath:function(){var t=this._point;this._ctx.beginPath(),this._ctx.arc(t.x,t.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(t){var e=this._point,n=this.options.stroke?this.options.weight/2:0;return t.distanceTo(e)<=this._radius+n}}:{}),o.CircleMarker.include(o.Path.CANVAS?{_updateStyle:function(){o.Path.prototype._updateStyle.call(this)}}:{}),o.GeoJSON=o.FeatureGroup.extend({initialize:function(t,e){o.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,r=o.Util.isArray(t)?t:t.features;if(r){for(e=0,n=r.length;n>e;e++)i=r[e],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(r[e]);return this}var s=this.options;if(!s.filter||s.filter(t)){var a=o.GeoJSON.geometryToLayer(t,s.pointToLayer,s.coordsToLatLng);return a.feature=o.GeoJSON.asFeature(t),a.defaultOptions=a.options,this.resetStyle(a),s.onEachFeature&&s.onEachFeature(t,a),this.addLayer(a)}},resetStyle:function(t){var e=this.options.style;e&&(o.Util.extend(t.options,t.defaultOptions),this._setLayerStyle(t,e))},setStyle:function(t){this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),o.extend(o.GeoJSON,{geometryToLayer:function(t,e,n){var i,r,s,a,u,l="Feature"===t.type?t.geometry:t,c=l.coordinates,h=[];switch(n=n||this.coordsToLatLng,l.type){case"Point":return i=n(c),e?e(t,i):new o.Marker(i);case"MultiPoint":for(s=0,a=c.length;a>s;s++)i=n(c[s]),u=e?e(t,i):new o.Marker(i),h.push(u);return new o.FeatureGroup(h);case"LineString":return r=this.coordsToLatLngs(c,0,n),new o.Polyline(r);case"Polygon":return r=this.coordsToLatLngs(c,1,n),new o.Polygon(r);case"MultiLineString":return r=this.coordsToLatLngs(c,1,n),new o.MultiPolyline(r);case"MultiPolygon":return r=this.coordsToLatLngs(c,2,n),new o.MultiPolygon(r);case"GeometryCollection":for(s=0,a=l.geometries.length;a>s;s++)u=this.geometryToLayer({geometry:l.geometries[s],type:"Feature",properties:t.properties},e,n),h.push(u);return new o.FeatureGroup(h);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new o.LatLng(t[1],t[0])},coordsToLatLngs:function(t,e,n){var i,o,r,s=[];for(o=0,r=t.length;r>o;o++)i=e?this.coordsToLatLngs(t[o],e-1,n):(n||this.coordsToLatLng)(t[o]),s.push(i);return s},latLngToCoords:function(t){return[t.lng,t.lat]},latLngsToCoords:function(t){for(var e=[],n=0,i=t.length;i>n;n++)e.push(o.GeoJSON.latLngToCoords(t[n]));return e},getFeature:function(t,e){return t.feature?o.extend({},t.feature,{geometry:e}):o.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var s={toGeoJSON:function(){return o.GeoJSON.getFeature(this,{type:"Point",coordinates:o.GeoJSON.latLngToCoords(this.getLatLng())})}};o.Marker.include(s),o.Circle.include(s),o.CircleMarker.include(s),o.Polyline.include({toGeoJSON:function(){return o.GeoJSON.getFeature(this,{type:"LineString",coordinates:o.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),o.Polygon.include({toGeoJSON:function(){var t,e,n,i=[o.GeoJSON.latLngsToCoords(this.getLatLngs())];if(i[0].push(i[0][0]),this._holes)for(t=0,e=this._holes.length;e>t;t++)n=o.GeoJSON.latLngsToCoords(this._holes[t]),n.push(n[0]),i.push(n);return o.GeoJSON.getFeature(this,{type:"Polygon",coordinates:i})}}),function(){function t(t,e){t.include({toGeoJSON:function(){var t=[];return this.eachLayer(function(e){t.push(e.toGeoJSON().geometry.coordinates)}),o.GeoJSON.getFeature(this,{type:e,coordinates:t})}})}t(o.MultiPolyline,"MultiLineString"),t(o.MultiPolygon,"MultiPolygon")}(),o.LayerGroup.include({toGeoJSON:function(){var t=[];return this.eachLayer(function(e){e.toGeoJSON&&t.push(o.GeoJSON.asFeature(e.toGeoJSON()))}),{type:"FeatureCollection",features:t}}}),o.geoJson=function(t,e){return new o.GeoJSON(t,e)},o.DomEvent={addListener:function(t,e,n,i){var r,s,a,u=o.stamp(n),l="_leaflet_"+e+u;return t[l]?this:(r=function(e){return n.call(i||t,e||o.DomEvent._getEvent())},o.Browser.msTouch&&0===e.indexOf("touch")?this.addMsTouchListener(t,e,r,u):(o.Browser.touch&&"dblclick"===e&&this.addDoubleTapListener&&this.addDoubleTapListener(t,r,u),"addEventListener"in t?"mousewheel"===e?(t.addEventListener("DOMMouseScroll",r,!1),t.addEventListener(e,r,!1)):"mouseenter"===e||"mouseleave"===e?(s=r,a="mouseenter"===e?"mouseover":"mouseout",r=function(e){return o.DomEvent._checkMouse(t,e)?s(e):void 0},t.addEventListener(a,r,!1)):"click"===e&&o.Browser.android?(s=r,r=function(t){return o.DomEvent._filterClick(t,s)},t.addEventListener(e,r,!1)):t.addEventListener(e,r,!1):"attachEvent"in t&&t.attachEvent("on"+e,r),t[l]=r,this))},removeListener:function(t,e,n){var i=o.stamp(n),r="_leaflet_"+e+i,s=t[r];return s?(o.Browser.msTouch&&0===e.indexOf("touch")?this.removeMsTouchListener(t,e,i):o.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,i):"removeEventListener"in t?"mousewheel"===e?(t.removeEventListener("DOMMouseScroll",s,!1),t.removeEventListener(e,s,!1)):"mouseenter"===e||"mouseleave"===e?t.removeEventListener("mouseenter"===e?"mouseover":"mouseout",s,!1):t.removeEventListener(e,s,!1):"detachEvent"in t&&t.detachEvent("on"+e,s),t[r]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this},disableClickPropagation:function(t){for(var e=o.DomEvent.stopPropagation,n=o.Draggable.START.length-1;n>=0;n--)o.DomEvent.addListener(t,o.Draggable.START[n],e);return o.DomEvent.addListener(t,"click",o.DomEvent._fakeStop).addListener(t,"dblclick",e)},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return o.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,n){var i=o.Browser.ie7,r=e.body,s=e.documentElement,a=t.pageX?t.pageX-r.scrollLeft-s.scrollLeft:t.clientX,u=t.pageY?t.pageY-r.scrollTop-s.scrollTop:t.clientY,l=new o.Point(a,u),c=n.getBoundingClientRect(),h=c.left-n.clientLeft,f=c.top-n.clientTop;return o.DomUtil.documentIsLtr()||!o.Browser.webkit&&!i||(h+=n.scrollWidth-n.clientWidth,i&&"hidden"!==o.DomUtil.getStyle(n,"overflow-y")&&"hidden"!==o.DomUtil.getStyle(n,"overflow")&&(h+=17)),l._subtract(new o.Point(h,f))},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),t.detail&&(e=-t.detail/3),e},_skipEvents:{},_fakeStop:function(t){o.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_checkMouse:function(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(i){return!1}return n!==t},_getEvent:function(){var e=t.event;if(!e)for(var n=arguments.callee.caller;n&&(e=n.arguments[0],!e||t.Event!==e.constructor);)n=n.caller;return e},_filterClick:function(t,e){var n=t.timeStamp||t.originalEvent.timeStamp,i=o.DomEvent._lastClick&&n-o.DomEvent._lastClick;return i&&i>100&&1e3>i||t.target._simulatedClick&&!t._simulated?void o.DomEvent.stop(t):(o.DomEvent._lastClick=n,e(t))}},o.DomEvent.on=o.DomEvent.addListener,o.DomEvent.off=o.DomEvent.removeListener,o.Draggable=o.Class.extend({includes:o.Mixin.Events,statics:{START:o.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e){this._element=t,this._dragStartTarget=e||t},enable:function(){if(!this._enabled){for(var t=o.Draggable.START.length-1;t>=0;t--)o.DomEvent.on(this._dragStartTarget,o.Draggable.START[t],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var t=o.Draggable.START.length-1;t>=0;t--)o.DomEvent.off(this._dragStartTarget,o.Draggable.START[t],this._onDown,this);this._enabled=!1,this._moved=!1}},_onDown:function(t){if(!t.shiftKey&&(1===t.which||1===t.button||t.touches)&&(o.DomEvent.stopPropagation(t),!o.Draggable._disabled)){o.DomUtil.disableImageDrag(),o.DomUtil.disableTextSelection();var n=t.touches?t.touches[0]:t,i=n.target;o.Browser.touch&&"a"===i.tagName.toLowerCase()&&o.DomUtil.addClass(i,"leaflet-active"),this._moved=!1,this._moving||(this._startPoint=new o.Point(n.clientX,n.clientY),this._startPos=this._newPos=o.DomUtil.getPosition(this._element),o.DomEvent.on(e,o.Draggable.MOVE[t.type],this._onMove,this).on(e,o.Draggable.END[t.type],this._onUp,this))}},_onMove:function(t){if(!(t.touches&&t.touches.length>1)){var n=t.touches&&1===t.touches.length?t.touches[0]:t,i=new o.Point(n.clientX,n.clientY),r=i.subtract(this._startPoint);(r.x||r.y)&&(o.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=o.DomUtil.getPosition(this._element).subtract(r),o.Browser.touch||o.DomUtil.addClass(e.body,"leaflet-dragging")),this._newPos=this._startPos.add(r),this._moving=!0,o.Util.cancelAnimFrame(this._animRequest),this._animRequest=o.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget))}},_updatePosition:function(){this.fire("predrag"),o.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(){o.Browser.touch||o.DomUtil.removeClass(e.body,"leaflet-dragging");for(var t in o.Draggable.MOVE)o.DomEvent.off(e,o.Draggable.MOVE[t],this._onMove).off(e,o.Draggable.END[t],this._onUp);o.DomUtil.enableImageDrag(),o.DomUtil.enableTextSelection(),this._moved&&(o.Util.cancelAnimFrame(this._animRequest),this.fire("dragend")),this._moving=!1}}),o.Handler=o.Class.extend({initialize:function(t){this._map=t},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),o.Map.mergeOptions({dragging:!0,inertia:!o.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:o.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1}),o.Map.Drag=o.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new o.Draggable(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),t.on("viewreset",this._onViewReset,this),this._onViewReset())}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var t=this._map;t._panAnim&&t._panAnim.stop(),t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var t=this._lastTime=+new Date,e=this._lastPos=this._draggable._newPos;this._positions.push(e),this._times.push(t),t-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var t=this._map.getSize()._divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,o=(i-e+n)%t+e-n,r=(i+e+n)%t-e-n,s=Math.abs(o+n)<Math.abs(r+n)?o:r;this._draggable._newPos.x=s},_onDragEnd:function(){var t=this._map,e=t.options,n=+new Date-this._lastTime,i=!e.inertia||n>e.inertiaThreshold||!this._positions[0];if(t.fire("dragend"),i)t.fire("moveend");else{var r=this._lastPos.subtract(this._positions[0]),s=(this._lastTime+n-this._times[0])/1e3,a=e.easeLinearity,u=r.multiplyBy(a/s),l=u.distanceTo([0,0]),c=Math.min(e.inertiaMaxSpeed,l),h=u.multiplyBy(c/l),f=c/(e.inertiaDeceleration*a),d=h.multiplyBy(-f/2).round();d.x&&d.y?o.Util.requestAnimFrame(function(){t.panBy(d,{duration:f,easeLinearity:a,noMoveStart:!0})}):t.fire("moveend")}}}),o.Map.addInitHook("addHandler","dragging",o.Map.Drag),o.Map.mergeOptions({doubleClickZoom:!0}),o.Map.DoubleClickZoom=o.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick)},_onDoubleClick:function(t){this.setZoomAround(t.containerPoint,this._zoom+1)}}),o.Map.addInitHook("addHandler","doubleClickZoom",o.Map.DoubleClickZoom),o.Map.mergeOptions({scrollWheelZoom:!0}),o.Map.ScrollWheelZoom=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),o.DomEvent.on(this._map._container,"MozMousePixelScroll",o.DomEvent.preventDefault),this._delta=0},removeHooks:function(){o.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),o.DomEvent.off(this._map._container,"MozMousePixelScroll",o.DomEvent.preventDefault)},_onWheelScroll:function(t){var e=o.DomEvent.getWheelDelta(t);this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var n=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o.bind(this._performZoom,this),n),o.DomEvent.preventDefault(t),o.DomEvent.stopPropagation(t)},_performZoom:function(){var t=this._map,e=this._delta,n=t.getZoom();e=e>0?Math.ceil(e):Math.floor(e),e=Math.max(Math.min(e,4),-4),e=t._limitZoom(n+e)-n,this._delta=0,this._startTime=null,e&&t.setZoomAround(this._lastMousePos,n+e)}}),o.Map.addInitHook("addHandler","scrollWheelZoom",o.Map.ScrollWheelZoom),o.extend(o.DomEvent,{_touchstart:o.Browser.msTouch?"MSPointerDown":"touchstart",_touchend:o.Browser.msTouch?"MSPointerUp":"touchend",addDoubleTapListener:function(t,n,i){function r(t){var e;if(o.Browser.msTouch?(p.push(t.pointerId),e=p.length):e=t.touches.length,!(e>1)){var n=Date.now(),i=n-(a||n);u=t.touches?t.touches[0]:t,l=i>0&&c>=i,a=n}}function s(t){if(o.Browser.msTouch){var e=p.indexOf(t.pointerId);if(-1===e)return;p.splice(e,1)}if(l){if(o.Browser.msTouch){var i,r={};for(var s in u)i=u[s],r[s]="function"==typeof i?i.bind(u):i;u=r}u.type="dblclick",n(u),a=null}}var a,u,l=!1,c=250,h="_leaflet_",f=this._touchstart,d=this._touchend,p=[];t[h+f+i]=r,t[h+d+i]=s;var m=o.Browser.msTouch?e.documentElement:t;return t.addEventListener(f,r,!1),m.addEventListener(d,s,!1),o.Browser.msTouch&&m.addEventListener("MSPointerCancel",s,!1),this},removeDoubleTapListener:function(t,n){var i="_leaflet_";return t.removeEventListener(this._touchstart,t[i+this._touchstart+n],!1),(o.Browser.msTouch?e.documentElement:t).removeEventListener(this._touchend,t[i+this._touchend+n],!1),o.Browser.msTouch&&e.documentElement.removeEventListener("MSPointerCancel",t[i+this._touchend+n],!1),this}}),o.extend(o.DomEvent,{_msTouches:[],_msDocumentListener:!1,addMsTouchListener:function(t,e,n,i){switch(e){case"touchstart":return this.addMsTouchListenerStart(t,e,n,i);case"touchend":return this.addMsTouchListenerEnd(t,e,n,i);case"touchmove":return this.addMsTouchListenerMove(t,e,n,i);default:throw"Unknown touch event type"}},addMsTouchListenerStart:function(t,n,i,o){var r="_leaflet_",s=this._msTouches,a=function(t){for(var e=!1,n=0;n<s.length;n++)if(s[n].pointerId===t.pointerId){e=!0;break}e||s.push(t),t.touches=s.slice(),t.changedTouches=[t],i(t)};if(t[r+"touchstart"+o]=a,t.addEventListener("MSPointerDown",a,!1),!this._msDocumentListener){var u=function(t){for(var e=0;e<s.length;e++)if(s[e].pointerId===t.pointerId){s.splice(e,1);break}};e.documentElement.addEventListener("MSPointerUp",u,!1),e.documentElement.addEventListener("MSPointerCancel",u,!1),this._msDocumentListener=!0}return this},addMsTouchListenerMove:function(t,e,n,i){function o(t){if(t.pointerType!==t.MSPOINTER_TYPE_MOUSE||0!==t.buttons){for(var e=0;e<s.length;e++)if(s[e].pointerId===t.pointerId){s[e]=t;break}t.touches=s.slice(),t.changedTouches=[t],n(t)}}var r="_leaflet_",s=this._msTouches;return t[r+"touchmove"+i]=o,t.addEventListener("MSPointerMove",o,!1),this},addMsTouchListenerEnd:function(t,e,n,i){var o="_leaflet_",r=this._msTouches,s=function(t){for(var e=0;e<r.length;e++)if(r[e].pointerId===t.pointerId){r.splice(e,1);break}t.touches=r.slice(),t.changedTouches=[t],n(t)};return t[o+"touchend"+i]=s,t.addEventListener("MSPointerUp",s,!1),t.addEventListener("MSPointerCancel",s,!1),this},removeMsTouchListener:function(t,e,n){var i="_leaflet_",o=t[i+e+n];switch(e){case"touchstart":t.removeEventListener("MSPointerDown",o,!1);break;case"touchmove":t.removeEventListener("MSPointerMove",o,!1);break;case"touchend":t.removeEventListener("MSPointerUp",o,!1),t.removeEventListener("MSPointerCancel",o,!1)}return this}}),o.Map.mergeOptions({touchZoom:o.Browser.touch&&!o.Browser.android23}),o.Map.TouchZoom=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){o.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var n=this._map;if(t.touches&&2===t.touches.length&&!n._animatingZoom&&!this._zooming){var i=n.mouseEventToLayerPoint(t.touches[0]),r=n.mouseEventToLayerPoint(t.touches[1]),s=n._getCenterLayerPoint();this._startCenter=i.add(r)._divideBy(2),this._startDist=i.distanceTo(r),this._moved=!1,this._zooming=!0,this._centerOffset=s.subtract(this._startCenter),n._panAnim&&n._panAnim.stop(),o.DomEvent.on(e,"touchmove",this._onTouchMove,this).on(e,"touchend",this._onTouchEnd,this),o.DomEvent.preventDefault(t)}},_onTouchMove:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&this._zooming){var n=e.mouseEventToLayerPoint(t.touches[0]),i=e.mouseEventToLayerPoint(t.touches[1]);this._scale=n.distanceTo(i)/this._startDist,this._delta=n._add(i)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(this._moved||(o.DomUtil.addClass(e._mapPane,"leaflet-touching"),e.fire("movestart").fire("zoomstart"),this._moved=!0),o.Util.cancelAnimFrame(this._animRequest),this._animRequest=o.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),o.DomEvent.preventDefault(t))}},_updateOnMove:function(){var t=this._map,e=this._getScaleOrigin(),n=t.layerPointToLatLng(e),i=t.getScaleZoom(this._scale);t._animateZoom(n,i,this._startCenter,this._scale,this._delta)},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);var t=this._map;this._zooming=!1,o.DomUtil.removeClass(t._mapPane,"leaflet-touching"),o.Util.cancelAnimFrame(this._animRequest),o.DomEvent.off(e,"touchmove",this._onTouchMove).off(e,"touchend",this._onTouchEnd);var n=this._getScaleOrigin(),i=t.layerPointToLatLng(n),r=t.getZoom(),s=t.getScaleZoom(this._scale)-r,a=s>0?Math.ceil(s):Math.floor(s),u=t._limitZoom(r+a),l=t.getZoomScale(u)/this._scale;t._animateZoom(i,u,n,l)},_getScaleOrigin:function(){var t=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(t)}}),o.Map.addInitHook("addHandler","touchZoom",o.Map.TouchZoom),o.Map.mergeOptions({tap:!0,tapTolerance:15}),o.Map.Tap=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){o.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(o.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var n=t.touches[0],i=n.target;this._startPos=this._newPos=new o.Point(n.clientX,n.clientY),"a"===i.tagName.toLowerCase()&&o.DomUtil.addClass(i,"leaflet-active"),this._holdTimeout=setTimeout(o.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",n))},this),1e3),o.DomEvent.on(e,"touchmove",this._onMove,this).on(e,"touchend",this._onUp,this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),o.DomEvent.off(e,"touchmove",this._onMove,this).off(e,"touchend",this._onUp,this),this._fireClick&&t&&t.changedTouches){var n=t.changedTouches[0],i=n.target;"a"===i.tagName.toLowerCase()&&o.DomUtil.removeClass(i,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",n)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new o.Point(e.clientX,e.clientY)},_simulateEvent:function(n,i){var o=e.createEvent("MouseEvents");o._simulated=!0,i.target._simulatedClick=!0,o.initMouseEvent(n,!0,!0,t,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(o)}}),o.Browser.touch&&!o.Browser.msTouch&&o.Map.addInitHook("addHandler","tap",o.Map.Tap),o.Map.mergeOptions({boxZoom:!0}),o.Map.BoxZoom=o.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){o.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){o.DomEvent.off(this._container,"mousedown",this._onMouseDown)},_onMouseDown:function(t){return!t.shiftKey||1!==t.which&&1!==t.button?!1:(o.DomUtil.disableTextSelection(),o.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(t),this._box=o.DomUtil.create("div","leaflet-zoom-box",this._pane),o.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",o.DomEvent.on(e,"mousemove",this._onMouseMove,this).on(e,"mouseup",this._onMouseUp,this).on(e,"keydown",this._onKeyDown,this),void this._map.fire("boxzoomstart"))},_onMouseMove:function(t){var e=this._startLayerPoint,n=this._box,i=this._map.mouseEventToLayerPoint(t),r=i.subtract(e),s=new o.Point(Math.min(i.x,e.x),Math.min(i.y,e.y));o.DomUtil.setPosition(n,s),n.style.width=Math.max(0,Math.abs(r.x)-4)+"px",n.style.height=Math.max(0,Math.abs(r.y)-4)+"px"},_finish:function(){this._pane.removeChild(this._box),this._container.style.cursor="",o.DomUtil.enableTextSelection(),o.DomUtil.enableImageDrag(),o.DomEvent.off(e,"mousemove",this._onMouseMove).off(e,"mouseup",this._onMouseUp).off(e,"keydown",this._onKeyDown)},_onMouseUp:function(t){this._finish();var e=this._map,n=e.mouseEventToLayerPoint(t);if(!this._startLayerPoint.equals(n)){var i=new o.LatLngBounds(e.layerPointToLatLng(this._startLayerPoint),e.layerPointToLatLng(n));e.fitBounds(i),e.fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),o.Map.addInitHook("addHandler","boxZoom",o.Map.BoxZoom),o.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),o.Map.Keyboard=o.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61],zoomOut:[189,109,173]},initialize:function(t){this._map=t,this._setPanOffset(t.options.keyboardPanOffset),this._setZoomOffset(t.options.keyboardZoomOffset)},addHooks:function(){var t=this._map._container;-1===t.tabIndex&&(t.tabIndex="0"),o.DomEvent.on(t,"focus",this._onFocus,this).on(t,"blur",this._onBlur,this).on(t,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)
},removeHooks:function(){this._removeHooks();var t=this._map._container;o.DomEvent.off(t,"focus",this._onFocus,this).off(t,"blur",this._onBlur,this).off(t,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var n=e.body,i=e.documentElement,o=n.scrollTop||i.scrollTop,r=n.scrollLeft||i.scrollLeft;this._map._container.focus(),t.scrollTo(r,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(t){var e,n,i=this._panKeys={},o=this.keyCodes;for(e=0,n=o.left.length;n>e;e++)i[o.left[e]]=[-1*t,0];for(e=0,n=o.right.length;n>e;e++)i[o.right[e]]=[t,0];for(e=0,n=o.down.length;n>e;e++)i[o.down[e]]=[0,t];for(e=0,n=o.up.length;n>e;e++)i[o.up[e]]=[0,-1*t]},_setZoomOffset:function(t){var e,n,i=this._zoomKeys={},o=this.keyCodes;for(e=0,n=o.zoomIn.length;n>e;e++)i[o.zoomIn[e]]=t;for(e=0,n=o.zoomOut.length;n>e;e++)i[o.zoomOut[e]]=-t},_addHooks:function(){o.DomEvent.on(e,"keydown",this._onKeyDown,this)},_removeHooks:function(){o.DomEvent.off(e,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){var e=t.keyCode,n=this._map;if(e in this._panKeys){if(n._panAnim&&n._panAnim._inProgress)return;n.panBy(this._panKeys[e]),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds)}else{if(!(e in this._zoomKeys))return;n.setZoom(n.getZoom()+this._zoomKeys[e])}o.DomEvent.stop(t)}}),o.Map.addInitHook("addHandler","keyboard",o.Map.Keyboard),o.Handler.MarkerDrag=o.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new o.Draggable(t,t)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable()},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var t=this._marker,e=t._shadow,n=o.DomUtil.getPosition(t._icon),i=t._map.layerPointToLatLng(n);e&&o.DomUtil.setPosition(e,n),t._latlng=i,t.fire("move",{latlng:i}).fire("drag")},_onDragEnd:function(){this._marker.fire("moveend").fire("dragend")}}),o.Control=o.Class.extend({options:{position:"topright"},initialize:function(t){o.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return o.DomUtil.addClass(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this},removeFrom:function(t){var e=this.getPosition(),n=t._controlCorners[e];return n.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(t),this}}),o.control=function(t){return new o.Control(t)},o.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.removeFrom(this),this},_initControlPos:function(){function t(t,r){var s=n+t+" "+n+r;e[t+r]=o.DomUtil.create("div",s,i)}var e=this._controlCorners={},n="leaflet-",i=this._controlContainer=o.DomUtil.create("div",n+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),o.Control.Zoom=o.Control.extend({options:{position:"topleft"},onAdd:function(t){var e="leaflet-control-zoom",n=o.DomUtil.create("div",e+" leaflet-bar");return this._map=t,this._zoomInButton=this._createButton("+","Zoom in",e+"-in",n,this._zoomIn,this),this._zoomOutButton=this._createButton("-","Zoom out",e+"-out",n,this._zoomOut,this),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(t){this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._map.zoomOut(t.shiftKey?3:1)},_createButton:function(t,e,n,i,r,s){var a=o.DomUtil.create("a",n,i);a.innerHTML=t,a.href="#",a.title=e;var u=o.DomEvent.stopPropagation;return o.DomEvent.on(a,"click",u).on(a,"mousedown",u).on(a,"dblclick",u).on(a,"click",o.DomEvent.preventDefault).on(a,"click",r,s),a},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";o.DomUtil.removeClass(this._zoomInButton,e),o.DomUtil.removeClass(this._zoomOutButton,e),t._zoom===t.getMinZoom()&&o.DomUtil.addClass(this._zoomOutButton,e),t._zoom===t.getMaxZoom()&&o.DomUtil.addClass(this._zoomInButton,e)}}),o.Map.mergeOptions({zoomControl:!0}),o.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new o.Control.Zoom,this.addControl(this.zoomControl))}),o.control.zoom=function(t){return new o.Control.Zoom(t)},o.Control.Attribution=o.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){o.setOptions(this,t),this._attributions={}},onAdd:function(t){return this._container=o.DomUtil.create("div","leaflet-control-attribution"),o.DomEvent.disableClickPropagation(this._container),t.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(t){t.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):void 0},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):void 0},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}},_onLayerAdd:function(t){t.layer.getAttribution&&this.addAttribution(t.layer.getAttribution())},_onLayerRemove:function(t){t.layer.getAttribution&&this.removeAttribution(t.layer.getAttribution())}}),o.Map.mergeOptions({attributionControl:!0}),o.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new o.Control.Attribution).addTo(this))}),o.control.attribution=function(t){return new o.Control.Attribution(t)},o.Control.Scale=o.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(t){this._map=t;var e="leaflet-control-scale",n=o.DomUtil.create("div",e),i=this.options;return this._addScales(i,e,n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=o.DomUtil.create("div",e+"-line",n)),t.imperial&&(this._iScale=o.DomUtil.create("div",e+"-line",n))},_update:function(){var t=this._map.getBounds(),e=t.getCenter().lat,n=6378137*Math.PI*Math.cos(e*Math.PI/180),i=n*(t.getNorthEast().lng-t.getSouthWest().lng)/180,o=this._map.getSize(),r=this.options,s=0;o.x>0&&(s=i*(r.maxWidth/o.x)),this._updateScales(r,s)},_updateScales:function(t,e){t.metric&&e&&this._updateMetric(e),t.imperial&&e&&this._updateImperial(e)},_updateMetric:function(t){var e=this._getRoundNum(t);this._mScale.style.width=this._getScaleWidth(e/t)+"px",this._mScale.innerHTML=1e3>e?e+" m":e/1e3+" km"},_updateImperial:function(t){var e,n,i,o=3.2808399*t,r=this._iScale;o>5280?(e=o/5280,n=this._getRoundNum(e),r.style.width=this._getScaleWidth(n/e)+"px",r.innerHTML=n+" mi"):(i=this._getRoundNum(o),r.style.width=this._getScaleWidth(i/o)+"px",r.innerHTML=i+" ft")},_getScaleWidth:function(t){return Math.round(this.options.maxWidth*t)-10},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),o.control.scale=function(t){return new o.Control.Scale(t)},o.Control.Layers=o.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(t,e,n){o.setOptions(this,n),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var i in t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){return this._initLayout(),this._update(),t.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(t){t.off("layeradd",this._onLayerChange).off("layerremove",this._onLayerChange)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._update(),this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._update(),this},removeLayer:function(t){var e=o.stamp(t);return delete this._layers[e],this._update(),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=o.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),o.Browser.touch?o.DomEvent.on(e,"click",o.DomEvent.stopPropagation):(o.DomEvent.disableClickPropagation(e),o.DomEvent.on(e,"mousewheel",o.DomEvent.stopPropagation));var n=this._form=o.DomUtil.create("form",t+"-list");if(this.options.collapsed){o.Browser.android||o.DomEvent.on(e,"mouseover",this._expand,this).on(e,"mouseout",this._collapse,this);var i=this._layersLink=o.DomUtil.create("a",t+"-toggle",e);i.href="#",i.title="Layers",o.Browser.touch?o.DomEvent.on(i,"click",o.DomEvent.stop).on(i,"click",this._expand,this):o.DomEvent.on(i,"focus",this._expand,this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=o.DomUtil.create("div",t+"-base",n),this._separator=o.DomUtil.create("div",t+"-separator",n),this._overlaysList=o.DomUtil.create("div",t+"-overlays",n),e.appendChild(n)},_addLayer:function(t,e,n){var i=o.stamp(t);this._layers[i]={layer:t,name:e,overlay:n},this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var t,e,n=!1,i=!1;for(t in this._layers)e=this._layers[t],this._addItem(e),i=i||e.overlay,n=n||!e.overlay;this._separator.style.display=i&&n?"":"none"}},_onLayerChange:function(t){var e=this._layers[o.stamp(t.layer)];if(e){this._handlingClick||this._update();var n=e.overlay?"layeradd"===t.type?"overlayadd":"overlayremove":"layeradd"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)}},_createRadioElement:function(t,n){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"';n&&(i+=' checked="checked"'),i+="/>";var o=e.createElement("div");return o.innerHTML=i,o.firstChild},_addItem:function(t){var n,i=e.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?(n=e.createElement("input"),n.type="checkbox",n.className="leaflet-control-layers-selector",n.defaultChecked=r):n=this._createRadioElement("leaflet-base-layers",r),n.layerId=o.stamp(t.layer),o.DomEvent.on(n,"click",this._onInputClick,this);var s=e.createElement("span");s.innerHTML=" "+t.name,i.appendChild(n),i.appendChild(s);var a=t.overlay?this._overlaysList:this._baseLayersList;return a.appendChild(i),i},_onInputClick:function(){var t,e,n,i=this._form.getElementsByTagName("input"),o=i.length;for(this._handlingClick=!0,t=0;o>t;t++)e=i[t],n=this._layers[e.layerId],e.checked&&!this._map.hasLayer(n.layer)?this._map.addLayer(n.layer):!e.checked&&this._map.hasLayer(n.layer)&&this._map.removeLayer(n.layer);this._handlingClick=!1},_expand:function(){o.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),o.control.layers=function(t,e,n){return new o.Control.Layers(t,e,n)},o.PosAnimation=o.Class.extend({includes:o.Mixin.Events,run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._newPos=e,this.fire("start"),t.style[o.DomUtil.TRANSITION]="all "+(n||.25)+"s cubic-bezier(0,0,"+(i||.5)+",1)",o.DomEvent.on(t,o.DomUtil.TRANSITION_END,this._onTransitionEnd,this),o.DomUtil.setPosition(t,e),o.Util.falseFn(t.offsetWidth),this._stepTimer=setInterval(o.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(o.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),o.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var t=this._getPos();return t?(this._el._leaflet_pos=t,void this.fire("step")):void this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var e,n,i,r=this._el,s=t.getComputedStyle(r);if(o.Browser.any3d){if(i=s[o.DomUtil.TRANSFORM].match(this._transformRe),!i)return;e=parseFloat(i[1]),n=parseFloat(i[2])}else e=parseFloat(s.left),n=parseFloat(s.top);return new o.Point(e,n,!0)},_onTransitionEnd:function(){o.DomEvent.off(this._el,o.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[o.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),o.Map.include({setView:function(t,e,i){if(e=this._limitZoom(e),t=o.latLng(t),i=i||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!i.reset&&i!==!0){i.animate!==n&&(i.zoom=o.extend({animate:i.animate},i.zoom),i.pan=o.extend({animate:i.animate},i.pan));var r=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan);if(r)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e){if(t=o.point(t).round(),e=e||{},!t.x&&!t.y)return this;if(this._panAnim||(this._panAnim=new o.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){o.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t);this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){o.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._floor();return(e&&e.animate)===!0||this.getSize().contains(n)?(this.panBy(n,e),!0):!1}}),o.PosAnimation=o.DomUtil.TRANSITION?o.PosAnimation:o.PosAnimation.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=o.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=o.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var t=+new Date-this._startTime,e=1e3*this._duration;e>t?this._runFrame(this._easeOut(t/e)):(this._runFrame(1),this._complete())},_runFrame:function(t){var e=this._startPos.add(this._offset.multiplyBy(t));o.DomUtil.setPosition(this._el,e),this.fire("step")},_complete:function(){o.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),o.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),o.DomUtil.TRANSITION&&o.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&o.DomUtil.TRANSITION&&o.Browser.any3d&&!o.Browser.android23&&!o.Browser.mobileOpera,this._zoomAnimated&&o.DomEvent.on(this._mapPane,o.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),o.Map.include(o.DomUtil.TRANSITION?{_catchTransitionEnd:function(){this._animatingZoom&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/i),r=this._getCenterLayerPoint()._add(o);return n.animate===!0||this.getSize().contains(o)?(this.fire("movestart").fire("zoomstart"),this._animateZoom(t,e,r,i,null,!0),!0):!1},_animateZoom:function(t,e,n,i,r,s){this._animatingZoom=!0,o.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=t,this._animateToZoom=e,o.Draggable&&(o.Draggable._disabled=!0),this.fire("zoomanim",{center:t,zoom:e,origin:n,scale:i,delta:r,backwards:s})},_onZoomTransitionEnd:function(){this._animatingZoom=!1,o.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),o.Draggable&&(o.Draggable._disabled=!1)}}:{}),o.TileLayer.include({_animateZoom:function(t){this._animating||(this._animating=!0,this._prepareBgBuffer());var e=this._bgBuffer,n=o.DomUtil.TRANSFORM,i=t.delta?o.DomUtil.getTranslateString(t.delta):e.style[n],r=o.DomUtil.getScaleString(t.scale,t.origin);e.style[n]=t.backwards?r+" "+i:i+" "+r},_endZoomAnim:function(){var t=this._tileContainer,e=this._bgBuffer;t.style.visibility="",t.parentNode.appendChild(t),o.Util.falseFn(e.offsetWidth),this._animating=!1},_clearBgBuffer:function(){var t=this._map;!t||t._animatingZoom||t.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[o.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var t=this._tileContainer,e=this._bgBuffer,n=this._getLoadedTilesPercentage(e),i=this._getLoadedTilesPercentage(t);return e&&n>.5&&.5>i?(t.style.visibility="hidden",void this._stopLoadingImages(t)):(e.style.visibility="hidden",e.style[o.DomUtil.TRANSFORM]="",this._tileContainer=e,e=this._bgBuffer=t,this._stopLoadingImages(e),void clearTimeout(this._clearBgBufferTimer))},_getLoadedTilesPercentage:function(t){var e,n,i=t.getElementsByTagName("img"),o=0;for(e=0,n=i.length;n>e;e++)i[e].complete&&o++;return o/n},_stopLoadingImages:function(t){var e,n,i,r=Array.prototype.slice.call(t.getElementsByTagName("img"));for(e=0,n=r.length;n>e;e++)i=r[e],i.complete||(i.onload=o.Util.falseFn,i.onerror=o.Util.falseFn,i.src=o.Util.emptyImageUrl,i.parentNode.removeChild(i))}}),o.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(t){if(t=this._locateOptions=o.extend(this._defaultLocateOptions,t),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=o.bind(this._handleGeolocationResponse,this),n=o.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new o.LatLng(e,n),r=180*t.coords.accuracy/40075017,s=r/Math.cos(o.LatLng.DEG_TO_RAD*e),a=o.latLngBounds([e-r,n-s],[e+r,n+s]),u=this._locateOptions;if(u.setView){var l=Math.min(this.getBoundsZoom(a),u.maxZoom);this.setView(i,l)}var c={latlng:i,bounds:a};for(var h in t.coords)"number"==typeof t.coords[h]&&(c[h]=t.coords[h]);this.fire("locationfound",c)}})}(window,document),function(t,e){"use strict";L.AwesomeMarkers={},L.AwesomeMarkers.version="2.0.1",L.AwesomeMarkers.Icon=L.Icon.extend({options:{iconSize:[35,45],iconAnchor:[17,42],popupAnchor:[1,-32],shadowAnchor:[10,12],shadowSize:[36,16],className:"awesome-marker",prefix:"glyphicon",spinClass:"fa-spin",icon:"home",markerColor:"blue",iconColor:"white"},initialize:function(t){t=L.Util.setOptions(this,t)},createIcon:function(){var t=e.createElement("div"),n=this.options;return n.icon&&(t.innerHTML=this._createInner()),n.bgPos&&(t.style.backgroundPosition=-n.bgPos.x+"px "+-n.bgPos.y+"px"),this._setIconStyles(t,"icon-"+n.markerColor),t},_createInner:function(){var t,e="",n="",i="",o=this.options;return t=o.icon.slice(0,o.prefix.length+1)===o.prefix+"-"?o.icon:o.prefix+"-"+o.icon,o.spin&&"string"==typeof o.spinClass&&(e=o.spinClass),o.iconColor&&("white"===o.iconColor||"black"===o.iconColor?n="icon-"+o.iconColor:i="style='color: "+o.iconColor+"' "),"<i "+i+"class='"+o.prefix+" "+t+" "+e+" "+n+"'></i>"},_setIconStyles:function(t,e){var n,i=this.options,o=L.point(i["shadow"===e?"shadowSize":"iconSize"]);n=L.point("shadow"===e?i.shadowAnchor||i.iconAnchor:i.iconAnchor),!n&&o&&(n=o.divideBy(2,!0)),t.className="awesome-marker-"+e+" "+i.className,n&&(t.style.marginLeft=-n.x+"px",t.style.marginTop=-n.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},createShadow:function(){var t=e.createElement("div");return this._setIconStyles(t,"shadow"),t}}),L.AwesomeMarkers.icon=function(t){return new L.AwesomeMarkers.Icon(t)}}(this,document);var bb={success:0,error:0,blackberryTimeoutId:-1},geoPosition=function(){var t={},e=null,n="undefined",i="http://freegeoip.net/json/?callback=JSONPCallback";return t.getCurrentPosition=function(t,n,i){e.getCurrentPosition(t,n,i)},t.jsonp={callbackCounter:0,fetch:function(t,e){var n="JSONPCallback_"+this.callbackCounter++;window[n]=this.evalJSONP(e),t=t.replace("=JSONPCallback","="+n);var i=document.createElement("SCRIPT");i.src=t,document.getElementsByTagName("HEAD")[0].appendChild(i)},evalJSONP:function(t){return function(e){t(e)}}},t.confirmation=function(){return confirm("This Webpage wants to track your physical location.\nDo you allow it?")},t.init=function(){try{var o=typeof navigator.geolocation!=n;if(!o&&!t.confirmation())return!1;if(typeof geoPositionSimulator!=n&&geoPositionSimulator.length>0)e=geoPositionSimulator;else if(typeof bondi!=n&&typeof bondi.geolocation!=n)e=bondi.geolocation;else if(o)e=navigator.geolocation,t.getCurrentPosition=function(t,i,o){function r(e){var i;i=typeof e.latitude!=n?{timestamp:e.timestamp,coords:{latitude:e.latitude,longitude:e.longitude}}:e,t(i)}e.getCurrentPosition(r,i,o)};else if(typeof window.blackberry!=n&&blackberry.location.GPSSupported){if(typeof blackberry.location.setAidMode==n)return!1;blackberry.location.setAidMode(2),t.getCurrentPosition=function(t,e,n){bb.success=t,bb.error=e,bb.blackberryTimeoutId=n.timeout?setTimeout("handleBlackBerryLocationTimeout()",n.timeout):setTimeout("handleBlackBerryLocationTimeout()",6e4),blackberry.location.onLocationUpdate("handleBlackBerryLocation()"),blackberry.location.refreshLocation()},e=blackberry.location}else typeof Mojo!=n&&"Mojo.Service.Request"!=typeof Mojo.Service.Request?(e=!0,t.getCurrentPosition=function(t,e,n){parameters={},n&&(n.enableHighAccuracy&&1==n.enableHighAccuracy&&(parameters.accuracy=1),n.maximumAge&&(parameters.maximumAge=n.maximumAge),n.responseTime&&(n.responseTime<5?parameters.responseTime=1:n.responseTime<20?parameters.responseTime=2:parameters.timeout=3)),r=new Mojo.Service.Request("palm://com.palm.location",{method:"getCurrentPosition",parameters:parameters,onSuccess:function(e){t({timestamp:e.timestamp,coords:{latitude:e.latitude,longitude:e.longitude,heading:e.heading}})},onFailure:function(t){e(1==t.errorCode?{code:3,message:"Timeout"}:2==t.errorCode?{code:2,message:"Position unavailable"}:{code:0,message:"Unknown Error: webOS-code"+errorCode})}})}):typeof device!=n&&typeof device.getServiceObject!=n?(e=device.getServiceObject("Service.Location","ILocation"),t.getCurrentPosition=function(t,n){function i(e,i,o){4==i?n({message:"Position unavailable",code:2}):t({timestamp:null,coords:{latitude:o.ReturnValue.Latitude,longitude:o.ReturnValue.Longitude,altitude:o.ReturnValue.Altitude,heading:o.ReturnValue.Heading}})}var o=new Object;o.LocationInformationClass="BasicLocationInformation",e.ILocation.GetLocation(o,i)}):(t.getCurrentPosition=function(e){t.jsonp.fetch(i,function(t){e({timestamp:t.timestamp,coords:{latitude:t.latitude,longitude:t.longitude,heading:t.heading}})})},e=!0)}catch(s){return typeof console!=n&&console.log(s),!1}return null!=e},t}(),heatcanvasWorker=new Blob(Array.prototype.map.call(document.querySelectorAll('script[type="text/js-worker"]'),function(t){return t.textContent}),{type:"text/javascript"}),HeatCanvas=function(t){return this.canvas="string"==typeof t?document.getElementById(t):t,null==this.canvas?null:(this.worker=new Worker(window.URL.createObjectURL(heatcanvasWorker)),this.width=this.canvas.width,this.height=this.canvas.height,this.onRenderingStart=null,this.onRenderingEnd=null,void(this.data={}))};HeatCanvas.prototype.resize=function(t,e){this.width=this.canvas.width=t,this.height=this.canvas.height=e,this.canvas.style.width=t+"px",this.canvas.style.height=e+"px"},HeatCanvas.prototype.push=function(t,e,n){if(!(0>t||t>this.width||0>e||e>this.height)){var i=t+e*this.width;this.data[i]=this.data[i]?this.data[i]+n:n}},HeatCanvas.prototype.render=function(t,e,n){t=t||1,e=e||HeatCanvas.LINEAR;var i=this;this.worker.onmessage=function(t){i.value=t.data.value,i.data={},i._render(n),i.onRenderingEnd&&i.onRenderingEnd()};var o={data:i.data,width:i.width,height:i.height,step:t,degree:e,value:i.value};this.worker.postMessage(o),this.onRenderingStart&&this.onRenderingStart()},HeatCanvas.prototype._render=function(t){t=t||HeatCanvas.defaultValue2Color;var e=this.canvas.getContext("2d");e.clearRect(0,0,this.width,this.height),defaultColor=this.bgcolor||[0,0,0,255];for(var n=e.createImageData(this.width,this.height),i=0;i<n.data.length;i+=4)n.data[i]=defaultColor[0],n.data[i+1]=defaultColor[1],n.data[i+2]=defaultColor[2],n.data[i+3]=defaultColor[3];var o=0;for(var r in this.value)o=Math.max(this.value[r],o);for(var s in this.value){var a=Math.floor(s%this.width),u=Math.floor(s/this.width),l=u*this.width*4+4*a,c=HeatCanvas.hsla2rgba.apply(null,t(this.value[s]/o));n.data[l]=c[0],n.data[l+1]=c[1],n.data[l+2]=c[2],n.data[l+3]=c[3]}e.putImageData(n,0,0)},HeatCanvas.prototype.clear=function(){this.data={},this.value={},this.canvas.getContext("2d").clearRect(0,0,this.width,this.height)},HeatCanvas.prototype.exportImage=function(){return this.canvas.toDataURL()},HeatCanvas.defaultValue2Color=function(t){var e=1-t,n=.6*t,i=.8,o=1;return[e,i,n,o]},HeatCanvas.hsla2rgba=function(t,e,n,i){function o(t,e,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?t+6*(e-t)*n:.5>n?e:2/3>n?t+(e-t)*(2/3-n)*6:t}var r,s,a;if(0==e)r=s=a=n;else{var u=.5>n?n*(1+e):n+e-n*e,l=2*n-u;r=o(l,u,t+1/3),s=o(l,u,t),a=o(l,u,t-1/3)}return[255*r,255*s,255*a,255*i]},HeatCanvas.LINEAR=1,HeatCanvas.QUAD=2,HeatCanvas.CUBIC=3,HeatCanvas.getPath=function(){for(var t=document.getElementsByTagName("script"),e=0;e<t.length;e++){var n=t[e].src,i=n.indexOf("heatcanvas.js");if(i>0)return n.substring(0,i)}return""},L.TileLayer.HeatCanvas=L.Class.extend({initialize:function(t,e){this.heatCanvasOptions=e,this.data=[],this._onRenderingStart=null,this._onRenderingEnd=null},onRenderingStart:function(t){this._onRenderingStart=t},onRenderingEnd:function(t){this._onRenderingEnd=t},onAdd:function(t){this.map=t,this._initHeatCanvas(this.map,this.heatCanvasOptions),t.on("viewreset",this._redraw,this),t.on("moveend",this._redraw,this),t.on("dragend",this._redraw,this),t.on("zoomend",this._redraw,this),this._redraw()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._div),t.off("viewreset",this._redraw,this),t.off("moveend",this._redraw,this),t.off("dragend",this._redraw,this),t.off("zoomend",this._redraw,this)},_initHeatCanvas:function(t,e){e=e||{},this._step=e.step||1,this._degree=e.degree||HeatCanvas.LINEAR,this._opacity=e.opacity||.6,this._colorscheme=e.colorscheme||null;var n=L.DomUtil.create("div","leaflet-heatmap-container");n.style.position="absolute",n.style.width=this.map.getSize().x+"px",n.style.height=this.map.getSize().y+"px";var i=document.createElement("canvas");i.style.width=this.map.getSize().x+"px",i.style.height=this.map.getSize().y+"px",i.width=parseInt(i.style.width),i.height=parseInt(i.style.height),i.style.opacity=this._opacity,n.appendChild(i),this.heatmap=new HeatCanvas(i),this.heatmap.onRenderingStart=this._onRenderingStart,this.heatmap.onRenderingEnd=this._onRenderingEnd,this._div=n,this.map.getPanes().overlayPane.appendChild(this._div)},pushData:function(t,e,n){this.data.push({lon:e,lat:t,v:n})},_resetCanvasPosition:function(){var t=this.map.getBounds(),e=this.map.latLngToLayerPoint(t.getNorthWest());L.DomUtil.setPosition(this._div,e)},_redraw:function(){if(this._resetCanvasPosition(),this.heatmap.clear(),this.data.length>0){for(var t=0,e=this.data.length;e>t;t++){var n=new L.LatLng(this.data[t].lat,this.data[t].lon),i=this.map.latLngToLayerPoint(n);i=this.map.layerPointToContainerPoint(i),this.heatmap.push(Math.floor(i.x),Math.floor(i.y),this.data[t].v)}this.heatmap.render(this._step,this._degree,this._colorscheme)}return this},clear:function(){this.heatmap.clear()},redraw:function(){this._redraw()}}),function(t){function e(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function n(t,e){return function(n){return c(t.call(this,n),e)}}function i(t,e){return function(n){return this.lang().ordinal(t.call(this,n),e)}}function o(){}function r(t){b(t),a(this,t)}function s(t){var e=g(t),n=e.year||0,i=e.month||0,o=e.week||0,r=e.day||0,s=e.hour||0,a=e.minute||0,u=e.second||0,l=e.millisecond||0;this._milliseconds=+l+1e3*u+6e4*a+36e5*s,this._days=+r+7*o,this._months=+i+12*n,this._data={},this._bubble()}function a(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return e.hasOwnProperty("toString")&&(t.toString=e.toString),e.hasOwnProperty("valueOf")&&(t.valueOf=e.valueOf),t}function u(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&ge.hasOwnProperty(e)&&(n[e]=t[e]);return n}function l(t){return 0>t?Math.ceil(t):Math.floor(t)}function c(t,e,n){for(var i=""+Math.abs(t),o=t>=0;i.length<e;)i="0"+i;return(o?n?"+":"":"-")+i}function h(t,e,n,i){var o,r,s=e._milliseconds,a=e._days,u=e._months;s&&t._d.setTime(+t._d+s*n),(a||u)&&(o=t.minute(),r=t.hour()),a&&t.date(t.date()+a*n),u&&t.month(t.month()+u*n),s&&!i&&ie.updateOffset(t),(a||u)&&(t.minute(o),t.hour(r))}function f(t){return"[object Array]"===Object.prototype.toString.call(t)}function d(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function p(t,e,n){var i,o=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0;for(i=0;o>i;i++)(n&&t[i]!==e[i]||!n&&_(t[i])!==_(e[i]))&&s++;return s+r}function m(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=We[t]||Ye[e]||e}return t}function g(t){var e,n,i={};for(n in t)t.hasOwnProperty(n)&&(e=m(n),e&&(i[e]=t[n]));return i}function v(e){var n,i;if(0===e.indexOf("week"))n=7,i="day";else{if(0!==e.indexOf("month"))return;n=12,i="month"}ie[e]=function(o,r){var s,a,u=ie.fn._lang[e],l=[];if("number"==typeof o&&(r=o,o=t),a=function(t){var e=ie().utc().set(i,t);return u.call(ie.fn._lang,e,o||"")},null!=r)return a(r);for(s=0;n>s;s++)l.push(a(s));return l}}function _(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function y(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function $(t){return w(t)?366:365}function w(t){return t%4===0&&t%100!==0||t%400===0}function b(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[le]<0||t._a[le]>11?le:t._a[ce]<1||t._a[ce]>y(t._a[ue],t._a[le])?ce:t._a[he]<0||t._a[he]>23?he:t._a[fe]<0||t._a[fe]>59?fe:t._a[de]<0||t._a[de]>59?de:t._a[pe]<0||t._a[pe]>999?pe:-1,t._pf._overflowDayOfYear&&(ue>e||e>ce)&&(e=ce),t._pf.overflow=e)
}function x(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length)),t._isValid}function P(t){return t?t.toLowerCase().replace("_","-"):t}function L(t,e){return e._isUTC?ie(t).zone(e._offset||0):ie(t).local()}function C(t,e){return e.abbr=t,me[t]||(me[t]=new o),me[t].set(e),me[t]}function S(t){delete me[t]}function M(t){var e,n,i,o,r=0,s=function(t){if(!me[t]&&ve)try{require("./lang/"+t)}catch(e){}return me[t]};if(!t)return ie.fn._lang;if(!f(t)){if(n=s(t))return n;t=[t]}for(;r<t.length;){for(o=P(t[r]).split("-"),e=o.length,i=P(t[r+1]),i=i?i.split("-"):null;e>0;){if(n=s(o.slice(0,e).join("-")))return n;if(i&&i.length>=e&&p(o,i,!0)>=e-1)break;e--}r++}return ie.fn._lang}function T(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function k(t){var e,n,i=t.match(we);for(e=0,n=i.length;n>e;e++)i[e]=Je[i[e]]?Je[i[e]]:T(i[e]);return function(o){var r="";for(e=0;n>e;e++)r+=i[e]instanceof Function?i[e].call(o,t):i[e];return r}}function D(t,e){return t.isValid()?(e=E(e,t.lang()),Ve[e]||(Ve[e]=k(e)),Ve[e](t)):t.lang().invalidDate()}function E(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(be.lastIndex=0;i>=0&&be.test(t);)t=t.replace(be,n),be.lastIndex=0,i-=1;return t}function A(t,e){var n,i=e._strict;switch(t){case"DDDD":return Oe;case"YYYY":case"GGGG":case"gggg":return i?Ie:Le;case"Y":case"G":case"g":return Ne;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?Ue:Ce;case"S":if(i)return Ee;case"SS":if(i)return Ae;case"SSS":if(i)return Oe;case"DDD":return Pe;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Me;case"a":case"A":return M(e._l)._meridiemParse;case"X":return De;case"Z":case"ZZ":return Te;case"T":return ke;case"SSSS":return Se;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?Ae:xe;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return xe;default:return n=new RegExp(j(z(t.replace("\\","")),"i"))}}function O(t){t=t||"";var e=t.match(Te)||[],n=e[e.length-1]||[],i=(n+"").match(Fe)||["-",0,0],o=+(60*i[1])+_(i[2]);return"+"===i[0]?-o:o}function I(t,e,n){var i,o=n._a;switch(t){case"M":case"MM":null!=e&&(o[le]=_(e)-1);break;case"MMM":case"MMMM":i=M(n._l).monthsParse(e),null!=i?o[le]=i:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(o[ce]=_(e));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=_(e));break;case"YY":o[ue]=_(e)+(_(e)>68?1900:2e3);break;case"YYYY":case"YYYYY":case"YYYYYY":o[ue]=_(e);break;case"a":case"A":n._isPm=M(n._l).isPM(e);break;case"H":case"HH":case"h":case"hh":o[he]=_(e);break;case"m":case"mm":o[fe]=_(e);break;case"s":case"ss":o[de]=_(e);break;case"S":case"SS":case"SSS":case"SSSS":o[pe]=_(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=O(e);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":t=t.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=e)}}function U(t){var e,n,i,o,r,s,a,u,l,c,h=[];if(!t._d){for(i=R(t),t._w&&null==t._a[ce]&&null==t._a[le]&&(r=function(e){var n=parseInt(e,10);return e?e.length<3?n>68?1900+n:2e3+n:n:null==t._a[ue]?ie().weekYear():t._a[ue]},s=t._w,null!=s.GG||null!=s.W||null!=s.E?a=X(r(s.GG),s.W||1,s.E,4,1):(u=M(t._l),l=null!=s.d?V(s.d,u):null!=s.e?parseInt(s.e,10)+u._week.dow:0,c=parseInt(s.w,10)||1,null!=s.d&&l<u._week.dow&&c++,a=X(r(s.gg),c,l,u._week.doy,u._week.dow)),t._a[ue]=a.year,t._dayOfYear=a.dayOfYear),t._dayOfYear&&(o=null==t._a[ue]?i[ue]:t._a[ue],t._dayOfYear>$(o)&&(t._pf._overflowDayOfYear=!0),n=Y(o,0,t._dayOfYear),t._a[le]=n.getUTCMonth(),t._a[ce]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=h[e]=i[e];for(;7>e;e++)t._a[e]=h[e]=null==t._a[e]?2===e?1:0:t._a[e];h[he]+=_((t._tzm||0)/60),h[fe]+=_((t._tzm||0)%60),t._d=(t._useUTC?Y:W).apply(null,h)}}function N(t){var e;t._d||(e=g(t._i),t._a=[e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond],U(t))}function R(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function B(t){t._a=[],t._pf.empty=!0;var e,n,i,o,r,s=M(t._l),a=""+t._i,u=a.length,l=0;for(i=E(t._f,s).match(we)||[],e=0;e<i.length;e++)o=i[e],n=(a.match(A(o,t))||[])[0],n&&(r=a.substr(0,a.indexOf(n)),r.length>0&&t._pf.unusedInput.push(r),a=a.slice(a.indexOf(n)+n.length),l+=n.length),Je[o]?(n?t._pf.empty=!1:t._pf.unusedTokens.push(o),I(o,n,t)):t._strict&&!n&&t._pf.unusedTokens.push(o);t._pf.charsLeftOver=u-l,a.length>0&&t._pf.unusedInput.push(a),t._isPm&&t._a[he]<12&&(t._a[he]+=12),t._isPm===!1&&12===t._a[he]&&(t._a[he]=0),U(t),b(t)}function z(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,o){return e||n||i||o})}function j(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function F(t){var n,i,o,r,s;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(0/0));for(r=0;r<t._f.length;r++)s=0,n=a({},t),n._pf=e(),n._f=t._f[r],B(n),x(n)&&(s+=n._pf.charsLeftOver,s+=10*n._pf.unusedTokens.length,n._pf.score=s,(null==o||o>s)&&(o=s,i=n));a(t,i||n)}function H(t){var e,n,i=t._i,o=Re.exec(i);if(o){for(t._pf.iso=!0,e=0,n=ze.length;n>e;e++)if(ze[e][1].exec(i)){t._f=ze[e][0]+(o[6]||" ");break}for(e=0,n=je.length;n>e;e++)if(je[e][1].exec(i)){t._f+=je[e][0];break}i.match(Te)&&(t._f+="Z"),B(t)}else t._d=new Date(i)}function Z(e){var n=e._i,i=_e.exec(n);n===t?e._d=new Date:i?e._d=new Date(+i[1]):"string"==typeof n?H(e):f(n)?(e._a=n.slice(0),U(e)):d(n)?e._d=new Date(+n):"object"==typeof n?N(e):e._d=new Date(n)}function W(t,e,n,i,o,r,s){var a=new Date(t,e,n,i,o,r,s);return 1970>t&&a.setFullYear(t),a}function Y(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function V(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function q(t,e,n,i,o){return o.relativeTime(e||1,!!n,t,i)}function G(t,e,n){var i=ae(Math.abs(t)/1e3),o=ae(i/60),r=ae(o/60),s=ae(r/24),a=ae(s/365),u=45>i&&["s",i]||1===o&&["m"]||45>o&&["mm",o]||1===r&&["h"]||22>r&&["hh",r]||1===s&&["d"]||25>=s&&["dd",s]||45>=s&&["M"]||345>s&&["MM",ae(s/30)]||1===a&&["y"]||["yy",a];return u[2]=e,u[3]=t>0,u[4]=n,q.apply({},u)}function J(t,e,n){var i,o=n-e,r=n-t.day();return r>o&&(r-=7),o-7>r&&(r+=7),i=ie(t).add("d",r),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function X(t,e,n,i,o){var r,s,a=Y(t,0,1).getUTCDay();return n=null!=n?n:o,r=o-a+(a>i?7:0)-(o>a?7:0),s=7*(e-1)+(n-o)+r+1,{year:s>0?t:t-1,dayOfYear:s>0?s:$(t-1)+s}}function K(t){var e=t._i,n=t._f;return null===e?ie.invalid({nullInput:!0}):("string"==typeof e&&(t._i=e=M().preparse(e)),ie.isMoment(e)?(t=u(e),t._d=new Date(+e._d)):n?f(n)?F(t):B(t):Z(t),new r(t))}function Q(t,e){ie.fn[t]=ie.fn[t+"s"]=function(t){var n=this._isUTC?"UTC":"";return null!=t?(this._d["set"+n+e](t),ie.updateOffset(this),this):this._d["get"+n+e]()}}function te(t){ie.duration.fn[t]=function(){return this._data[t]}}function ee(t,e){ie.duration.fn["as"+t]=function(){return+this/e}}function ne(t){var e=!1,n=ie;"undefined"==typeof ender&&(t?(se.moment=function(){return!e&&console&&console.warn&&(e=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),n.apply(null,arguments)},a(se.moment,n)):se.moment=ie)}for(var ie,oe,re="2.5.1",se=this,ae=Math.round,ue=0,le=1,ce=2,he=3,fe=4,de=5,pe=6,me={},ge={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},ve="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require,_e=/^\/?Date\((\-?\d+)/i,ye=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,$e=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,we=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,be=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,xe=/\d\d?/,Pe=/\d{1,3}/,Le=/\d{1,4}/,Ce=/[+\-]?\d{1,6}/,Se=/\d+/,Me=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Te=/Z|[\+\-]\d\d:?\d\d/gi,ke=/T/i,De=/[\+\-]?\d+(\.\d{1,3})?/,Ee=/\d/,Ae=/\d\d/,Oe=/\d{3}/,Ie=/\d{4}/,Ue=/[+-]?\d{6}/,Ne=/[+-]?\d+/,Re=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Be="YYYY-MM-DDTHH:mm:ssZ",ze=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],je=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Fe=/([\+\-]|\d\d)/gi,He="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),Ze={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},We={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Ye={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Ve={},qe="DDD w W M D d".split(" "),Ge="M D H h m s w W".split(" "),Je={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return c(this.year()%100,2)},YYYY:function(){return c(this.year(),4)},YYYYY:function(){return c(this.year(),5)},YYYYYY:function(){var t=this.year(),e=t>=0?"+":"-";return e+c(Math.abs(t),6)},gg:function(){return c(this.weekYear()%100,2)},gggg:function(){return c(this.weekYear(),4)},ggggg:function(){return c(this.weekYear(),5)},GG:function(){return c(this.isoWeekYear()%100,2)},GGGG:function(){return c(this.isoWeekYear(),4)},GGGGG:function(){return c(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return _(this.milliseconds()/100)},SS:function(){return c(_(this.milliseconds()/10),2)},SSS:function(){return c(this.milliseconds(),3)},SSSS:function(){return c(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+c(_(t/60),2)+":"+c(_(t)%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+c(_(t/60),2)+c(_(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Xe=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];qe.length;)oe=qe.pop(),Je[oe+"o"]=i(Je[oe],oe);for(;Ge.length;)oe=Ge.pop(),Je[oe+oe]=n(Je[oe],2);for(Je.DDDD=n(Je.DDD,3),a(o.prototype,{set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,i;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(n=ie.utc([2e3,e]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(i.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=ie([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var o=this._relativeTime[n];return"function"==typeof o?o(t,e,n,i):o.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return J(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),ie=function(n,i,o,r){var s;return"boolean"==typeof o&&(r=o,o=t),s={},s._isAMomentObject=!0,s._i=n,s._f=i,s._l=o,s._strict=r,s._isUTC=!1,s._pf=e(),K(s)},ie.utc=function(n,i,o,r){var s;return"boolean"==typeof o&&(r=o,o=t),s={},s._isAMomentObject=!0,s._useUTC=!0,s._isUTC=!0,s._l=o,s._i=n,s._f=i,s._strict=r,s._pf=e(),K(s).utc()},ie.unix=function(t){return ie(1e3*t)},ie.duration=function(t,e){var n,i,o,r=t,a=null;return ie.isDuration(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(r={},e?r[e]=t:r.milliseconds=t):(a=ye.exec(t))?(n="-"===a[1]?-1:1,r={y:0,d:_(a[ce])*n,h:_(a[he])*n,m:_(a[fe])*n,s:_(a[de])*n,ms:_(a[pe])*n}):(a=$e.exec(t))&&(n="-"===a[1]?-1:1,o=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*n},r={y:o(a[2]),M:o(a[3]),d:o(a[4]),h:o(a[5]),m:o(a[6]),s:o(a[7]),w:o(a[8])}),i=new s(r),ie.isDuration(t)&&t.hasOwnProperty("_lang")&&(i._lang=t._lang),i},ie.version=re,ie.defaultFormat=Be,ie.updateOffset=function(){},ie.lang=function(t,e){var n;return t?(e?C(P(t),e):null===e?(S(t),t="en"):me[t]||M(t),n=ie.duration.fn._lang=ie.fn._lang=M(t),n._abbr):ie.fn._lang._abbr},ie.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),M(t)},ie.isMoment=function(t){return t instanceof r||null!=t&&t.hasOwnProperty("_isAMomentObject")},ie.isDuration=function(t){return t instanceof s},oe=Xe.length-1;oe>=0;--oe)v(Xe[oe]);for(ie.normalizeUnits=function(t){return m(t)},ie.invalid=function(t){var e=ie.utc(0/0);return null!=t?a(e._pf,t):e._pf.userInvalidated=!0,e},ie.parseZone=function(t){return ie(t).parseZone()},a(ie.fn=r.prototype,{clone:function(){return ie(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=ie(this).utc();return 0<t.year()&&t.year()<=9999?D(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):D(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return x(this)},isDSTShifted:function(){return this._a?this.isValid()&&p(this._a,(this._isUTC?ie.utc(this._a):ie(this._a)).toArray())>0:!1},parsingFlags:function(){return a({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=D(this,t||ie.defaultFormat);return this.lang().postformat(e)},add:function(t,e){var n;return n="string"==typeof t?ie.duration(+e,t):ie.duration(t,e),h(this,n,1),this},subtract:function(t,e){var n;return n="string"==typeof t?ie.duration(+e,t):ie.duration(t,e),h(this,n,-1),this},diff:function(t,e,n){var i,o,r=L(t,this),s=6e4*(this.zone()-r.zone());return e=m(e),"year"===e||"month"===e?(i=432e5*(this.daysInMonth()+r.daysInMonth()),o=12*(this.year()-r.year())+(this.month()-r.month()),o+=(this-ie(this).startOf("month")-(r-ie(r).startOf("month")))/i,o-=6e4*(this.zone()-ie(this).startOf("month").zone()-(r.zone()-ie(r).startOf("month").zone()))/i,"year"===e&&(o/=12)):(i=this-r,o="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-s)/864e5:"week"===e?(i-s)/6048e5:i),n?o:l(o)},from:function(t,e){return ie.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(ie(),t)},calendar:function(){var t=L(ie(),this).startOf("day"),e=this.diff(t,"days",!0),n=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},isLeapYear:function(){return w(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=V(t,this.lang()),this.add({d:t-e})):e},month:function(t){var e,n=this._isUTC?"UTC":"";return null!=t?"string"==typeof t&&(t=this.lang().monthsParse(t),"number"!=typeof t)?this:(e=this.date(),this.date(1),this._d["set"+n+"Month"](t),this.date(Math.min(e,this.daysInMonth())),ie.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(t){switch(t=m(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),this},endOf:function(t){return t=m(t),this.startOf(t).add("isoWeek"===t?"week":t,1).subtract("ms",1)},isAfter:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)>+ie(t).startOf(e)},isBefore:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)<+ie(t).startOf(e)},isSame:function(t,e){return e=e||"ms",+this.clone().startOf(e)===+L(t,this).startOf(e)},min:function(t){return t=ie.apply(null,arguments),this>t?this:t},max:function(t){return t=ie.apply(null,arguments),t>this?this:t},zone:function(t){var e=this._offset||0;return null==t?this._isUTC?e:this._d.getTimezoneOffset():("string"==typeof t&&(t=O(t)),Math.abs(t)<16&&(t=60*t),this._offset=t,this._isUTC=!0,e!==t&&h(this,ie.duration(e-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(t){return t=t?ie(t).zone():0,(this.zone()-t)%60===0},daysInMonth:function(){return y(this.year(),this.month())},dayOfYear:function(t){var e=ae((ie(this).startOf("day")-ie(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(t){var e=J(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=J(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=J(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this.day()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},get:function(t){return t=m(t),this[t]()},set:function(t,e){return t=m(t),"function"==typeof this[t]&&this[t](e),this},lang:function(e){return e===t?this._lang:(this._lang=M(e),this)}}),oe=0;oe<He.length;oe++)Q(He[oe].toLowerCase().replace(/s$/,""),He[oe]);Q("year","FullYear"),ie.fn.days=ie.fn.day,ie.fn.months=ie.fn.month,ie.fn.weeks=ie.fn.week,ie.fn.isoWeeks=ie.fn.isoWeek,ie.fn.toJSON=ie.fn.toISOString,a(ie.duration.fn=s.prototype,{_bubble:function(){var t,e,n,i,o=this._milliseconds,r=this._days,s=this._months,a=this._data;a.milliseconds=o%1e3,t=l(o/1e3),a.seconds=t%60,e=l(t/60),a.minutes=e%60,n=l(e/60),a.hours=n%24,r+=l(n/24),a.days=r%30,s+=l(r/30),a.months=s%12,i=l(s/12),a.years=i},weeks:function(){return l(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12)},humanize:function(t){var e=+this,n=G(e,!t,this.lang());return t&&(n=this.lang().pastFuture(e,n)),this.lang().postformat(n)},add:function(t,e){var n=ie.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=ie.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=m(t),this[t.toLowerCase()+"s"]()},as:function(t){return t=m(t),this["as"+t.charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:ie.fn.lang,toIsoString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),o=Math.abs(this.minutes()),r=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(i||o||r?"T":"")+(i?i+"H":"")+(o?o+"M":"")+(r?r+"S":""):"P0D"}});for(oe in Ze)Ze.hasOwnProperty(oe)&&(ee(oe,Ze[oe]),te(oe.toLowerCase()));ee("Weeks",6048e5),ie.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},ie.lang("en",{ordinal:function(t){var e=t%10,n=1===_(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),ve?(module.exports=ie,ne(!0)):"function"==typeof define&&define.amd?define("moment",function(e,n,i){return i.config&&i.config()&&i.config().noGlobal!==!0&&ne(i.config().noGlobal===t),ie}):ne()}.call(this);var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},FastClick.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},FastClick.prototype.sendClick=function(t,e){"use strict";var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},FastClick.prototype.determineEventType=function(t){"use strict";return deviceIsAndroid&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(t){"use strict";var e;deviceIsIOS&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},FastClick.prototype.updateScrollParent=function(t){"use strict";var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},FastClick.prototype.onTouchStart=function(t){"use strict";var e,n,i;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],deviceIsIOS){if(i=window.getSelection(),i.rangeCount&&!i.isCollapsed)return!0;if(!deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n?!0:!1},FastClick.prototype.onTouchMove=function(t){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(t){"use strict";var e,n,i,o,r,s=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(r=t.changedTouches[0],s=document.elementFromPoint(r.pageX-window.pageXOffset,r.pageY-window.pageYOffset)||s,s.fastClickScrollParent=this.targetElement.fastClickScrollParent),i=s.tagName.toLowerCase(),"label"===i){if(e=this.findControl(s)){if(this.focus(s),deviceIsAndroid)return!1;s=e}}else if(this.needsFocus(s))return t.timeStamp-n>100||deviceIsIOS&&window.top!==window&&"input"===i?(this.targetElement=null,!1):(this.focus(s),this.sendClick(s,t),deviceIsIOS&&"select"===i||(this.targetElement=null,t.preventDefault()),!1);return deviceIsIOS&&!deviceIsIOS4&&(o=s.fastClickScrollParent,o&&o.fastClickLastScrollTop!==o.scrollTop)?!0:(this.needsClick(s)||(t.preventDefault(),this.sendClick(s,t)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(t){"use strict";return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},FastClick.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},FastClick.prototype.destroy=function(){"use strict";var t=this.layer;deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(t){"use strict";var e,n;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(n>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===t.style.msTouchAction?!0:!1},FastClick.attach=function(t,e){"use strict";return new FastClick(t,e)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,function(){var t=this,e=t._,n={},i=Array.prototype,o=Object.prototype,r=Function.prototype,s=i.push,a=i.slice,u=i.concat,l=o.toString,c=o.hasOwnProperty,h=i.forEach,f=i.map,d=i.reduce,p=i.reduceRight,m=i.filter,g=i.every,v=i.some,_=i.indexOf,y=i.lastIndexOf,$=Array.isArray,w=Object.keys,b=r.bind,x=function(t){return t instanceof x?t:this instanceof x?void(this._wrapped=t):new x(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):t._=x,x.VERSION="1.6.0";var P=x.each=x.forEach=function(t,e,i){if(null==t)return t;if(h&&t.forEach===h)t.forEach(e,i);else if(t.length===+t.length){for(var o=0,r=t.length;r>o;o++)if(e.call(i,t[o],o,t)===n)return}else for(var s=x.keys(t),o=0,r=s.length;r>o;o++)if(e.call(i,t[s[o]],s[o],t)===n)return;return t};x.map=x.collect=function(t,e,n){var i=[];return null==t?i:f&&t.map===f?t.map(e,n):(P(t,function(t,o,r){i.push(e.call(n,t,o,r))}),i)};var L="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(t,e,n,i){var o=arguments.length>2;if(null==t&&(t=[]),d&&t.reduce===d)return i&&(e=x.bind(e,i)),o?t.reduce(e,n):t.reduce(e);if(P(t,function(t,r,s){o?n=e.call(i,n,t,r,s):(n=t,o=!0)}),!o)throw new TypeError(L);return n},x.reduceRight=x.foldr=function(t,e,n,i){var o=arguments.length>2;if(null==t&&(t=[]),p&&t.reduceRight===p)return i&&(e=x.bind(e,i)),o?t.reduceRight(e,n):t.reduceRight(e);var r=t.length;if(r!==+r){var s=x.keys(t);r=s.length}if(P(t,function(a,u,l){u=s?s[--r]:--r,o?n=e.call(i,n,t[u],u,l):(n=t[u],o=!0)}),!o)throw new TypeError(L);return n},x.find=x.detect=function(t,e,n){var i;return C(t,function(t,o,r){return e.call(n,t,o,r)?(i=t,!0):void 0}),i},x.filter=x.select=function(t,e,n){var i=[];return null==t?i:m&&t.filter===m?t.filter(e,n):(P(t,function(t,o,r){e.call(n,t,o,r)&&i.push(t)}),i)},x.reject=function(t,e,n){return x.filter(t,function(t,i,o){return!e.call(n,t,i,o)},n)},x.every=x.all=function(t,e,i){e||(e=x.identity);var o=!0;return null==t?o:g&&t.every===g?t.every(e,i):(P(t,function(t,r,s){return(o=o&&e.call(i,t,r,s))?void 0:n}),!!o)};var C=x.some=x.any=function(t,e,i){e||(e=x.identity);var o=!1;return null==t?o:v&&t.some===v?t.some(e,i):(P(t,function(t,r,s){return o||(o=e.call(i,t,r,s))?n:void 0}),!!o)};x.contains=x.include=function(t,e){return null==t?!1:_&&t.indexOf===_?-1!=t.indexOf(e):C(t,function(t){return t===e})},x.invoke=function(t,e){var n=a.call(arguments,2),i=x.isFunction(e);return x.map(t,function(t){return(i?e:t[e]).apply(t,n)
})},x.pluck=function(t,e){return x.map(t,x.property(e))},x.where=function(t,e){return x.filter(t,x.matches(e))},x.findWhere=function(t,e){return x.find(t,x.matches(e))},x.max=function(t,e,n){if(!e&&x.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);var i=-1/0,o=-1/0;return P(t,function(t,r,s){var a=e?e.call(n,t,r,s):t;a>o&&(i=t,o=a)}),i},x.min=function(t,e,n){if(!e&&x.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);var i=1/0,o=1/0;return P(t,function(t,r,s){var a=e?e.call(n,t,r,s):t;o>a&&(i=t,o=a)}),i},x.shuffle=function(t){var e,n=0,i=[];return P(t,function(t){e=x.random(n++),i[n-1]=i[e],i[e]=t}),i},x.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=x.values(t)),t[x.random(t.length-1)]):x.shuffle(t).slice(0,Math.max(0,e))};var S=function(t){return null==t?x.identity:x.isFunction(t)?t:x.property(t)};x.sortBy=function(t,e,n){return e=S(e),x.pluck(x.map(t,function(t,i,o){return{value:t,index:i,criteria:e.call(n,t,i,o)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var M=function(t){return function(e,n,i){var o={};return n=S(n),P(e,function(r,s){var a=n.call(i,r,s,e);t(o,a,r)}),o}};x.groupBy=M(function(t,e,n){x.has(t,e)?t[e].push(n):t[e]=[n]}),x.indexBy=M(function(t,e,n){t[e]=n}),x.countBy=M(function(t,e){x.has(t,e)?t[e]++:t[e]=1}),x.sortedIndex=function(t,e,n,i){n=S(n);for(var o=n.call(i,e),r=0,s=t.length;s>r;){var a=r+s>>>1;n.call(i,t[a])<o?r=a+1:s=a}return r},x.toArray=function(t){return t?x.isArray(t)?a.call(t):t.length===+t.length?x.map(t,x.identity):x.values(t):[]},x.size=function(t){return null==t?0:t.length===+t.length?t.length:x.keys(t).length},x.first=x.head=x.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:0>e?[]:a.call(t,0,e)},x.initial=function(t,e,n){return a.call(t,0,t.length-(null==e||n?1:e))},x.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},x.rest=x.tail=x.drop=function(t,e,n){return a.call(t,null==e||n?1:e)},x.compact=function(t){return x.filter(t,x.identity)};var T=function(t,e,n){return e&&x.every(t,x.isArray)?u.apply(n,t):(P(t,function(t){x.isArray(t)||x.isArguments(t)?e?s.apply(n,t):T(t,e,n):n.push(t)}),n)};x.flatten=function(t,e){return T(t,e,[])},x.without=function(t){return x.difference(t,a.call(arguments,1))},x.partition=function(t,e){var n=[],i=[];return P(t,function(t){(e(t)?n:i).push(t)}),[n,i]},x.uniq=x.unique=function(t,e,n,i){x.isFunction(e)&&(i=n,n=e,e=!1);var o=n?x.map(t,n,i):t,r=[],s=[];return P(o,function(n,i){(e?i&&s[s.length-1]===n:x.contains(s,n))||(s.push(n),r.push(t[i]))}),r},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(t){var e=a.call(arguments,1);return x.filter(x.uniq(t),function(t){return x.every(e,function(e){return x.contains(e,t)})})},x.difference=function(t){var e=u.apply(i,a.call(arguments,1));return x.filter(t,function(t){return!x.contains(e,t)})},x.zip=function(){for(var t=x.max(x.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;t>n;n++)e[n]=x.pluck(arguments,""+n);return e},x.object=function(t,e){if(null==t)return{};for(var n={},i=0,o=t.length;o>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},x.indexOf=function(t,e,n){if(null==t)return-1;var i=0,o=t.length;if(n){if("number"!=typeof n)return i=x.sortedIndex(t,e),t[i]===e?i:-1;i=0>n?Math.max(0,o+n):n}if(_&&t.indexOf===_)return t.indexOf(e,n);for(;o>i;i++)if(t[i]===e)return i;return-1},x.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=null!=n;if(y&&t.lastIndexOf===y)return i?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var o=i?n:t.length;o--;)if(t[o]===e)return o;return-1},x.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((e-t)/n),0),o=0,r=new Array(i);i>o;)r[o++]=t,t+=n;return r};var k=function(){};x.bind=function(t,e){var n,i;if(b&&t.bind===b)return b.apply(t,a.call(arguments,1));if(!x.isFunction(t))throw new TypeError;return n=a.call(arguments,2),i=function(){if(!(this instanceof i))return t.apply(e,n.concat(a.call(arguments)));k.prototype=t.prototype;var o=new k;k.prototype=null;var r=t.apply(o,n.concat(a.call(arguments)));return Object(r)===r?r:o}},x.partial=function(t){var e=a.call(arguments,1);return function(){for(var n=0,i=e.slice(),o=0,r=i.length;r>o;o++)i[o]===x&&(i[o]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return t.apply(this,i)}},x.bindAll=function(t){var e=a.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return P(e,function(e){t[e]=x.bind(t[e],t)}),t},x.memoize=function(t,e){var n={};return e||(e=x.identity),function(){var i=e.apply(this,arguments);return x.has(n,i)?n[i]:n[i]=t.apply(this,arguments)}},x.delay=function(t,e){var n=a.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},x.defer=function(t){return x.delay.apply(x,[t,1].concat(a.call(arguments,1)))},x.throttle=function(t,e,n){var i,o,r,s=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:x.now(),s=null,r=t.apply(i,o),i=o=null};return function(){var l=x.now();a||n.leading!==!1||(a=l);var c=e-(l-a);return i=this,o=arguments,0>=c?(clearTimeout(s),s=null,a=l,r=t.apply(i,o),i=o=null):s||n.trailing===!1||(s=setTimeout(u,c)),r}},x.debounce=function(t,e,n){var i,o,r,s,a,u=function(){var l=x.now()-s;e>l?i=setTimeout(u,e-l):(i=null,n||(a=t.apply(r,o),r=o=null))};return function(){r=this,o=arguments,s=x.now();var l=n&&!i;return i||(i=setTimeout(u,e)),l&&(a=t.apply(r,o),r=o=null),a}},x.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},x.wrap=function(t,e){return x.partial(e,t)},x.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},x.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},x.keys=function(t){if(!x.isObject(t))return[];if(w)return w(t);var e=[];for(var n in t)x.has(t,n)&&e.push(n);return e},x.values=function(t){for(var e=x.keys(t),n=e.length,i=new Array(n),o=0;n>o;o++)i[o]=t[e[o]];return i},x.pairs=function(t){for(var e=x.keys(t),n=e.length,i=new Array(n),o=0;n>o;o++)i[o]=[e[o],t[e[o]]];return i},x.invert=function(t){for(var e={},n=x.keys(t),i=0,o=n.length;o>i;i++)e[t[n[i]]]=n[i];return e},x.functions=x.methods=function(t){var e=[];for(var n in t)x.isFunction(t[n])&&e.push(n);return e.sort()},x.extend=function(t){return P(a.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},x.pick=function(t){var e={},n=u.apply(i,a.call(arguments,1));return P(n,function(n){n in t&&(e[n]=t[n])}),e},x.omit=function(t){var e={},n=u.apply(i,a.call(arguments,1));for(var o in t)x.contains(n,o)||(e[o]=t[o]);return e},x.defaults=function(t){return P(a.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},x.clone=function(t){return x.isObject(t)?x.isArray(t)?t.slice():x.extend({},t):t},x.tap=function(t,e){return e(t),t};var D=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof x&&(t=t._wrapped),e instanceof x&&(e=e._wrapped);var o=l.call(t);if(o!=l.call(e))return!1;switch(o){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var r=n.length;r--;)if(n[r]==t)return i[r]==e;var s=t.constructor,a=e.constructor;if(s!==a&&!(x.isFunction(s)&&s instanceof s&&x.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1;n.push(t),i.push(e);var u=0,c=!0;if("[object Array]"==o){if(u=t.length,c=u==e.length)for(;u--&&(c=D(t[u],e[u],n,i)););}else{for(var h in t)if(x.has(t,h)&&(u++,!(c=x.has(e,h)&&D(t[h],e[h],n,i))))break;if(c){for(h in e)if(x.has(e,h)&&!u--)break;c=!u}}return n.pop(),i.pop(),c};x.isEqual=function(t,e){return D(t,e,[],[])},x.isEmpty=function(t){if(null==t)return!0;if(x.isArray(t)||x.isString(t))return 0===t.length;for(var e in t)if(x.has(t,e))return!1;return!0},x.isElement=function(t){return!(!t||1!==t.nodeType)},x.isArray=$||function(t){return"[object Array]"==l.call(t)},x.isObject=function(t){return t===Object(t)},P(["Arguments","Function","String","Number","Date","RegExp"],function(t){x["is"+t]=function(e){return l.call(e)=="[object "+t+"]"}}),x.isArguments(arguments)||(x.isArguments=function(t){return!(!t||!x.has(t,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(t){return"function"==typeof t}),x.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},x.isNaN=function(t){return x.isNumber(t)&&t!=+t},x.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==l.call(t)},x.isNull=function(t){return null===t},x.isUndefined=function(t){return void 0===t},x.has=function(t,e){return c.call(t,e)},x.noConflict=function(){return t._=e,this},x.identity=function(t){return t},x.constant=function(t){return function(){return t}},x.property=function(t){return function(e){return e[t]}},x.matches=function(t){return function(e){if(e===t)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0}},x.times=function(t,e,n){for(var i=Array(Math.max(0,t)),o=0;t>o;o++)i[o]=e.call(n,o);return i},x.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},x.now=Date.now||function(){return(new Date).getTime()};var E={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};E.unescape=x.invert(E.escape);var A={escape:new RegExp("["+x.keys(E.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(E.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(t){x[t]=function(e){return null==e?"":(""+e).replace(A[t],function(e){return E[t][e]})}}),x.result=function(t,e){if(null==t)return void 0;var n=t[e];return x.isFunction(n)?n.call(t):n},x.mixin=function(t){P(x.functions(t),function(e){var n=x[e]=t[e];x.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),R.call(this,n.apply(x,t))}})};var O=0;x.uniqueId=function(t){var e=++O+"";return t?t+e:e},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(t,e,n){var i;n=x.defaults({},n,x.templateSettings);var o=new RegExp([(n.escape||I).source,(n.interpolate||I).source,(n.evaluate||I).source].join("|")+"|$","g"),r=0,s="__p+='";t.replace(o,function(e,n,i,o,a){return s+=t.slice(r,a).replace(N,function(t){return"\\"+U[t]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(s+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),o&&(s+="';\n"+o+"\n__p+='"),r=a+e.length,e}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(n.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(e)return i(e,x);var u=function(t){return i.call(this,t,x)};return u.source="function("+(n.variable||"obj")+"){\n"+s+"}",u},x.chain=function(t){return x(t).chain()};var R=function(t){return this._chain?x(t).chain():t};x.mixin(x),P(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=i[t];x.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],R.call(this,n)}}),P(["concat","join","slice"],function(t){var e=i[t];x.prototype[t]=function(){return R.call(this,e.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return x})}.call(this);var safariFeed=angular.module("safariFeed",["firebase","ngRoute","ngAnimate","ngSanitize","safariFeedControllers","safariFeedServices"]);safariFeed.config(["$routeProvider",function(t){t.when("/",{templateUrl:"views/view-map.html",controller:"MapCtrl"}).when("/about",{templateUrl:"views/view-about.html",controller:"AboutCtrl"}).when("/list",{templateUrl:"views/view-list.html",controller:"ListCtrl"}).when("/update/:updateID",{templateUrl:"views/view-detail.html",controller:"DetailCtrl"}).otherwise({redirectTo:"/"})}]);var firebasePath="https://safarifeedtest.firebaseio.com",safariFeedControllers=angular.module("safariFeedControllers",[]);safariFeedControllers.controller("MapCtrl",["$scope","$firebase","$sanitize","mapService",function(t,e,n,i){t.isCommenting=!1,t.isThinking=!1,t.isLocating=!1,t.isPosting=!1,t.isCommentReady=!1,i.loadMap("map"),t.zoo=e(new Firebase(firebasePath+"/zoos/0")),t.updates=e(new Firebase(firebasePath+"/zoos/0/updates")),t.zoo.$on("loaded",function(t){i.getMapReady(t.center,t.bounds),i.addHeatMap(t.updates)}),t.updates.$on("child_added",function(t){i.addUpdate(t.snapshot.value,t.snapshot.name)}),t.openComments=function(){t.isCommenting=!0,t.isThinking=!0,t.isLocating=!0,geoPosition.init()&&geoPosition.getCurrentPosition(function(e){var n={latitude:e.coords.latitude,longitude:e.coords.longitude};i.addUserMarker(n),t.isThinking=!1,t.isLocating=!1,t.isCommentReady=!0,t.loc=n,t.$apply()},function(){alert("Sorry we can not find you")},{enableHighAccuracy:!0})},t.addComment=function(e){t.isCommentReady=!1,t.isThinking=!0,t.isPosting=!0,"undefined"==typeof t.email&&(i.testBounds(t.loc,t.zoo.bounds)?(t.updates.$add({comment:n(t.comment),sentiment:e,loc:t.loc,time:Date.now()}).then(function(){t.isThinking=!1,t.isPosting=!1,t.isCommenting=!1,i.removeUserMarker()}),t.comment=""):(alert("You need to be in the zoo to post an update."),t.isCommentReady=!0,t.isThinking=!1,t.isPosting=!1))},t.closeComment=function(){t.isCommenting=!1,t.isCommentReady=!1,i.removeUserMarker()}}]),safariFeedControllers.controller("ListCtrl",["$scope","$firebase","$sanitize",function(t,e){t.updates=e(new Firebase(firebasePath+"/zoos/0/updates")),t.formatTime=function(t){return moment(t).format("M/D/YY, h:mm A")}}]),safariFeedControllers.controller("DetailCtrl",["$scope","$firebase","$routeParams","$sanitize","mapService",function(t,e,n,i,o){o.loadMap("detail-map"),t.update=e(new Firebase(firebasePath+"/zoos/0/updates/"+n.updateID)),t.update.$on("loaded",function(t){o.centerOnLocation(t.loc.latitude,t.loc.longitude),o.addSingleMarker(t)}),t.formatTime=function(t){return moment(t).format("M/D/YY, h:mm A")}}]),safariFeedControllers.controller("AboutCtrl",["$scope",function(){}]);var safariFeedServices=angular.module("safariFeedServices",[]);safariFeedServices.service("mapService",function(){var t,e,n=[];this.loadMap=function(e){t=L.map(e),L.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(t)},this.getMapReady=function(e,n){t.setView(e.split(","),15),L.rectangle([[n.latMin,n.longMin],[n.latMax,n.longMax]],{color:"#f06060",stroke:3,fill:!1}).addTo(t)},this.addHeatMap=function(e){var n=new L.TileLayer.HeatCanvas({},{step:.5,degree:HeatCanvas.LINEAR,opacity:.7});_.each(e,function(t){var e=(new moment).hour(),i=new moment(t.time).hour();i===e&&"undefined"!=typeof t.loc.latitude&&"undefined"!=typeof t.loc.longitude&&n.pushData(t.loc.latitude,t.loc.longitude,15)}),L.control.layers(null,{"Historic Activity":n},{collapsed:!1}).addTo(t)},this.addUpdate=function(e,i){var o=new Date;if(o.setMinutes(o.getMinutes()-60),e.time>=o.valueOf()&&"undefined"!=typeof e.loc.latitude&&"undefined"!=typeof e.loc.longitude){var r=L.AwesomeMarkers.icon({icon:"smiley",markerColor:"green"});"neg"===e.sentiment&&(r=L.AwesomeMarkers.icon({icon:"sad",markerColor:"darkred"}));var s=L.marker([e.loc.latitude,e.loc.longitude],{icon:r}).bindPopup('<a href="#update/'+i+'"><strong>'+e.comment+"</strong></a><br><i>"+moment(e.time).format("M/D/YY, h:mm a")+"</i>");n.push(s),n[n.length-1].addTo(t)}},this.addUserMarker=function(n){var i=L.AwesomeMarkers.icon({icon:"bubble2",markerColor:"cadetblue"});e=L.marker([n.latitude,n.longitude],{icon:i,draggable:!0}),e.addTo(t),e.on("dragend",function(){var t=this.getLatLng();n.latitude=t.lat,n.longitude=t.lng})},this.removeUserMarker=function(){t.removeLayer(e)},this.centerOnLocation=function(e,n){t.setView([e,n],17)},this.addSingleMarker=function(e){if("undefined"!=typeof e.loc.latitude&&"undefined"!=typeof e.loc.longitude){var n=L.AwesomeMarkers.icon({icon:"smiley",markerColor:"green"});"neg"===e.sentiment&&(n=L.AwesomeMarkers.icon({icon:"sad",markerColor:"darkred"}));var i=L.marker([e.loc.latitude,e.loc.longitude],{icon:n});i.addTo(t)}},this.testBounds=function(t,e){return Math.abs(t.latitude)>=Math.abs(e.latMax)?0:Math.abs(t.latitude)<=Math.abs(e.latMin)?0:Math.abs(t.longitude)>=Math.abs(e.longMax)?0:Math.abs(t.longitude)<=Math.abs(e.longMin)?0:1}}).filter("reverse",function(){function t(t){var e,n=[];if(t)if(angular.isArray(t))n=t;else if("object"==typeof t)for(e in t)t.hasOwnProperty(e)&&n.push(t[e]);return n}return function(e){return t(e).slice().reverse()}});